(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function RE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function DS(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),t}var Zd={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function OS(){if(h_)return $l;h_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return $l.Fragment=e,$l.jsx=t,$l.jsxs=t,$l}var f_;function xS(){return f_||(f_=1,Zd.exports=OS()),Zd.exports}var xe=xS(),Wd={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function IS(){if(d_)return He;d_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function P(N,te,de){this.props=N,this.context=te,this.refs=B,this.updater=de||A}P.prototype.isReactComponent={},P.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},P.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function q(){}q.prototype=P.prototype;function ae(N,te,de){this.props=N,this.context=te,this.refs=B,this.updater=de||A}var G=ae.prototype=new q;G.constructor=ae,C(G,P.prototype),G.isPureReactComponent=!0;var ce=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function I(N,te,de,ue,be,ze){return de=ze.ref,{$$typeof:r,type:N,key:te,ref:de!==void 0?de:null,props:ze}}function R(N,te){return I(N.type,te,void 0,void 0,void 0,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function V(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(de){return te[de]})}var L=/\/+/g;function j(N,te){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):te.toString(36)}function O(){}function qe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(O,O):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function tt(N,te,de,ue,be){var ze=typeof N;(ze==="undefined"||ze==="boolean")&&(N=null);var Ce=!1;if(N===null)Ce=!0;else switch(ze){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(N.$$typeof){case r:case e:Ce=!0;break;case v:return Ce=N._init,tt(Ce(N._payload),te,de,ue,be)}}if(Ce)return be=be(N),Ce=ue===""?"."+j(N,0):ue,ce(be)?(de="",Ce!=null&&(de=Ce.replace(L,"$&/")+"/"),tt(be,te,de,"",function(Wn){return Wn})):be!=null&&(D(be)&&(be=R(be,de+(be.key==null||N&&N.key===be.key?"":(""+be.key).replace(L,"$&/")+"/")+Ce)),te.push(be)),1;Ce=0;var Lt=ue===""?".":ue+":";if(ce(N))for(var yt=0;yt<N.length;yt++)ue=N[yt],ze=Lt+j(ue,yt),Ce+=tt(ue,te,de,ze,be);else if(yt=b(N),typeof yt=="function")for(N=yt.call(N),yt=0;!(ue=N.next()).done;)ue=ue.value,ze=Lt+j(ue,yt++),Ce+=tt(ue,te,de,ze,be);else if(ze==="object"){if(typeof N.then=="function")return tt(qe(N),te,de,ue,be);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function Y(N,te,de){if(N==null)return N;var ue=[],be=0;return tt(N,ue,"","",function(ze){return te.call(de,ze,be++)}),ue}function fe(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(de){(N._status===0||N._status===-1)&&(N._status=1,N._result=de)},function(de){(N._status===0||N._status===-1)&&(N._status=2,N._result=de)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var ge=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return He.Children={map:Y,forEach:function(N,te,de){Y(N,function(){te.apply(this,arguments)},de)},count:function(N){var te=0;return Y(N,function(){te++}),te},toArray:function(N){return Y(N,function(te){return te})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},He.Component=P,He.Fragment=t,He.Profiler=a,He.PureComponent=ae,He.StrictMode=s,He.Suspense=m,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,He.__COMPILER_RUNTIME={__proto__:null,c:function(N){return le.H.useMemoCache(N)}},He.cache=function(N){return function(){return N.apply(null,arguments)}},He.cloneElement=function(N,te,de){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=C({},N.props),be=N.key,ze=void 0;if(te!=null)for(Ce in te.ref!==void 0&&(ze=void 0),te.key!==void 0&&(be=""+te.key),te)!U.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=de;else if(1<Ce){for(var Lt=Array(Ce),yt=0;yt<Ce;yt++)Lt[yt]=arguments[yt+2];ue.children=Lt}return I(N.type,be,void 0,void 0,ze,ue)},He.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},He.createElement=function(N,te,de){var ue,be={},ze=null;if(te!=null)for(ue in te.key!==void 0&&(ze=""+te.key),te)U.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=te[ue]);var Ce=arguments.length-2;if(Ce===1)be.children=de;else if(1<Ce){for(var Lt=Array(Ce),yt=0;yt<Ce;yt++)Lt[yt]=arguments[yt+2];be.children=Lt}if(N&&N.defaultProps)for(ue in Ce=N.defaultProps,Ce)be[ue]===void 0&&(be[ue]=Ce[ue]);return I(N,ze,void 0,void 0,null,be)},He.createRef=function(){return{current:null}},He.forwardRef=function(N){return{$$typeof:d,render:N}},He.isValidElement=D,He.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:fe}},He.memo=function(N,te){return{$$typeof:p,type:N,compare:te===void 0?null:te}},He.startTransition=function(N){var te=le.T,de={};le.T=de;try{var ue=N(),be=le.S;be!==null&&be(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(je,ge)}catch(ze){ge(ze)}finally{le.T=te}},He.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},He.use=function(N){return le.H.use(N)},He.useActionState=function(N,te,de){return le.H.useActionState(N,te,de)},He.useCallback=function(N,te){return le.H.useCallback(N,te)},He.useContext=function(N){return le.H.useContext(N)},He.useDebugValue=function(){},He.useDeferredValue=function(N,te){return le.H.useDeferredValue(N,te)},He.useEffect=function(N,te,de){var ue=le.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(N,te)},He.useId=function(){return le.H.useId()},He.useImperativeHandle=function(N,te,de){return le.H.useImperativeHandle(N,te,de)},He.useInsertionEffect=function(N,te){return le.H.useInsertionEffect(N,te)},He.useLayoutEffect=function(N,te){return le.H.useLayoutEffect(N,te)},He.useMemo=function(N,te){return le.H.useMemo(N,te)},He.useOptimistic=function(N,te){return le.H.useOptimistic(N,te)},He.useReducer=function(N,te,de){return le.H.useReducer(N,te,de)},He.useRef=function(N){return le.H.useRef(N)},He.useState=function(N){return le.H.useState(N)},He.useSyncExternalStore=function(N,te,de){return le.H.useSyncExternalStore(N,te,de)},He.useTransition=function(){return le.H.useTransition()},He.version="19.1.0",He}var m_;function sg(){return m_||(m_=1,Wd.exports=IS()),Wd.exports}var W=sg();const NS=RE(W);var em={exports:{}},Fl={},tm={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function MS(){return g_||(g_=1,function(r){function e(Y,fe){var ge=Y.length;Y.push(fe);e:for(;0<ge;){var je=ge-1>>>1,N=Y[je];if(0<a(N,fe))Y[je]=fe,Y[ge]=N,ge=je;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var fe=Y[0],ge=Y.pop();if(ge!==fe){Y[0]=ge;e:for(var je=0,N=Y.length,te=N>>>1;je<te;){var de=2*(je+1)-1,ue=Y[de],be=de+1,ze=Y[be];if(0>a(ue,ge))be<N&&0>a(ze,ue)?(Y[je]=ze,Y[be]=ge,je=be):(Y[je]=ue,Y[de]=ge,je=de);else if(be<N&&0>a(ze,ge))Y[je]=ze,Y[be]=ge,je=be;else break e}}return fe}function a(Y,fe){var ge=Y.sortIndex-fe.sortIndex;return ge!==0?ge:Y.id-fe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,w=null,b=3,A=!1,C=!1,B=!1,P=!1,q=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ce(Y){for(var fe=t(p);fe!==null;){if(fe.callback===null)s(p);else if(fe.startTime<=Y)s(p),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=t(p)}}function le(Y){if(B=!1,ce(Y),!C)if(t(m)!==null)C=!0,U||(U=!0,j());else{var fe=t(p);fe!==null&&tt(le,fe.startTime-Y)}}var U=!1,I=-1,R=5,D=-1;function V(){return P?!0:!(r.unstable_now()-D<R)}function L(){if(P=!1,U){var Y=r.unstable_now();D=Y;var fe=!0;try{e:{C=!1,B&&(B=!1,ae(I),I=-1),A=!0;var ge=b;try{t:{for(ce(Y),w=t(m);w!==null&&!(w.expirationTime>Y&&V());){var je=w.callback;if(typeof je=="function"){w.callback=null,b=w.priorityLevel;var N=je(w.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){w.callback=N,ce(Y),fe=!0;break t}w===t(m)&&s(m),ce(Y)}else s(m);w=t(m)}if(w!==null)fe=!0;else{var te=t(p);te!==null&&tt(le,te.startTime-Y),fe=!1}}break e}finally{w=null,b=ge,A=!1}fe=void 0}}finally{fe?j():U=!1}}}var j;if(typeof G=="function")j=function(){G(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,qe=O.port2;O.port1.onmessage=L,j=function(){qe.postMessage(null)}}else j=function(){q(L,0)};function tt(Y,fe){I=q(function(){Y(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var ge=b;b=fe;try{return Y()}finally{b=ge}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(Y,fe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=b;b=Y;try{return fe()}finally{b=ge}},r.unstable_scheduleCallback=function(Y,fe,ge){var je=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ge+N,Y={id:v++,callback:fe,priorityLevel:Y,startTime:ge,expirationTime:N,sortIndex:-1},ge>je?(Y.sortIndex=ge,e(p,Y),t(m)===null&&Y===t(p)&&(B?(ae(I),I=-1):B=!0,tt(le,ge-je))):(Y.sortIndex=N,e(m,Y),C||A||(C=!0,U||(U=!0,j()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var fe=b;return function(){var ge=b;b=fe;try{return Y.apply(this,arguments)}finally{b=ge}}}}(nm)),nm}var p_;function VS(){return p_||(p_=1,tm.exports=MS()),tm.exports}var rm={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function PS(){if(y_)return bn;y_=1;var r=sg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:m,containerInfo:p,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},bn.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},bn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},bn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},bn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,w=d(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:A}):v==="script"&&s.d.X(m,{crossOrigin:w,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},bn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,w=d(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},bn.requestFormReset=function(m){s.d.r(m)},bn.unstable_batchedUpdates=function(m,p){return m(p)},bn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.1.0",bn}var v_;function CE(){if(v_)return rm.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=PS(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function kS(){if(__)return Fl;__=1;var r=VS(),e=sg(),t=CE();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function m(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),i;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,T=f.child;T;){if(T===o){E=!0,o=f,u=g;break}if(T===u){E=!0,u=f,o=g;break}T=T.sibling}if(!E){for(T=g.child;T;){if(T===o){E=!0,o=g,u=f;break}if(T===u){E=!0,u=g,o=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case U:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case G:return(n.displayName||"Context")+".Provider";case ae:return(n._context.displayName||"Context")+".Consumer";case ce:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:qe(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return qe(n(i))}catch{}}return null}var tt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],N=-1;function te(n){return{current:n}}function de(n){0>N||(n.current=je[N],je[N]=null,N--)}function ue(n,i){N++,je[N]=n.current,n.current=i}var be=te(null),ze=te(null),Ce=te(null),Lt=te(null);function yt(n,i){switch(ue(Ce,i),ue(ze,n),ue(be,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?jv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=jv(i),n=zv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(be),ue(be,n)}function Wn(){de(be),de(ze),de(Ce)}function Ct(n){n.memoizedState!==null&&ue(Lt,n);var i=be.current,o=zv(i,n.type);i!==o&&(ue(ze,n),ue(be,o))}function vn(n){ze.current===n&&(de(be),de(ze)),Lt.current===n&&(de(Lt),jl._currentValue=ge)}var xr=Object.prototype.hasOwnProperty,ai=r.unstable_scheduleCallback,Cn=r.unstable_cancelCallback,Ms=r.unstable_shouldYield,Ra=r.unstable_requestPaint,Dn=r.unstable_now,Go=r.unstable_getCurrentPriorityLevel,Vs=r.unstable_ImmediatePriority,Li=r.unstable_UserBlockingPriority,oi=r.unstable_NormalPriority,wr=r.unstable_LowPriority,er=r.unstable_IdlePriority,Ui=r.log,ji=r.unstable_setDisableYieldValue,ct=null,$e=null;function _n(n){if(typeof Ui=="function"&&ji(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ct,n)}catch{}}var Ut=Math.clz32?Math.clz32:Ir,Ca=Math.log,tr=Math.LN2;function Ir(n){return n>>>=0,n===0?32:31-(Ca(n)/tr|0)|0}var Nr=256,Mr=4194304;function zn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function li(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~g,u!==0?f=zn(u):(E&=T,E!==0?f=zn(E):o||(o=T&~n,o!==0&&(f=zn(o))))):(T=u&~g,T!==0?f=zn(T):E!==0?f=zn(E):o||(o=u&~n,o!==0&&(f=zn(o)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:f}function nr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function zi(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(){var n=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),n}function Ps(){var n=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),n}function rr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function br(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bi(n,i,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,x=n.expirationTimes,Q=n.hiddenUpdates;for(o=E&~o;0<o;){var ee=31-Ut(o),re=1<<ee;T[ee]=0,x[ee]=-1;var X=Q[ee];if(X!==null)for(Q[ee]=null,ee=0;ee<X.length;ee++){var J=X[ee];J!==null&&(J.lane&=-536870913)}o&=~re}u!==0&&On(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~i))}function On(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Ut(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Vr(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-Ut(o),f=1<<u;f&i|n[u]&i&&(n[u]|=i),o&=~f}}function Pr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function M(){var n=fe.p;return n!==0?n:(n=window.event,n===void 0?32:s_(n.type))}function H(n,i){var o=fe.p;try{return fe.p=n,i()}finally{fe.p=o}}var K=Math.random().toString(36).slice(2),ie="__reactFiber$"+K,he="__reactProps$"+K,pe="__reactContainer$"+K,Ae="__reactEvents$"+K,ve="__reactListeners$"+K,we="__reactHandles$"+K,Ee="__reactResources$"+K,Ie="__reactMarker$"+K;function Re(n){delete n[ie],delete n[he],delete n[Ae],delete n[ve],delete n[we]}function Ve(n){var i=n[ie];if(i)return i;for(var o=n.parentNode;o;){if(i=o[pe]||o[ie]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=$v(n);n!==null;){if(o=n[ie])return o;n=$v(n)}return i}n=o,o=n.parentNode}return null}function Qe(n){if(n=n[ie]||n[pe]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ft(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function lt(n){var i=n[Ee];return i||(i=n[Ee]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Ie]=!0}var Ge=new Set,ir={};function Gt(n,i){xn(n,i),xn(n+"Capture",i)}function xn(n,i){for(ir[n]=i,n=0;n<i.length;n++)Ge.add(i[n])}var un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kr={},Bn={};function Hi(n){return xr.call(Bn,n)?!0:xr.call(kr,n)?!1:un.test(n)?Bn[n]=!0:(kr[n]=!0,!1)}function En(n,i,o){if(Hi(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function In(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function ke(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var jt,qn;function Vn(n){if(jt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);jt=i&&i[1]||"",qn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+n+qn}var Lr=!1;function bt(n,i){if(!n||Lr)return"";Lr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var X=J}Reflect.construct(n,[],re)}else{try{re.call()}catch(J){X=J}n.call(re.prototype)}}else{try{throw Error()}catch(J){X=J}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],T=g[1];if(E&&T){var x=E.split(`
`),Q=T.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===Q.length)for(u=x.length-1,f=Q.length-1;1<=u&&0<=f&&x[u]!==Q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==Q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==Q[f]){var ee=`
`+x[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=f);break}}}finally{Lr=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Vn(o):""}function sr(n){switch(n.tag){case 26:case 27:case 5:return Vn(n.type);case 16:return Vn("Lazy");case 13:return Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return bt(n.type,!1);case 11:return bt(n.type.render,!1);case 1:return bt(n.type,!0);case 31:return Vn("Activity");default:return""}}function ci(n){try{var i="";do i+=sr(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ko(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tf(n){var i=Ko(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Da(n){n._valueTracker||(n._valueTracker=tf(n))}function Qo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=Ko(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function ks(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var nf=/[\n"\\]/g;function zt(n){return n.replace(nf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hn(n,i,o,u,f,g,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+cn(i)):n.value!==""+cn(i)&&(n.value=""+cn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?$i(n,E,cn(i)):o!=null?$i(n,E,cn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+cn(T):n.removeAttribute("name")}function Ls(n,i,o,u,f,g,E,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+cn(o):"",i=i!=null?""+cn(i):o,T||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function $i(n,i,o){i==="number"&&ks(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function hi(n,i,o,u){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+cn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function vt(n,i,o){if(i!=null&&(i=""+cn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+cn(o):""}function Us(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(tt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=cn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function ar(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||js.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Yo(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&ku(n,f,u)}else for(var g in i)i.hasOwnProperty(g)&&ku(n,g,i[g])}function Xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(n){return sf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var fi=null;function or(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var di=null,mi=null;function Jo(n){var i=Qe(n);if(i&&(n=i.stateNode)){var o=n[he]||null;e:switch(n=i.stateNode,i.type){case"input":if(Hn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var f=u[he]||null;if(!f)throw Error(s(90));Hn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&Qo(u)}break e;case"textarea":vt(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&hi(n,!!o.multiple,i,!1)}}}var Ur=!1;function Lu(n,i,o){if(Ur)return n(i,o);Ur=!0;try{var u=n(i);return u}finally{if(Ur=!1,(di!==null||mi!==null)&&(xc(),di&&(i=di,n=mi,mi=di=null,Jo(i),n)))for(i=0;i<n.length;i++)Jo(n[i])}}function zs(n,i){var o=n.stateNode;if(o===null)return null;var u=o[he]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Tr)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{lr=!1}var jr=null,Fi=null,gi=null;function Zo(){if(gi)return gi;var n,i=Fi,o=i.length,u,f="value"in jr?jr.value:jr.textContent,g=f.length;for(n=0;n<o&&i[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&i[o-u]===f[g-u];u++);return gi=f.slice(n,1<u?1-u:void 0)}function zr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Br(){return!0}function Wo(){return!1}function Wt(n){function i(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Br:Wo,this.isPropagationStopped=Wo,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),i}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Wt(dt),qs=v({},dt,{view:0,detail:0}),Uu=Wt(qs),Ia,Na,qr,Hs=v({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qr&&(qr&&n.type==="mousemove"?(Ia=n.screenX-qr.screenX,Na=n.screenY-qr.screenY):Na=Ia=0,qr=n),Ia)},movementY:function(n){return"movementY"in n?n.movementY:Na}}),ur=Wt(Hs),ju=v({},Hs,{dataTransfer:0}),af=Wt(ju),$s=v({},qs,{relatedTarget:0}),Ma=Wt($s),el=v({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=Wt(el),zu=v({},dt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pa=Wt(zu),of=v({},dt,{data:0}),tl=Wt(of),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=qu[n])?!!i[n]:!1}function Gs(){return nl}var Hu=v({},qs,{key:function(n){if(n.key){var i=Fs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=zr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(n){return n.type==="keypress"?zr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ka=Wt(Hu),$u=v({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Wt($u),pi=v({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Fu=Wt(pi),Gu=v({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Wt(Gu),Qu=v({},Hs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Wt(Qu),Nn=v({},dt,{newState:0,oldState:0}),Yu=Wt(Nn),Xu=[9,13,27,32],Hr=Tr&&"CompositionEvent"in window,h=null;Tr&&"documentMode"in document&&(h=document.documentMode);var y=Tr&&"TextEvent"in window&&!h,_=Tr&&(!Hr||h&&8<h&&11>=h),S=" ",$=!1;function Z(n,i){switch(n){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rt=!1;function Kt(n,i){switch(n){case"compositionend":return me(i);case"keypress":return i.which!==32?null:($=!0,S);case"textInput":return n=i.data,n===S&&$?null:n;default:return null}}function it(n,i){if(rt)return n==="compositionend"||!Hr&&Z(n,i)?(n=Zo(),gi=Fi=jr=null,rt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!en[n.type]:i==="textarea"}function yi(n,i,o,u){di?mi?mi.push(u):mi=[u]:di=u,i=kc(i,"onChange"),0<i.length&&(o=new xa("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var hn=null,$r=null;function il(n){Vv(n,0)}function Ju(n){var i=ft(n);if(Qo(i))return n}function tp(n,i){if(n==="change")return i}var np=!1;if(Tr){var lf;if(Tr){var uf="oninput"in document;if(!uf){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),uf=typeof rp.oninput=="function"}lf=uf}else lf=!1;np=lf&&(!document.documentMode||9<document.documentMode)}function ip(){hn&&(hn.detachEvent("onpropertychange",sp),$r=hn=null)}function sp(n){if(n.propertyName==="value"&&Ju($r)){var i=[];yi(i,$r,n,or(n)),Lu(il,i)}}function iT(n,i,o){n==="focusin"?(ip(),hn=i,$r=o,hn.attachEvent("onpropertychange",sp)):n==="focusout"&&ip()}function sT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ju($r)}function aT(n,i){if(n==="click")return Ju(i)}function oT(n,i){if(n==="input"||n==="change")return Ju(i)}function lT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var $n=typeof Object.is=="function"?Object.is:lT;function sl(n,i){if($n(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!xr.call(i,f)||!$n(n[f],i[f]))return!1}return!0}function ap(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function op(n,i){var o=ap(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ap(o)}}function lp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?lp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function up(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ks(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=ks(n.document)}return i}function cf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var uT=Tr&&"documentMode"in document&&11>=document.documentMode,Ua=null,hf=null,al=null,ff=!1;function cp(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ff||Ua==null||Ua!==ks(u)||(u=Ua,"selectionStart"in u&&cf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),al&&sl(al,u)||(al=u,u=kc(hf,"onSelect"),0<u.length&&(i=new xa("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Ua)))}function Ks(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var ja={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},df={},hp={};Tr&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Qs(n){if(df[n])return df[n];if(!ja[n])return n;var i=ja[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in hp)return df[n]=i[o];return n}var fp=Qs("animationend"),dp=Qs("animationiteration"),mp=Qs("animationstart"),cT=Qs("transitionrun"),hT=Qs("transitionstart"),fT=Qs("transitioncancel"),gp=Qs("transitionend"),pp=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function Sr(n,i){pp.set(n,i),Gt(i,[n])}var yp=new WeakMap;function cr(n,i){if(typeof n=="object"&&n!==null){var o=yp.get(n);return o!==void 0?o:(i={value:n,source:i,stack:ci(i)},yp.set(n,i),i)}return{value:n,source:i,stack:ci(i)}}var hr=[],za=0,gf=0;function Zu(){for(var n=za,i=gf=za=0;i<n;){var o=hr[i];hr[i++]=null;var u=hr[i];hr[i++]=null;var f=hr[i];hr[i++]=null;var g=hr[i];if(hr[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&vp(o,f,g)}}function Wu(n,i,o,u){hr[za++]=n,hr[za++]=i,hr[za++]=o,hr[za++]=u,gf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function pf(n,i,o,u){return Wu(n,i,o,u),ec(n)}function Ba(n,i){return Wu(n,null,null,i),ec(n)}function vp(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&i!==null&&(f=31-Ut(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=o|536870912),g):null}function ec(n){if(50<Il)throw Il=0,bd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var qa={};function dT(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,i,o,u){return new dT(n,i,o,u)}function yf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vi(n,i){var o=n.alternate;return o===null?(o=Fn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function _p(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function tc(n,i,o,u,f,g){var E=0;if(u=n,typeof n=="function")yf(n)&&(E=1);else if(typeof n=="string")E=gS(n,o,be.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=Fn(31,o,i,f),n.elementType=D,n.lanes=g,n;case C:return Ys(o.children,f,g,i);case B:E=8,f|=24;break;case P:return n=Fn(12,o,i,f|2),n.elementType=P,n.lanes=g,n;case le:return n=Fn(13,o,i,f),n.elementType=le,n.lanes=g,n;case U:return n=Fn(19,o,i,f),n.elementType=U,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case G:E=10;break e;case ae:E=9;break e;case ce:E=11;break e;case I:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Fn(E,o,i,f),i.elementType=n,i.type=u,i.lanes=g,i}function Ys(n,i,o,u){return n=Fn(7,n,u,i),n.lanes=o,n}function vf(n,i,o){return n=Fn(6,n,null,i),n.lanes=o,n}function _f(n,i,o){return i=Fn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ha=[],$a=0,nc=null,rc=0,fr=[],dr=0,Xs=null,_i=1,Ei="";function Js(n,i){Ha[$a++]=rc,Ha[$a++]=nc,nc=n,rc=i}function Ep(n,i,o){fr[dr++]=_i,fr[dr++]=Ei,fr[dr++]=Xs,Xs=n;var u=_i;n=Ei;var f=32-Ut(u)-1;u&=~(1<<f),o+=1;var g=32-Ut(i)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,_i=1<<32-Ut(i)+f|o<<f|u,Ei=g+n}else _i=1<<g|o<<f|u,Ei=n}function Ef(n){n.return!==null&&(Js(n,1),Ep(n,1,0))}function wf(n){for(;n===nc;)nc=Ha[--$a],Ha[$a]=null,rc=Ha[--$a],Ha[$a]=null;for(;n===Xs;)Xs=fr[--dr],fr[dr]=null,Ei=fr[--dr],fr[dr]=null,_i=fr[--dr],fr[dr]=null}var Mn=null,Nt=null,ht=!1,Zs=null,Fr=!1,bf=Error(s(519));function Ws(n){var i=Error(s(418,""));throw ul(cr(i,n)),bf}function wp(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[ie]=n,i[he]=u,o){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(o=0;o<Ml.length;o++)Xe(Ml[o],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),Ls(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Da(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),Us(i,u.value,u.defaultValue,u.children),Da(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Uv(i.textContent,o)?(u.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),u.onScroll!=null&&Xe("scroll",i),u.onScrollEnd!=null&&Xe("scrollend",i),u.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||Ws(n)}function bp(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:Mn=Mn.return}}function ol(n){if(n!==Mn)return!1;if(!ht)return bp(n),ht=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Ud(n.type,n.memoizedProps)),o=!o),o&&Nt&&Ws(n),bp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){Nt=Rr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}Nt=null}}else i===27?(i=Nt,os(n.type)?(n=qd,qd=null,Nt=n):Nt=i):Nt=Mn?Rr(n.stateNode.nextSibling):null;return!0}function ll(){Nt=Mn=null,ht=!1}function Tp(){var n=Zs;return n!==null&&(Ln===null?Ln=n:Ln.push.apply(Ln,n),Zs=null),n}function ul(n){Zs===null?Zs=[n]:Zs.push(n)}var Tf=te(null),ea=null,wi=null;function Gi(n,i,o){ue(Tf,i._currentValue),i._currentValue=o}function bi(n){n._currentValue=Tf.current,de(Tf)}function Sf(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function Af(n,i,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var x=0;x<i.length;x++)if(T.context===i[x]){g.lanes|=o,T=g.alternate,T!==null&&(T.lanes|=o),Sf(g.return,o,n),u||(E=null);break e}g=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Sf(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function cl(n,i,o,u){n=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;$n(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Lt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(jl):n=[jl])}f=f.return}n!==null&&Af(i,n,o,u),i.flags|=262144}function ic(n){for(n=n.firstContext;n!==null;){if(!$n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){ea=n,wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function wn(n){return Sp(ea,n)}function sc(n,i){return ea===null&&ta(n),Sp(n,i)}function Sp(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},wi===null){if(n===null)throw Error(s(308));wi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else wi=wi.next=i;return o}var mT=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},gT=r.unstable_scheduleCallback,pT=r.unstable_NormalPriority,Yt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new mT,data:new Map,refCount:0}}function hl(n){n.refCount--,n.refCount===0&&gT(pT,function(){n.controller.abort()})}var fl=null,Cf=0,Fa=0,Ga=null;function yT(n,i){if(fl===null){var o=fl=[];Cf=0,Fa=Od(),Ga={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cf++,i.then(Ap,Ap),i}function Ap(){if(--Cf===0&&fl!==null){Ga!==null&&(Ga.status="fulfilled");var n=fl;fl=null,Fa=0,Ga=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function vT(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Rp=Y.S;Y.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&yT(n,i),Rp!==null&&Rp(n,i)};var na=te(null);function Df(){var n=na.current;return n!==null?n:St.pooledCache}function ac(n,i){i===null?ue(na,na.current):ue(na,i.pool)}function Cp(){var n=Df();return n===null?null:{parent:Yt._currentValue,pool:n}}var dl=Error(s(460)),Dp=Error(s(474)),oc=Error(s(542)),Of={then:function(){}};function Op(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lc(){}function xp(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(lc,lc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Np(n),n;default:if(typeof i.status=="string")i.then(lc,lc);else{if(n=St,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Np(n),n}throw ml=i,dl}}var ml=null;function Ip(){if(ml===null)throw Error(s(459));var n=ml;return ml=null,n}function Np(n){if(n===dl||n===oc)throw Error(s(483))}var Ki=!1;function xf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Yi(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=ec(n),vp(n,null,o),i}return Wu(n,u,i,o),ec(n)}function gl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Vr(n,o)}}function Nf(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=i:g=g.next=i}else f=g=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Mf=!1;function pl(){if(Mf){var n=Ga;if(n!==null)throw n}}function yl(n,i,o,u){Mf=!1;var f=n.updateQueue;Ki=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var x=T,Q=x.next;x.next=null,E===null?g=Q:E.next=Q,E=x;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==E&&(T===null?ee.firstBaseUpdate=Q:T.next=Q,ee.lastBaseUpdate=x))}if(g!==null){var re=f.baseState;E=0,ee=Q=x=null,T=g;do{var X=T.lane&-536870913,J=X!==T.lane;if(J?(st&X)===X:(u&X)===X){X!==0&&X===Fa&&(Mf=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Pe=n,Oe=T;X=i;var wt=o;switch(Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){re=Pe.call(wt,re,X);break e}re=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,X=typeof Pe=="function"?Pe.call(wt,re,X):Pe,X==null)break e;re=v({},re,X);break e;case 2:Ki=!0}}X=T.callback,X!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[X]:J.push(X))}else J={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(Q=ee=J,x=re):ee=ee.next=J,E|=X;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;J=T,T=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(x=re),f.baseState=x,f.firstBaseUpdate=Q,f.lastBaseUpdate=ee,g===null&&(f.shared.lanes=0),rs|=E,n.lanes=E,n.memoizedState=re}}function Mp(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Vp(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Mp(o[n],i)}var Ka=te(null),uc=te(0);function Pp(n,i){n=Oi,ue(uc,n),ue(Ka,i),Oi=n|i.baseLanes}function Vf(){ue(uc,Oi),ue(Ka,Ka.current)}function Pf(){Oi=uc.current,de(Ka),de(uc)}var Xi=0,Fe=null,_t=null,Bt=null,cc=!1,Qa=!1,ra=!1,hc=0,vl=0,Ya=null,_T=0;function Vt(){throw Error(s(321))}function kf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!$n(n[o],i[o]))return!1;return!0}function Lf(n,i,o,u,f,g){return Xi=g,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=n===null||n.memoizedState===null?vy:_y,ra=!1,g=o(u,f),ra=!1,Qa&&(g=Lp(i,o,u,f)),kp(n),g}function kp(n){Y.H=yc;var i=_t!==null&&_t.next!==null;if(Xi=0,Bt=_t=Fe=null,cc=!1,vl=0,Ya=null,i)throw Error(s(300));n===null||tn||(n=n.dependencies,n!==null&&ic(n)&&(tn=!0))}function Lp(n,i,o,u){Fe=n;var f=0;do{if(Qa&&(Ya=null),vl=0,Qa=!1,25<=f)throw Error(s(301));if(f+=1,Bt=_t=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=RT,g=i(o,u)}while(Qa);return g}function ET(){var n=Y.H,i=n.useState()[0];return i=typeof i.then=="function"?_l(i):i,n=n.useState()[0],(_t!==null?_t.memoizedState:null)!==n&&(Fe.flags|=1024),i}function Uf(){var n=hc!==0;return hc=0,n}function jf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function zf(n){if(cc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cc=!1}Xi=0,Bt=_t=Fe=null,Qa=!1,vl=hc=0,Ya=null}function Pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Fe.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function qt(){if(_t===null){var n=Fe.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var i=Bt===null?Fe.memoizedState:Bt.next;if(i!==null)Bt=i,_t=n;else{if(n===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Bt===null?Fe.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function Bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(n){var i=vl;return vl+=1,Ya===null&&(Ya=[]),n=xp(Ya,n,i),i=Fe,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?vy:_y),n}function fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _l(n);if(n.$$typeof===G)return wn(n)}throw Error(s(438,String(n)))}function qf(n){var i=null,o=Fe.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Bf(),Fe.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=V;return i.index++,o}function Ti(n,i){return typeof i=="function"?i(n):i}function dc(n){var i=qt();return Hf(i,_t,n)}function Hf(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{i=f.next;var T=E=null,x=null,Q=i,ee=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(st&re)===re:(Xi&re)===re){var X=Q.revertLane;if(X===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===Fa&&(ee=!0);else if((Xi&X)===X){Q=Q.next,X===Fa&&(ee=!0);continue}else re={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},x===null?(T=x=re,E=g):x=x.next=re,Fe.lanes|=X,rs|=X;re=Q.action,ra&&o(g,re),g=Q.hasEagerState?Q.eagerState:o(g,re)}else X={lane:re,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},x===null?(T=x=X,E=g):x=x.next=X,Fe.lanes|=re,rs|=re;Q=Q.next}while(Q!==null&&Q!==i);if(x===null?E=g:x.next=T,!$n(g,n.memoizedState)&&(tn=!0,ee&&(o=Ga,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=x,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function $f(n){var i=qt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);$n(g,i.memoizedState)||(tn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,u]}function Up(n,i,o){var u=Fe,f=qt(),g=ht;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!$n((_t||f).memoizedState,o);E&&(f.memoizedState=o,tn=!0),f=f.queue;var T=Bp.bind(null,u,f,n);if(El(2048,8,T,[n]),f.getSnapshot!==i||E||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,Xa(9,mc(),zp.bind(null,u,f,o,i),null),St===null)throw Error(s(349));g||(Xi&124)!==0||jp(u,i,o)}return o}function jp(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Fe.updateQueue,i===null?(i=Bf(),Fe.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function zp(n,i,o,u){i.value=o,i.getSnapshot=u,qp(i)&&Hp(n)}function Bp(n,i,o){return o(function(){qp(i)&&Hp(n)})}function qp(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!$n(n,o)}catch{return!0}}function Hp(n){var i=Ba(n,2);i!==null&&Xn(i,n,2)}function Ff(n){var i=Pn();if(typeof n=="function"){var o=n;if(n=o(),ra){_n(!0);try{o()}finally{_n(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:n},i}function $p(n,i,o,u){return n.baseState=o,Hf(n,_t,typeof u=="function"?u:Ti)}function wT(n,i,o,u,f){if(pc(n))throw Error(s(485));if(n=i.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Y.T!==null?o(!0):g.isTransition=!1,u(g),o=i.pending,o===null?(g.next=i.pending=g,Fp(i,g)):(g.next=o.next,i.pending=o.next=g)}}function Fp(n,i){var o=i.action,u=i.payload,f=n.state;if(i.isTransition){var g=Y.T,E={};Y.T=E;try{var T=o(f,u),x=Y.S;x!==null&&x(E,T),Gp(n,i,T)}catch(Q){Gf(n,i,Q)}finally{Y.T=g}}else try{g=o(f,u),Gp(n,i,g)}catch(Q){Gf(n,i,Q)}}function Gp(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Kp(n,i,u)},function(u){return Gf(n,i,u)}):Kp(n,i,o)}function Kp(n,i,o){i.status="fulfilled",i.value=o,Qp(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Fp(n,o)))}function Gf(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Qp(i),i=i.next;while(i!==u)}n.action=null}function Qp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Yp(n,i){return i}function Xp(n,i){if(ht){var o=St.formState;if(o!==null){e:{var u=Fe;if(ht){if(Nt){t:{for(var f=Nt,g=Fr;f.nodeType!==8;){if(!g){f=null;break t}if(f=Rr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Nt=Rr(f.nextSibling),u=f.data==="F!";break e}}Ws(u)}u=!1}u&&(i=o[0])}}return o=Pn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:i},o.queue=u,o=gy.bind(null,Fe,u),u.dispatch=o,u=Ff(!1),g=Jf.bind(null,Fe,!1,u.queue),u=Pn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,o=wT.bind(null,Fe,f,g,o),f.dispatch=o,u.memoizedState=n,[i,o,!1]}function Jp(n){var i=qt();return Zp(i,_t,n)}function Zp(n,i,o){if(i=Hf(n,i,Yp)[0],n=dc(Ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=_l(i)}catch(E){throw E===dl?oc:E}else u=i;i=qt();var f=i.queue,g=f.dispatch;return o!==i.memoizedState&&(Fe.flags|=2048,Xa(9,mc(),bT.bind(null,f,o),null)),[u,g,n]}function bT(n,i){n.action=i}function Wp(n){var i=qt(),o=_t;if(o!==null)return Zp(i,o,n);qt(),i=i.memoizedState,o=qt();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function Xa(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Fe.updateQueue,i===null&&(i=Bf(),Fe.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function mc(){return{destroy:void 0,resource:void 0}}function ey(){return qt().memoizedState}function gc(n,i,o,u){var f=Pn();u=u===void 0?null:u,Fe.flags|=n,f.memoizedState=Xa(1|i,mc(),o,u)}function El(n,i,o,u){var f=qt();u=u===void 0?null:u;var g=f.memoizedState.inst;_t!==null&&u!==null&&kf(u,_t.memoizedState.deps)?f.memoizedState=Xa(i,g,o,u):(Fe.flags|=n,f.memoizedState=Xa(1|i,g,o,u))}function ty(n,i){gc(8390656,8,n,i)}function ny(n,i){El(2048,8,n,i)}function ry(n,i){return El(4,2,n,i)}function iy(n,i){return El(4,4,n,i)}function sy(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ay(n,i,o){o=o!=null?o.concat([n]):null,El(4,4,sy.bind(null,i,n),o)}function Kf(){}function oy(n,i){var o=qt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&kf(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function ly(n,i){var o=qt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&kf(i,u[1]))return u[0];if(u=n(),ra){_n(!0);try{n()}finally{_n(!1)}}return o.memoizedState=[u,i],u}function Qf(n,i,o){return o===void 0||(Xi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=hv(),Fe.lanes|=n,rs|=n,o)}function uy(n,i,o,u){return $n(o,i)?o:Ka.current!==null?(n=Qf(n,o,u),$n(n,i)||(tn=!0),n):(Xi&42)===0?(tn=!0,n.memoizedState=o):(n=hv(),Fe.lanes|=n,rs|=n,i)}function cy(n,i,o,u,f){var g=fe.p;fe.p=g!==0&&8>g?g:8;var E=Y.T,T={};Y.T=T,Jf(n,!1,i,o);try{var x=f(),Q=Y.S;if(Q!==null&&Q(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var ee=vT(x,u);wl(n,i,ee,Yn(n))}else wl(n,i,u,Yn(n))}catch(re){wl(n,i,{then:function(){},status:"rejected",reason:re},Yn())}finally{fe.p=g,Y.T=E}}function TT(){}function Yf(n,i,o,u){if(n.tag!==5)throw Error(s(476));var f=hy(n).queue;cy(n,f,i,ge,o===null?TT:function(){return fy(n),o(u)})}function hy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ge},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function fy(n){var i=hy(n).next.queue;wl(n,i,{},Yn())}function Xf(){return wn(jl)}function dy(){return qt().memoizedState}function my(){return qt().memoizedState}function ST(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Yn();n=Qi(o);var u=Yi(i,n,o);u!==null&&(Xn(u,i,o),gl(u,i,o)),i={cache:Rf()},n.payload=i;return}i=i.return}}function AT(n,i,o){var u=Yn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},pc(n)?py(i,o):(o=pf(n,i,o,u),o!==null&&(Xn(o,n,u),yy(o,i,u)))}function gy(n,i,o){var u=Yn();wl(n,i,o,u)}function wl(n,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(pc(n))py(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,T=g(E,o);if(f.hasEagerState=!0,f.eagerState=T,$n(T,E))return Wu(n,i,f,0),St===null&&Zu(),!1}catch{}finally{}if(o=pf(n,i,f,u),o!==null)return Xn(o,n,u),yy(o,i,u),!0}return!1}function Jf(n,i,o,u){if(u={lane:2,revertLane:Od(),action:u,hasEagerState:!1,eagerState:null,next:null},pc(n)){if(i)throw Error(s(479))}else i=pf(n,o,u,2),i!==null&&Xn(i,n,2)}function pc(n){var i=n.alternate;return n===Fe||i!==null&&i===Fe}function py(n,i){Qa=cc=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function yy(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Vr(n,o)}}var yc={readContext:wn,use:fc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},vy={readContext:wn,use:fc,useCallback:function(n,i){return Pn().memoizedState=[n,i===void 0?null:i],n},useContext:wn,useEffect:ty,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,gc(4194308,4,sy.bind(null,i,n),o)},useLayoutEffect:function(n,i){return gc(4194308,4,n,i)},useInsertionEffect:function(n,i){gc(4,2,n,i)},useMemo:function(n,i){var o=Pn();i=i===void 0?null:i;var u=n();if(ra){_n(!0);try{n()}finally{_n(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=Pn();if(o!==void 0){var f=o(i);if(ra){_n(!0);try{o(i)}finally{_n(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=AT.bind(null,Fe,n),[u.memoizedState,n]},useRef:function(n){var i=Pn();return n={current:n},i.memoizedState=n},useState:function(n){n=Ff(n);var i=n.queue,o=gy.bind(null,Fe,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Kf,useDeferredValue:function(n,i){var o=Pn();return Qf(o,n,i)},useTransition:function(){var n=Ff(!1);return n=cy.bind(null,Fe,n.queue,!0,!1),Pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Fe,f=Pn();if(ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),St===null)throw Error(s(349));(st&124)!==0||jp(u,i,o)}f.memoizedState=o;var g={value:o,getSnapshot:i};return f.queue=g,ty(Bp.bind(null,u,g,n),[n]),u.flags|=2048,Xa(9,mc(),zp.bind(null,u,g,o,i),null),o},useId:function(){var n=Pn(),i=St.identifierPrefix;if(ht){var o=Ei,u=_i;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,i=""+i+"R"+o,o=hc++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=_T++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Xf,useFormState:Xp,useActionState:Xp,useOptimistic:function(n){var i=Pn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Jf.bind(null,Fe,!0,o),o.dispatch=i,[n,i]},useMemoCache:qf,useCacheRefresh:function(){return Pn().memoizedState=ST.bind(null,Fe)}},_y={readContext:wn,use:fc,useCallback:oy,useContext:wn,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:dc,useRef:ey,useState:function(){return dc(Ti)},useDebugValue:Kf,useDeferredValue:function(n,i){var o=qt();return uy(o,_t.memoizedState,n,i)},useTransition:function(){var n=dc(Ti)[0],i=qt().memoizedState;return[typeof n=="boolean"?n:_l(n),i]},useSyncExternalStore:Up,useId:dy,useHostTransitionStatus:Xf,useFormState:Jp,useActionState:Jp,useOptimistic:function(n,i){var o=qt();return $p(o,_t,n,i)},useMemoCache:qf,useCacheRefresh:my},RT={readContext:wn,use:fc,useCallback:oy,useContext:wn,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:$f,useRef:ey,useState:function(){return $f(Ti)},useDebugValue:Kf,useDeferredValue:function(n,i){var o=qt();return _t===null?Qf(o,n,i):uy(o,_t.memoizedState,n,i)},useTransition:function(){var n=$f(Ti)[0],i=qt().memoizedState;return[typeof n=="boolean"?n:_l(n),i]},useSyncExternalStore:Up,useId:dy,useHostTransitionStatus:Xf,useFormState:Wp,useActionState:Wp,useOptimistic:function(n,i){var o=qt();return _t!==null?$p(o,_t,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:qf,useCacheRefresh:my},Ja=null,bl=0;function vc(n){var i=bl;return bl+=1,Ja===null&&(Ja=[]),xp(Ja,n,i)}function Tl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function _c(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ey(n){var i=n._init;return i(n._payload)}function wy(n){function i(z,k){if(n){var F=z.deletions;F===null?(z.deletions=[k],z.flags|=16):F.push(k)}}function o(z,k){if(!n)return null;for(;k!==null;)i(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=vi(z,k),z.index=0,z.sibling=null,z}function g(z,k,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<k?(z.flags|=67108866,k):F):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function T(z,k,F,ne){return k===null||k.tag!==6?(k=vf(F,z.mode,ne),k.return=z,k):(k=f(k,F),k.return=z,k)}function x(z,k,F,ne){var _e=F.type;return _e===C?ee(z,k,F.props.children,ne,F.key):k!==null&&(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Ey(_e)===k.type)?(k=f(k,F.props),Tl(k,F),k.return=z,k):(k=tc(F.type,F.key,F.props,null,z.mode,ne),Tl(k,F),k.return=z,k)}function Q(z,k,F,ne){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=_f(F,z.mode,ne),k.return=z,k):(k=f(k,F.children||[]),k.return=z,k)}function ee(z,k,F,ne,_e){return k===null||k.tag!==7?(k=Ys(F,z.mode,ne,_e),k.return=z,k):(k=f(k,F),k.return=z,k)}function re(z,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=vf(""+k,z.mode,F),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return F=tc(k.type,k.key,k.props,null,z.mode,F),Tl(F,k),F.return=z,F;case A:return k=_f(k,z.mode,F),k.return=z,k;case R:var ne=k._init;return k=ne(k._payload),re(z,k,F)}if(tt(k)||j(k))return k=Ys(k,z.mode,F,null),k.return=z,k;if(typeof k.then=="function")return re(z,vc(k),F);if(k.$$typeof===G)return re(z,sc(z,k),F);_c(z,k)}return null}function X(z,k,F,ne){var _e=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _e!==null?null:T(z,k,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===_e?x(z,k,F,ne):null;case A:return F.key===_e?Q(z,k,F,ne):null;case R:return _e=F._init,F=_e(F._payload),X(z,k,F,ne)}if(tt(F)||j(F))return _e!==null?null:ee(z,k,F,ne,null);if(typeof F.then=="function")return X(z,k,vc(F),ne);if(F.$$typeof===G)return X(z,k,sc(z,F),ne);_c(z,F)}return null}function J(z,k,F,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(F)||null,T(k,z,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return z=z.get(ne.key===null?F:ne.key)||null,x(k,z,ne,_e);case A:return z=z.get(ne.key===null?F:ne.key)||null,Q(k,z,ne,_e);case R:var Ke=ne._init;return ne=Ke(ne._payload),J(z,k,F,ne,_e)}if(tt(ne)||j(ne))return z=z.get(F)||null,ee(k,z,ne,_e,null);if(typeof ne.then=="function")return J(z,k,F,vc(ne),_e);if(ne.$$typeof===G)return J(z,k,F,sc(k,ne),_e);_c(k,ne)}return null}function Pe(z,k,F,ne){for(var _e=null,Ke=null,Te=k,Ne=k=0,rn=null;Te!==null&&Ne<F.length;Ne++){Te.index>Ne?(rn=Te,Te=null):rn=Te.sibling;var ut=X(z,Te,F[Ne],ne);if(ut===null){Te===null&&(Te=rn);break}n&&Te&&ut.alternate===null&&i(z,Te),k=g(ut,k,Ne),Ke===null?_e=ut:Ke.sibling=ut,Ke=ut,Te=rn}if(Ne===F.length)return o(z,Te),ht&&Js(z,Ne),_e;if(Te===null){for(;Ne<F.length;Ne++)Te=re(z,F[Ne],ne),Te!==null&&(k=g(Te,k,Ne),Ke===null?_e=Te:Ke.sibling=Te,Ke=Te);return ht&&Js(z,Ne),_e}for(Te=u(Te);Ne<F.length;Ne++)rn=J(Te,z,Ne,F[Ne],ne),rn!==null&&(n&&rn.alternate!==null&&Te.delete(rn.key===null?Ne:rn.key),k=g(rn,k,Ne),Ke===null?_e=rn:Ke.sibling=rn,Ke=rn);return n&&Te.forEach(function(fs){return i(z,fs)}),ht&&Js(z,Ne),_e}function Oe(z,k,F,ne){if(F==null)throw Error(s(151));for(var _e=null,Ke=null,Te=k,Ne=k=0,rn=null,ut=F.next();Te!==null&&!ut.done;Ne++,ut=F.next()){Te.index>Ne?(rn=Te,Te=null):rn=Te.sibling;var fs=X(z,Te,ut.value,ne);if(fs===null){Te===null&&(Te=rn);break}n&&Te&&fs.alternate===null&&i(z,Te),k=g(fs,k,Ne),Ke===null?_e=fs:Ke.sibling=fs,Ke=fs,Te=rn}if(ut.done)return o(z,Te),ht&&Js(z,Ne),_e;if(Te===null){for(;!ut.done;Ne++,ut=F.next())ut=re(z,ut.value,ne),ut!==null&&(k=g(ut,k,Ne),Ke===null?_e=ut:Ke.sibling=ut,Ke=ut);return ht&&Js(z,Ne),_e}for(Te=u(Te);!ut.done;Ne++,ut=F.next())ut=J(Te,z,Ne,ut.value,ne),ut!==null&&(n&&ut.alternate!==null&&Te.delete(ut.key===null?Ne:ut.key),k=g(ut,k,Ne),Ke===null?_e=ut:Ke.sibling=ut,Ke=ut);return n&&Te.forEach(function(CS){return i(z,CS)}),ht&&Js(z,Ne),_e}function wt(z,k,F,ne){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:e:{for(var _e=F.key;k!==null;){if(k.key===_e){if(_e=F.type,_e===C){if(k.tag===7){o(z,k.sibling),ne=f(k,F.props.children),ne.return=z,z=ne;break e}}else if(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Ey(_e)===k.type){o(z,k.sibling),ne=f(k,F.props),Tl(ne,F),ne.return=z,z=ne;break e}o(z,k);break}else i(z,k);k=k.sibling}F.type===C?(ne=Ys(F.props.children,z.mode,ne,F.key),ne.return=z,z=ne):(ne=tc(F.type,F.key,F.props,null,z.mode,ne),Tl(ne,F),ne.return=z,z=ne)}return E(z);case A:e:{for(_e=F.key;k!==null;){if(k.key===_e)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){o(z,k.sibling),ne=f(k,F.children||[]),ne.return=z,z=ne;break e}else{o(z,k);break}else i(z,k);k=k.sibling}ne=_f(F,z.mode,ne),ne.return=z,z=ne}return E(z);case R:return _e=F._init,F=_e(F._payload),wt(z,k,F,ne)}if(tt(F))return Pe(z,k,F,ne);if(j(F)){if(_e=j(F),typeof _e!="function")throw Error(s(150));return F=_e.call(F),Oe(z,k,F,ne)}if(typeof F.then=="function")return wt(z,k,vc(F),ne);if(F.$$typeof===G)return wt(z,k,sc(z,F),ne);_c(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(o(z,k.sibling),ne=f(k,F),ne.return=z,z=ne):(o(z,k),ne=vf(F,z.mode,ne),ne.return=z,z=ne),E(z)):o(z,k)}return function(z,k,F,ne){try{bl=0;var _e=wt(z,k,F,ne);return Ja=null,_e}catch(Te){if(Te===dl||Te===oc)throw Te;var Ke=Fn(29,Te,null,z.mode);return Ke.lanes=ne,Ke.return=z,Ke}finally{}}}var Za=wy(!0),by=wy(!1),mr=te(null),Gr=null;function Ji(n){var i=n.alternate;ue(Xt,Xt.current&1),ue(mr,n),Gr===null&&(i===null||Ka.current!==null||i.memoizedState!==null)&&(Gr=n)}function Ty(n){if(n.tag===22){if(ue(Xt,Xt.current),ue(mr,n),Gr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Gr=n)}}else Zi()}function Zi(){ue(Xt,Xt.current),ue(mr,mr.current)}function Si(n){de(mr),Gr===n&&(Gr=null),de(Xt)}var Xt=te(0);function Ec(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Bd(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Zf(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Wf={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=Yn(),f=Qi(u);f.payload=i,o!=null&&(f.callback=o),i=Yi(n,f,u),i!==null&&(Xn(i,n,u),gl(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=Yn(),f=Qi(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Yi(n,f,u),i!==null&&(Xn(i,n,u),gl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Yn(),u=Qi(o);u.tag=2,i!=null&&(u.callback=i),i=Yi(n,u,o),i!==null&&(Xn(i,n,o),gl(i,n,o))}};function Sy(n,i,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):i.prototype&&i.prototype.isPureReactComponent?!sl(o,u)||!sl(f,g):!0}function Ay(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Wf.enqueueReplaceState(i,i.state,null)}function ia(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ry(n){wc(n)}function Cy(n){console.error(n)}function Dy(n){wc(n)}function bc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Oy(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ed(n,i,o){return o=Qi(o),o.tag=3,o.payload={element:null},o.callback=function(){bc(n,i)},o}function xy(n){return n=Qi(n),n.tag=3,n}function Iy(n,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){Oy(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Oy(i,o,u),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function CT(n,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&cl(i,o,f,!0),o=mr.current,o!==null){switch(o.tag){case 13:return Gr===null?Sd():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Of?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Rd(n,u,f)),!1;case 22:return o.flags|=65536,u===Of?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Rd(n,u,f)),!1}throw Error(s(435,o.tag))}return Rd(n,u,f),Sd(),!1}if(ht)return i=mr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==bf&&(n=Error(s(422),{cause:u}),ul(cr(n,o)))):(u!==bf&&(i=Error(s(423),{cause:u}),ul(cr(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=cr(u,o),f=ed(n.stateNode,u,f),Nf(n,f),Mt!==4&&(Mt=2)),!1;var g=Error(s(520),{cause:u});if(g=cr(g,o),xl===null?xl=[g]:xl.push(g),Mt!==4&&(Mt=2),i===null)return!0;u=cr(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=ed(o.stateNode,u,n),Nf(o,n),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(is===null||!is.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=xy(f),Iy(f,n,o,u),Nf(o,f),!1}o=o.return}while(o!==null);return!1}var Ny=Error(s(461)),tn=!1;function fn(n,i,o,u){i.child=n===null?by(i,null,o,u):Za(i,n.child,o,u)}function My(n,i,o,u,f){o=o.render;var g=i.ref;if("ref"in u){var E={};for(var T in u)T!=="ref"&&(E[T]=u[T])}else E=u;return ta(i),u=Lf(n,i,o,E,g,f),T=Uf(),n!==null&&!tn?(jf(n,i,f),Ai(n,i,f)):(ht&&T&&Ef(i),i.flags|=1,fn(n,i,u,f),i.child)}function Vy(n,i,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!yf(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,Py(n,i,g,u,f)):(n=tc(o.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!ld(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:sl,o(E,u)&&n.ref===i.ref)return Ai(n,i,f)}return i.flags|=1,n=vi(g,u),n.ref=i.ref,n.return=i,i.child=n}function Py(n,i,o,u,f){if(n!==null){var g=n.memoizedProps;if(sl(g,u)&&n.ref===i.ref)if(tn=!1,i.pendingProps=u=g,ld(n,f))(n.flags&131072)!==0&&(tn=!0);else return i.lanes=n.lanes,Ai(n,i,f)}return td(n,i,o,u,f)}function ky(n,i,o){var u=i.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=i.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return Ly(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ac(i,g!==null?g.cachePool:null),g!==null?Pp(i,g):Vf(),Ty(i);else return i.lanes=i.childLanes=536870912,Ly(n,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(ac(i,g.cachePool),Pp(i,g),Zi(),i.memoizedState=null):(n!==null&&ac(i,null),Vf(),Zi());return fn(n,i,f,o),i.child}function Ly(n,i,o,u){var f=Df();return f=f===null?null:{parent:Yt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&ac(i,null),Vf(),Ty(i),n!==null&&cl(n,i,u,!0),null}function Tc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function td(n,i,o,u,f){return ta(i),o=Lf(n,i,o,u,void 0,f),u=Uf(),n!==null&&!tn?(jf(n,i,f),Ai(n,i,f)):(ht&&u&&Ef(i),i.flags|=1,fn(n,i,o,f),i.child)}function Uy(n,i,o,u,f,g){return ta(i),i.updateQueue=null,o=Lp(i,u,o,f),kp(n),u=Uf(),n!==null&&!tn?(jf(n,i,g),Ai(n,i,g)):(ht&&u&&Ef(i),i.flags|=1,fn(n,i,o,g),i.child)}function jy(n,i,o,u,f){if(ta(i),i.stateNode===null){var g=qa,E=o.contextType;typeof E=="object"&&E!==null&&(g=wn(E)),g=new o(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Wf,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},xf(i),E=o.contextType,g.context=typeof E=="object"&&E!==null?wn(E):qa,g.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Zf(i,o,E,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Wf.enqueueReplaceState(g,g.state,null),yl(i,u,g,f),pl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){g=i.stateNode;var T=i.memoizedProps,x=ia(o,T);g.props=x;var Q=g.context,ee=o.contextType;E=qa,typeof ee=="object"&&ee!==null&&(E=wn(ee));var re=o.getDerivedStateFromProps;ee=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||Q!==E)&&Ay(i,g,u,E),Ki=!1;var X=i.memoizedState;g.state=X,yl(i,u,g,f),pl(),Q=i.memoizedState,T||X!==Q||Ki?(typeof re=="function"&&(Zf(i,o,re,u),Q=i.memoizedState),(x=Ki||Sy(i,o,x,u,X,Q,E))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Q),g.props=u,g.state=Q,g.context=E,u=x):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,If(n,i),E=i.memoizedProps,ee=ia(o,E),g.props=ee,re=i.pendingProps,X=g.context,Q=o.contextType,x=qa,typeof Q=="object"&&Q!==null&&(x=wn(Q)),T=o.getDerivedStateFromProps,(Q=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==re||X!==x)&&Ay(i,g,u,x),Ki=!1,X=i.memoizedState,g.state=X,yl(i,u,g,f),pl();var J=i.memoizedState;E!==re||X!==J||Ki||n!==null&&n.dependencies!==null&&ic(n.dependencies)?(typeof T=="function"&&(Zf(i,o,T,u),J=i.memoizedState),(ee=Ki||Sy(i,o,ee,u,X,J,x)||n!==null&&n.dependencies!==null&&ic(n.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,x)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=J),g.props=u,g.state=J,g.context=x,u=ee):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),u=!1)}return g=u,Tc(n,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&u?(i.child=Za(i,n.child,null,f),i.child=Za(i,null,o,f)):fn(n,i,o,f),i.memoizedState=g.state,n=i.child):n=Ai(n,i,f),n}function zy(n,i,o,u){return ll(),i.flags|=256,fn(n,i,o,u),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(n){return{baseLanes:n,cachePool:Cp()}}function id(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=gr),n}function By(n,i,o){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Xt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(ht){if(f?Ji(i):Zi(),ht){var T=Nt,x;if(x=T){e:{for(x=T,T=Fr;x.nodeType!==8;){if(!T){T=null;break e}if(x=Rr(x.nextSibling),x===null){T=null;break e}}T=x}T!==null?(i.memoizedState={dehydrated:T,treeContext:Xs!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},x=Fn(18,null,null,0),x.stateNode=T,x.return=i,i.child=x,Mn=i,Nt=null,x=!0):x=!1}x||Ws(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Bd(T)?i.lanes=32:i.lanes=536870912,null;Si(i)}return T=u.children,u=u.fallback,f?(Zi(),f=i.mode,T=Sc({mode:"hidden",children:T},f),u=Ys(u,f,o,null),T.return=i,u.return=i,T.sibling=u,i.child=T,f=i.child,f.memoizedState=rd(o),f.childLanes=id(n,E,o),i.memoizedState=nd,u):(Ji(i),sd(i,T))}if(x=n.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(g)i.flags&256?(Ji(i),i.flags&=-257,i=ad(n,i,o)):i.memoizedState!==null?(Zi(),i.child=n.child,i.flags|=128,i=null):(Zi(),f=u.fallback,T=i.mode,u=Sc({mode:"visible",children:u.children},T),f=Ys(f,T,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Za(i,n.child,null,o),u=i.child,u.memoizedState=rd(o),u.childLanes=id(n,E,o),i.memoizedState=nd,i=f);else if(Ji(i),Bd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var Q=E.dgst;E=Q,u=Error(s(419)),u.stack="",u.digest=E,ul({value:u,source:null,stack:null}),i=ad(n,i,o)}else if(tn||cl(n,i,o,!1),E=(o&n.childLanes)!==0,tn||E){if(E=St,E!==null&&(u=o&-o,u=(u&42)!==0?1:Pr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,Ba(n,u),Xn(E,n,u),Ny;T.data==="$?"||Sd(),i=ad(n,i,o)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=x.treeContext,Nt=Rr(T.nextSibling),Mn=i,ht=!0,Zs=null,Fr=!1,n!==null&&(fr[dr++]=_i,fr[dr++]=Ei,fr[dr++]=Xs,_i=n.id,Ei=n.overflow,Xs=i),i=sd(i,u.children),i.flags|=4096);return i}return f?(Zi(),f=u.fallback,T=i.mode,x=n.child,Q=x.sibling,u=vi(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,Q!==null?f=vi(Q,f):(f=Ys(f,T,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,T=n.child.memoizedState,T===null?T=rd(o):(x=T.cachePool,x!==null?(Q=Yt._currentValue,x=x.parent!==Q?{parent:Q,pool:Q}:x):x=Cp(),T={baseLanes:T.baseLanes|o,cachePool:x}),f.memoizedState=T,f.childLanes=id(n,E,o),i.memoizedState=nd,u):(Ji(i),o=n.child,n=o.sibling,o=vi(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function sd(n,i){return i=Sc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Sc(n,i){return n=Fn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ad(n,i,o){return Za(i,n.child,null,o),n=sd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function qy(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Sf(n.return,i,o)}function od(n,i,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Hy(n,i,o){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if(fn(n,i,u.children,o),u=Xt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qy(n,o,i);else if(n.tag===19)qy(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ue(Xt,u),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Ec(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),od(i,!1,f,o,g);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}od(i,!0,o,null,g);break;case"together":od(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ai(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),rs|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(cl(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=vi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=vi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function ld(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ic(n)))}function DT(n,i,o){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),Gi(i,Yt,n.memoizedState.cache),ll();break;case 27:case 5:Ct(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:Gi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ji(i),i.flags|=128,null):(o&i.child.childLanes)!==0?By(n,i,o):(Ji(i),n=Ai(n,i,o),n!==null?n.sibling:null);Ji(i);break;case 19:var f=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(cl(n,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Hy(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Xt,Xt.current),u)break;return null;case 22:case 23:return i.lanes=0,ky(n,i,o);case 24:Gi(i,Yt,n.memoizedState.cache)}return Ai(n,i,o)}function $y(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)tn=!0;else{if(!ld(n,o)&&(i.flags&128)===0)return tn=!1,DT(n,i,o);tn=(n.flags&131072)!==0}else tn=!1,ht&&(i.flags&1048576)!==0&&Ep(i,rc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")yf(u)?(n=ia(u,n),i.tag=1,i=jy(null,i,u,n,o)):(i.tag=0,i=td(null,i,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===ce){i.tag=11,i=My(null,i,u,n,o);break e}else if(f===I){i.tag=14,i=Vy(null,i,u,n,o);break e}}throw i=qe(u)||u,Error(s(306,i,""))}}return i;case 0:return td(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=ia(u,i.pendingProps),jy(n,i,u,f,o);case 3:e:{if(yt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,If(n,i),yl(i,u,null,o);var E=i.memoizedState;if(u=E.cache,Gi(i,Yt,u),u!==g.cache&&Af(i,[Yt],o,!0),pl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=zy(n,i,u,o);break e}else if(u!==f){f=cr(Error(s(424)),i),ul(f),i=zy(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Nt=Rr(n.firstChild),Mn=i,ht=!0,Zs=null,Fr=!0,o=by(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ll(),u===f){i=Ai(n,i,o);break e}fn(n,i,u,o)}i=i.child}return i;case 26:return Tc(n,i),n===null?(o=Qv(i.type,null,i.pendingProps,null))?i.memoizedState=o:ht||(o=i.type,n=i.pendingProps,u=Uc(Ce.current).createElement(o),u[ie]=i,u[he]=n,mn(u,o,n),nt(u),i.stateNode=u):i.memoizedState=Qv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ct(i),n===null&&ht&&(u=i.stateNode=Fv(i.type,i.pendingProps,Ce.current),Mn=i,Fr=!0,f=Nt,os(i.type)?(qd=f,Nt=Rr(u.firstChild)):Nt=f),fn(n,i,i.pendingProps.children,o),Tc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ht&&((f=u=Nt)&&(u=nS(u,i.type,i.pendingProps,Fr),u!==null?(i.stateNode=u,Mn=i,Nt=Rr(u.firstChild),Fr=!1,f=!0):f=!1),f||Ws(i)),Ct(i),f=i.type,g=i.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,Ud(f,g)?u=null:E!==null&&Ud(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Lf(n,i,ET,null,null,o),jl._currentValue=f),Tc(n,i),fn(n,i,u,o),i.child;case 6:return n===null&&ht&&((n=o=Nt)&&(o=rS(o,i.pendingProps,Fr),o!==null?(i.stateNode=o,Mn=i,Nt=null,n=!0):n=!1),n||Ws(i)),null;case 13:return By(n,i,o);case 4:return yt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Za(i,null,u,o):fn(n,i,u,o),i.child;case 11:return My(n,i,i.type,i.pendingProps,o);case 7:return fn(n,i,i.pendingProps,o),i.child;case 8:return fn(n,i,i.pendingProps.children,o),i.child;case 12:return fn(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Gi(i,i.type,u.value),fn(n,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,ta(i),f=wn(f),u=u(f),i.flags|=1,fn(n,i,u,o),i.child;case 14:return Vy(n,i,i.type,i.pendingProps,o);case 15:return Py(n,i,i.type,i.pendingProps,o);case 19:return Hy(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=Sc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=vi(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return ky(n,i,o);case 24:return ta(i),u=wn(Yt),n===null?(f=Df(),f===null&&(f=St,g=Rf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),i.memoizedState={parent:u,cache:f},xf(i),Gi(i,Yt,f)):((n.lanes&o)!==0&&(If(n,i),yl(i,null,null,o),pl()),f=n.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Gi(i,Yt,u)):(u=g.cache,Gi(i,Yt,u),u!==f.cache&&Af(i,[Yt],o,!0))),fn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ri(n){n.flags|=4}function Fy(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Wv(i)){if(i=mr.current,i!==null&&((st&4194048)===st?Gr!==null:(st&62914560)!==st&&(st&536870912)===0||i!==Gr))throw ml=Of,Dp;n.flags|=8192}}function Ac(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ps():536870912,n.lanes|=i,no|=i)}function Sl(n,i){if(!ht)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function OT(n,i,o){var u=i.pendingProps;switch(wf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),bi(Yt),Wn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ol(i)?Ri(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tp())),Ot(i),null;case 26:return o=i.memoizedState,n===null?(Ri(i),o!==null?(Ot(i),Fy(i,o)):(Ot(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Ri(i),Ot(i),Fy(i,o)):(Ot(i),i.flags&=-16777217):(n.memoizedProps!==u&&Ri(i),Ot(i),i.flags&=-16777217),null;case 27:vn(i),o=Ce.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Ri(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}n=be.current,ol(i)?wp(i):(n=Fv(f,u,o),i.stateNode=n,Ri(i))}return Ot(i),null;case 5:if(vn(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Ri(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}if(n=be.current,ol(i))wp(i);else{switch(f=Uc(Ce.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[ie]=i,n[he]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(mn(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ri(i)}}return Ot(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Ri(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ce.current,ol(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[ie]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Uv(n.nodeValue,o)),n||Ws(i)}else n=Uc(n).createTextNode(u),n[ie]=i,i.stateNode=n}return Ot(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ol(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ie]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),f=!1}else f=Tp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Si(i),i):(Si(i),null)}if(Si(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Ac(i,i.updateQueue),Ot(i),null;case 4:return Wn(),n===null&&Md(i.stateNode.containerInfo),Ot(i),null;case 10:return bi(i.type),Ot(i),null;case 19:if(de(Xt),f=i.memoizedState,f===null)return Ot(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)Sl(f,!1);else{if(Mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=Ec(n),g!==null){for(i.flags|=128,Sl(f,!1),n=g.updateQueue,i.updateQueue=n,Ac(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)_p(o,n),o=o.sibling;return ue(Xt,Xt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Dn()>Dc&&(i.flags|=128,u=!0,Sl(f,!1),i.lanes=4194304)}else{if(!u)if(n=Ec(g),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Ac(i,n),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ht)return Ot(i),null}else 2*Dn()-f.renderingStartTime>Dc&&o!==536870912&&(i.flags|=128,u=!0,Sl(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(n=f.last,n!==null?n.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Dn(),i.sibling=null,n=Xt.current,ue(Xt,u?n&1|2:n&1),i):(Ot(i),null);case 22:case 23:return Si(i),Pf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),o=i.updateQueue,o!==null&&Ac(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&de(na),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),bi(Yt),Ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xT(n,i){switch(wf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return bi(Yt),Wn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return vn(i),null;case 13:if(Si(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ll()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return de(Xt),null;case 4:return Wn(),null;case 10:return bi(i.type),null;case 22:case 23:return Si(i),Pf(),n!==null&&de(na),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return bi(Yt),null;case 25:return null;default:return null}}function Gy(n,i){switch(wf(i),i.tag){case 3:bi(Yt),Wn();break;case 26:case 27:case 5:vn(i);break;case 4:Wn();break;case 13:Si(i);break;case 19:de(Xt);break;case 10:bi(i.type);break;case 22:case 23:Si(i),Pf(),n!==null&&de(na);break;case 24:bi(Yt)}}function Al(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(T){Tt(i,i.return,T)}}function Wi(n,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=i;var x=o,Q=T;try{Q()}catch(ee){Tt(f,x,ee)}}}u=u.next}while(u!==g)}}catch(ee){Tt(i,i.return,ee)}}function Ky(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Vp(i,o)}catch(u){Tt(n,n.return,u)}}}function Qy(n,i,o){o.props=ia(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Tt(n,i,u)}}function Rl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){Tt(n,i,f)}}function Kr(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Tt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Tt(n,i,f)}else o.current=null}function Yy(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Tt(n,n.return,f)}}function ud(n,i,o){try{var u=n.stateNode;JT(u,n.type,o,i),u[he]=i}catch(f){Tt(n,n.return,f)}}function Xy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&os(n.type)||n.tag===4}function cd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Xy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&os(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hd(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Lc));else if(u!==4&&(u===27&&os(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(hd(n,i,o),n=n.sibling;n!==null;)hd(n,i,o),n=n.sibling}function Rc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&os(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Rc(n,i,o),n=n.sibling;n!==null;)Rc(n,i,o),n=n.sibling}function Jy(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);mn(i,u,o),i[ie]=n,i[he]=o}catch(g){Tt(n,n.return,g)}}var Ci=!1,Pt=!1,fd=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function IT(n,i){if(n=n.containerInfo,kd=$c,n=up(n),cf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,T=-1,x=-1,Q=0,ee=0,re=n,X=null;t:for(;;){for(var J;re!==o||f!==0&&re.nodeType!==3||(T=E+f),re!==g||u!==0&&re.nodeType!==3||(x=E+u),re.nodeType===3&&(E+=re.nodeValue.length),(J=re.firstChild)!==null;)X=re,re=J;for(;;){if(re===n)break t;if(X===o&&++Q===f&&(T=E),X===g&&++ee===u&&(x=E),(J=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=J}o=T===-1||x===-1?null:{start:T,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ld={focusedElem:n,selectionRange:o},$c=!1,nn=i;nn!==null;)if(i=nn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,nn=n;else for(;nn!==null;){switch(i=nn,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=i,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Pe=ia(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Pe,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Oe){Tt(o,o.return,Oe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)zd(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":zd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,nn=n;break}nn=i.return}}function Wy(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:es(n,o),u&4&&Al(5,o);break;case 1:if(es(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){Tt(o,o.return,E)}else{var f=ia(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Tt(o,o.return,E)}}u&64&&Ky(o),u&512&&Rl(o,o.return);break;case 3:if(es(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Vp(n,i)}catch(E){Tt(o,o.return,E)}}break;case 27:i===null&&u&4&&Jy(o);case 26:case 5:es(n,o),i===null&&u&4&&Yy(o),u&512&&Rl(o,o.return);break;case 12:es(n,o);break;case 13:es(n,o),u&4&&nv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=zT.bind(null,o),iS(n,o))));break;case 22:if(u=o.memoizedState!==null||Ci,!u){i=i!==null&&i.memoizedState!==null||Pt,f=Ci;var g=Pt;Ci=u,(Pt=i)&&!g?ts(n,o,(o.subtreeFlags&8772)!==0):es(n,o),Ci=f,Pt=g}break;case 30:break;default:es(n,o)}}function ev(n){var i=n.alternate;i!==null&&(n.alternate=null,ev(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Re(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Dt=null,kn=!1;function Di(n,i,o){for(o=o.child;o!==null;)tv(n,i,o),o=o.sibling}function tv(n,i,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:Pt||Kr(o,i),Di(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Kr(o,i);var u=Dt,f=kn;os(o.type)&&(Dt=o.stateNode,kn=!1),Di(n,i,o),Pl(o.stateNode),Dt=u,kn=f;break;case 5:Pt||Kr(o,i);case 6:if(u=Dt,f=kn,Dt=null,Di(n,i,o),Dt=u,kn=f,Dt!==null)if(kn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(o.stateNode)}catch(g){Tt(o,i,g)}else try{Dt.removeChild(o.stateNode)}catch(g){Tt(o,i,g)}break;case 18:Dt!==null&&(kn?(n=Dt,Hv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Hl(n)):Hv(Dt,o.stateNode));break;case 4:u=Dt,f=kn,Dt=o.stateNode.containerInfo,kn=!0,Di(n,i,o),Dt=u,kn=f;break;case 0:case 11:case 14:case 15:Pt||Wi(2,o,i),Pt||Wi(4,o,i),Di(n,i,o);break;case 1:Pt||(Kr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Qy(o,i,u)),Di(n,i,o);break;case 21:Di(n,i,o);break;case 22:Pt=(u=Pt)||o.memoizedState!==null,Di(n,i,o),Pt=u;break;default:Di(n,i,o)}}function nv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Hl(n)}catch(o){Tt(i,i.return,o)}}function NT(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Zy),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Zy),i;default:throw Error(s(435,n.tag))}}function dd(n,i){var o=NT(n);i.forEach(function(u){var f=BT.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Gn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(os(T.type)){Dt=T.stateNode,kn=!1;break e}break;case 5:Dt=T.stateNode,kn=!1;break e;case 3:case 4:Dt=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(Dt===null)throw Error(s(160));tv(g,E,f),Dt=null,kn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rv(i,n),i=i.sibling}var Ar=null;function rv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(i,n),Kn(n),u&4&&(Wi(3,n,n.return),Al(3,n),Wi(5,n,n.return));break;case 1:Gn(i,n),Kn(n),u&512&&(Pt||o===null||Kr(o,o.return)),u&64&&Ci&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ar;if(Gn(i,n),Kn(n),u&512&&(Pt||o===null||Kr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ie]||g[ie]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),mn(g,u,o),g[ie]=n,nt(g),u=g;break e;case"link":var E=Jv("link","href",f).get(u+(o.href||""));if(E){for(var T=0;T<E.length;T++)if(g=E[T],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(T,1);break t}}g=f.createElement(u),mn(g,u,o),f.head.appendChild(g);break;case"meta":if(E=Jv("meta","content",f).get(u+(o.content||""))){for(T=0;T<E.length;T++)if(g=E[T],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(T,1);break t}}g=f.createElement(u),mn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[ie]=n,nt(g),u=g}n.stateNode=u}else Zv(f,n.type,n.stateNode);else n.stateNode=Xv(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Zv(f,n.type,n.stateNode):Xv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&ud(n,n.memoizedProps,o.memoizedProps)}break;case 27:Gn(i,n),Kn(n),u&512&&(Pt||o===null||Kr(o,o.return)),o!==null&&u&4&&ud(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Gn(i,n),Kn(n),u&512&&(Pt||o===null||Kr(o,o.return)),n.flags&32){f=n.stateNode;try{ar(f,"")}catch(J){Tt(n,n.return,J)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,ud(n,f,o!==null?o.memoizedProps:f)),u&1024&&(fd=!0);break;case 6:if(Gn(i,n),Kn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(J){Tt(n,n.return,J)}}break;case 3:if(Bc=null,f=Ar,Ar=jc(i.containerInfo),Gn(i,n),Ar=f,Kn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(J){Tt(n,n.return,J)}fd&&(fd=!1,iv(n));break;case 4:u=Ar,Ar=jc(n.stateNode.containerInfo),Gn(i,n),Kn(n),Ar=u;break;case 12:Gn(i,n),Kn(n);break;case 13:Gn(i,n),Kn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_d=Dn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,dd(n,u)));break;case 22:f=n.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,Q=Ci,ee=Pt;if(Ci=Q||f,Pt=ee||x,Gn(i,n),Pt=ee,Ci=Q,Kn(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||x||Ci||Pt||sa(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){x=o=i;try{if(g=x.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=x.stateNode;var re=x.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(J){Tt(x,x.return,J)}}}else if(i.tag===6){if(o===null){x=i;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(J){Tt(x,x.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,dd(n,o))));break;case 19:Gn(i,n),Kn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,dd(n,u)));break;case 30:break;case 21:break;default:Gn(i,n),Kn(n)}}function Kn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(Xy(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=cd(n);Rc(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(ar(E,""),o.flags&=-33);var T=cd(n);Rc(n,T,E);break;case 3:case 4:var x=o.stateNode.containerInfo,Q=cd(n);hd(n,Q,x);break;default:throw Error(s(161))}}catch(ee){Tt(n,n.return,ee)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function iv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function es(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wy(n,i.alternate,i),i=i.sibling}function sa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Wi(4,i,i.return),sa(i);break;case 1:Kr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Qy(i,i.return,o),sa(i);break;case 27:Pl(i.stateNode);case 26:case 5:Kr(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}n=n.sibling}}function ts(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:ts(f,g,o),Al(4,g);break;case 1:if(ts(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){Tt(u,u.return,Q)}if(u=g,f=u.updateQueue,f!==null){var T=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Mp(x[f],T)}catch(Q){Tt(u,u.return,Q)}}o&&E&64&&Ky(g),Rl(g,g.return);break;case 27:Jy(g);case 26:case 5:ts(f,g,o),o&&u===null&&E&4&&Yy(g),Rl(g,g.return);break;case 12:ts(f,g,o);break;case 13:ts(f,g,o),o&&E&4&&nv(f,g);break;case 22:g.memoizedState===null&&ts(f,g,o),Rl(g,g.return);break;case 30:break;default:ts(f,g,o)}i=i.sibling}}function md(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&hl(o))}function gd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&hl(n))}function Qr(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(n,i,o,u),i=i.sibling}function sv(n,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(n,i,o,u),f&2048&&Al(9,i);break;case 1:Qr(n,i,o,u);break;case 3:Qr(n,i,o,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&hl(n)));break;case 12:if(f&2048){Qr(n,i,o,u),n=i.stateNode;try{var g=i.memoizedProps,E=g.id,T=g.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){Tt(i,i.return,x)}}else Qr(n,i,o,u);break;case 13:Qr(n,i,o,u);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?Qr(n,i,o,u):Cl(n,i):g._visibility&2?Qr(n,i,o,u):(g._visibility|=2,Wa(n,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&md(E,i);break;case 24:Qr(n,i,o,u),f&2048&&gd(i.alternate,i);break;default:Qr(n,i,o,u)}}function Wa(n,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,E=i,T=o,x=u,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Wa(g,E,T,x,f),Al(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?Wa(g,E,T,x,f):Cl(g,E):(ee._visibility|=2,Wa(g,E,T,x,f)),f&&Q&2048&&md(E.alternate,E);break;case 24:Wa(g,E,T,x,f),f&&Q&2048&&gd(E.alternate,E);break;default:Wa(g,E,T,x,f)}i=i.sibling}}function Cl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,f=u.flags;switch(u.tag){case 22:Cl(o,u),f&2048&&md(u.alternate,u);break;case 24:Cl(o,u),f&2048&&gd(u.alternate,u);break;default:Cl(o,u)}i=i.sibling}}var Dl=8192;function eo(n){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)av(n),n=n.sibling}function av(n){switch(n.tag){case 26:eo(n),n.flags&Dl&&n.memoizedState!==null&&yS(Ar,n.memoizedState,n.memoizedProps);break;case 5:eo(n);break;case 3:case 4:var i=Ar;Ar=jc(n.stateNode.containerInfo),eo(n),Ar=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Dl,Dl=16777216,eo(n),Dl=i):eo(n));break;default:eo(n)}}function ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ol(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];nn=u,uv(u,n)}ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lv(n),n=n.sibling}function lv(n){switch(n.tag){case 0:case 11:case 15:Ol(n),n.flags&2048&&Wi(9,n,n.return);break;case 3:Ol(n);break;case 12:Ol(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Cc(n)):Ol(n);break;default:Ol(n)}}function Cc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];nn=u,uv(u,n)}ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Wi(8,i,i.return),Cc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Cc(i));break;default:Cc(i)}n=n.sibling}}function uv(n,i){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:Wi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=n;nn!==null;){u=nn;var f=u.sibling,g=u.return;if(ev(u),u===o){nn=null;break e}if(f!==null){f.return=g,nn=f;break e}nn=g}}}var MT={getCacheForType:function(n){var i=wn(Yt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},VT=typeof WeakMap=="function"?WeakMap:Map,gt=0,St=null,Ye=null,st=0,pt=0,Qn=null,ns=!1,to=!1,pd=!1,Oi=0,Mt=0,rs=0,aa=0,yd=0,gr=0,no=0,xl=null,Ln=null,vd=!1,_d=0,Dc=1/0,Oc=null,is=null,dn=0,ss=null,ro=null,io=0,Ed=0,wd=null,cv=null,Il=0,bd=null;function Yn(){if((gt&2)!==0&&st!==0)return st&-st;if(Y.T!==null){var n=Fa;return n!==0?n:Od()}return M()}function hv(){gr===0&&(gr=(st&536870912)===0||ht?ui():536870912);var n=mr.current;return n!==null&&(n.flags|=32),gr}function Xn(n,i,o){(n===St&&(pt===2||pt===9)||n.cancelPendingCommit!==null)&&(so(n,0),as(n,st,gr,!1)),br(n,o),((gt&2)===0||n!==St)&&(n===St&&((gt&2)===0&&(aa|=o),Mt===4&&as(n,st,gr,!1)),Yr(n))}function fv(n,i,o){if((gt&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||nr(n,i),f=u?LT(n,i):Ad(n,i,!0),g=u;do{if(f===0){to&&!u&&as(n,i,0,!1);break}else{if(o=n.current.alternate,g&&!PT(o)){f=Ad(n,i,!1),g=!1;continue}if(f===2){if(g=i,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;f=xl;var x=T.current.memoizedState.isDehydrated;if(x&&(so(T,E).flags|=256),E=Ad(T,E,!1),E!==2){if(pd&&!x){T.errorRecoveryDisabledLanes|=g,aa|=g,f=4;break e}g=Ln,Ln=f,g!==null&&(Ln===null?Ln=g:Ln.push.apply(Ln,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){so(n,0),as(n,i,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:as(u,i,gr,!ns);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=_d+300-Dn(),10<f)){if(as(u,i,gr,!ns),li(u,0,!0)!==0)break e;u.timeoutHandle=Bv(dv.bind(null,u,o,Ln,Oc,vd,i,gr,aa,no,ns,g,2,-0,0),f);break e}dv(u,o,Ln,Oc,vd,i,gr,aa,no,ns,g,0,-0,0)}}break}while(!0);Yr(n)}function dv(n,i,o,u,f,g,E,T,x,Q,ee,re,X,J){if(n.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:pS},av(i),re=vS(),re!==null)){n.cancelPendingCommit=re(Ev.bind(null,n,i,g,o,u,f,E,T,x,ee,1,X,J)),as(n,g,E,!Q);return}Ev(n,i,g,o,u,f,E,T,x)}function PT(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!$n(g(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(n,i,o,u){i&=~yd,i&=~aa,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var g=31-Ut(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&On(n,o,i)}function xc(){return(gt&6)===0?(Nl(0),!1):!0}function Td(){if(Ye!==null){if(pt===0)var n=Ye.return;else n=Ye,wi=ea=null,zf(n),Ja=null,bl=0,n=Ye;for(;n!==null;)Gy(n.alternate,n),n=n.return;Ye=null}}function so(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,WT(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Td(),St=n,Ye=o=vi(n.current,null),st=i,pt=0,Qn=null,ns=!1,to=nr(n,i),pd=!1,no=gr=yd=aa=rs=Mt=0,Ln=xl=null,vd=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-Ut(u),g=1<<f;i|=n[f],u&=~g}return Oi=i,Zu(),o}function mv(n,i){Fe=null,Y.H=yc,i===dl||i===oc?(i=Ip(),pt=3):i===Dp?(i=Ip(),pt=4):pt=i===Ny?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,Ye===null&&(Mt=1,bc(n,cr(i,n.current)))}function gv(){var n=Y.H;return Y.H=yc,n===null?yc:n}function pv(){var n=Y.A;return Y.A=MT,n}function Sd(){Mt=4,ns||(st&4194048)!==st&&mr.current!==null||(to=!0),(rs&134217727)===0&&(aa&134217727)===0||St===null||as(St,st,gr,!1)}function Ad(n,i,o){var u=gt;gt|=2;var f=gv(),g=pv();(St!==n||st!==i)&&(Oc=null,so(n,i)),i=!1;var E=Mt;e:do try{if(pt!==0&&Ye!==null){var T=Ye,x=Qn;switch(pt){case 8:Td(),E=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(i=!0);var Q=pt;if(pt=0,Qn=null,ao(n,T,x,Q),o&&to){E=0;break e}break;default:Q=pt,pt=0,Qn=null,ao(n,T,x,Q)}}kT(),E=Mt;break}catch(ee){mv(n,ee)}while(!0);return i&&n.shellSuspendCounter++,wi=ea=null,gt=u,Y.H=f,Y.A=g,Ye===null&&(St=null,st=0,Zu()),E}function kT(){for(;Ye!==null;)yv(Ye)}function LT(n,i){var o=gt;gt|=2;var u=gv(),f=pv();St!==n||st!==i?(Oc=null,Dc=Dn()+500,so(n,i)):to=nr(n,i);e:do try{if(pt!==0&&Ye!==null){i=Ye;var g=Qn;t:switch(pt){case 1:pt=0,Qn=null,ao(n,i,g,1);break;case 2:case 9:if(Op(g)){pt=0,Qn=null,vv(i);break}i=function(){pt!==2&&pt!==9||St!==n||(pt=7),Yr(n)},g.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Op(g)?(pt=0,Qn=null,vv(i)):(pt=0,Qn=null,ao(n,i,g,7));break;case 5:var E=null;switch(Ye.tag){case 26:E=Ye.memoizedState;case 5:case 27:var T=Ye;if(!E||Wv(E)){pt=0,Qn=null;var x=T.sibling;if(x!==null)Ye=x;else{var Q=T.return;Q!==null?(Ye=Q,Ic(Q)):Ye=null}break t}}pt=0,Qn=null,ao(n,i,g,5);break;case 6:pt=0,Qn=null,ao(n,i,g,6);break;case 8:Td(),Mt=6;break e;default:throw Error(s(462))}}UT();break}catch(ee){mv(n,ee)}while(!0);return wi=ea=null,Y.H=u,Y.A=f,gt=o,Ye!==null?0:(St=null,st=0,Zu(),Mt)}function UT(){for(;Ye!==null&&!Ms();)yv(Ye)}function yv(n){var i=$y(n.alternate,n,Oi);n.memoizedProps=n.pendingProps,i===null?Ic(n):Ye=i}function vv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Uy(o,i,i.pendingProps,i.type,void 0,st);break;case 11:i=Uy(o,i,i.pendingProps,i.type.render,i.ref,st);break;case 5:zf(i);default:Gy(o,i),i=Ye=_p(i,Oi),i=$y(o,i,Oi)}n.memoizedProps=n.pendingProps,i===null?Ic(n):Ye=i}function ao(n,i,o,u){wi=ea=null,zf(i),Ja=null,bl=0;var f=i.return;try{if(CT(n,f,i,o,st)){Mt=1,bc(n,cr(o,n.current)),Ye=null;return}}catch(g){if(f!==null)throw Ye=f,g;Mt=1,bc(n,cr(o,n.current)),Ye=null;return}i.flags&32768?(ht||u===1?n=!0:to||(st&536870912)!==0?n=!1:(ns=n=!0,(u===2||u===9||u===3||u===6)&&(u=mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),_v(i,n)):Ic(i)}function Ic(n){var i=n;do{if((i.flags&32768)!==0){_v(i,ns);return}n=i.return;var o=OT(i.alternate,i,Oi);if(o!==null){Ye=o;return}if(i=i.sibling,i!==null){Ye=i;return}Ye=i=n}while(i!==null);Mt===0&&(Mt=5)}function _v(n,i){do{var o=xT(n.alternate,n);if(o!==null){o.flags&=32767,Ye=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Ye=n;return}Ye=n=o}while(n!==null);Mt=6,Ye=null}function Ev(n,i,o,u,f,g,E,T,x){n.cancelPendingCommit=null;do Nc();while(dn!==0);if((gt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=gf,Bi(n,o,g,E,T,x),n===St&&(Ye=St=null,st=0),ro=i,ss=n,io=o,Ed=g,wd=f,cv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,qT(oi,function(){return Av(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=fe.p,fe.p=2,E=gt,gt|=4;try{IT(n,i,o)}finally{gt=E,fe.p=f,Y.T=u}}dn=1,wv(),bv(),Tv()}}function wv(){if(dn===1){dn=0;var n=ss,i=ro,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=fe.p;fe.p=2;var f=gt;gt|=4;try{rv(i,n);var g=Ld,E=up(n.containerInfo),T=g.focusedElem,x=g.selectionRange;if(E!==T&&T&&T.ownerDocument&&lp(T.ownerDocument.documentElement,T)){if(x!==null&&cf(T)){var Q=x.start,ee=x.end;if(ee===void 0&&(ee=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(ee,T.value.length);else{var re=T.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var J=X.getSelection(),Pe=T.textContent.length,Oe=Math.min(x.start,Pe),wt=x.end===void 0?Oe:Math.min(x.end,Pe);!J.extend&&Oe>wt&&(E=wt,wt=Oe,Oe=E);var z=op(T,Oe),k=op(T,wt);if(z&&k&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==k.node||J.focusOffset!==k.offset)){var F=re.createRange();F.setStart(z.node,z.offset),J.removeAllRanges(),Oe>wt?(J.addRange(F),J.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),J.addRange(F))}}}}for(re=[],J=T;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var ne=re[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}$c=!!kd,Ld=kd=null}finally{gt=f,fe.p=u,Y.T=o}}n.current=i,dn=2}}function bv(){if(dn===2){dn=0;var n=ss,i=ro,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=fe.p;fe.p=2;var f=gt;gt|=4;try{Wy(n,i.alternate,i)}finally{gt=f,fe.p=u,Y.T=o}}dn=3}}function Tv(){if(dn===4||dn===3){dn=0,Ra();var n=ss,i=ro,o=io,u=cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,ro=ss=null,Sv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(is=null),qi(o),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Y.T,f=fe.p,fe.p=2,Y.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var T=u[E];g(T.value,{componentStack:T.stack})}}finally{Y.T=i,fe.p=f}}(io&3)!==0&&Nc(),Yr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===bd?Il++:(Il=0,bd=n):Il=0,Nl(0)}}function Sv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,hl(i)))}function Nc(n){return wv(),bv(),Tv(),Av()}function Av(){if(dn!==5)return!1;var n=ss,i=Ed;Ed=0;var o=qi(io),u=Y.T,f=fe.p;try{fe.p=32>o?32:o,Y.T=null,o=wd,wd=null;var g=ss,E=io;if(dn=0,ro=ss=null,io=0,(gt&6)!==0)throw Error(s(331));var T=gt;if(gt|=4,lv(g.current),sv(g,g.current,E,o),gt=T,Nl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ct,g)}catch{}return!0}finally{fe.p=f,Y.T=u,Sv(n,i)}}function Rv(n,i,o){i=cr(o,i),i=ed(n.stateNode,i,2),n=Yi(n,i,2),n!==null&&(br(n,2),Yr(n))}function Tt(n,i,o){if(n.tag===3)Rv(n,n,o);else for(;i!==null;){if(i.tag===3){Rv(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(is===null||!is.has(u))){n=cr(o,n),o=xy(2),u=Yi(i,o,2),u!==null&&(Iy(o,u,i,n),br(u,2),Yr(u));break}}i=i.return}}function Rd(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new VT;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(pd=!0,f.add(o),n=jT.bind(null,n,i,o),i.then(n,n))}function jT(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,St===n&&(st&o)===o&&(Mt===4||Mt===3&&(st&62914560)===st&&300>Dn()-_d?(gt&2)===0&&so(n,0):yd|=o,no===st&&(no=0)),Yr(n)}function Cv(n,i){i===0&&(i=Ps()),n=Ba(n,i),n!==null&&(br(n,i),Yr(n))}function zT(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Cv(n,o)}function BT(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Cv(n,o)}function qT(n,i){return ai(n,i)}var Mc=null,oo=null,Cd=!1,Vc=!1,Dd=!1,oa=0;function Yr(n){n!==oo&&n.next===null&&(oo===null?Mc=oo=n:oo=oo.next=n),Vc=!0,Cd||(Cd=!0,$T())}function Nl(n,i){if(!Dd&&Vc){Dd=!0;do for(var o=!1,u=Mc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,T=u.pingedLanes;g=(1<<31-Ut(42|n)+1)-1,g&=f&~(E&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Iv(u,g))}else g=st,g=li(u,u===St?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||nr(u,g)||(o=!0,Iv(u,g));u=u.next}while(o);Dd=!1}}function HT(){Dv()}function Dv(){Vc=Cd=!1;var n=0;oa!==0&&(ZT()&&(n=oa),oa=0);for(var i=Dn(),o=null,u=Mc;u!==null;){var f=u.next,g=Ov(u,i);g===0?(u.next=null,o===null?Mc=f:o.next=f,f===null&&(oo=o)):(o=u,(n!==0||(g&3)!==0)&&(Vc=!0)),u=f}Nl(n)}function Ov(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-Ut(g),T=1<<E,x=f[E];x===-1?((T&o)===0||(T&u)!==0)&&(f[E]=zi(T,i)):x<=i&&(n.expiredLanes|=T),g&=~T}if(i=St,o=st,o=li(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(pt===2||pt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Cn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||nr(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&Cn(u),qi(o)){case 2:case 8:o=Li;break;case 32:o=oi;break;case 268435456:o=er;break;default:o=oi}return u=xv.bind(null,n),o=ai(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&Cn(u),n.callbackPriority=2,n.callbackNode=null,2}function xv(n,i){if(dn!==0&&dn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Nc()&&n.callbackNode!==o)return null;var u=st;return u=li(n,n===St?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(fv(n,u,i),Ov(n,Dn()),n.callbackNode!=null&&n.callbackNode===o?xv.bind(null,n):null)}function Iv(n,i){if(Nc())return null;fv(n,i,!0)}function $T(){eS(function(){(gt&6)!==0?ai(Vs,HT):Dv()})}function Od(){return oa===0&&(oa=ui()),oa}function Nv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Oa(""+n)}function Mv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function FT(n,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var g=Nv((f[he]||null).action),E=u.submitter;E&&(i=(i=E[he]||null)?Nv(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var T=new xa("action","action",null,u,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var x=E?Mv(f,E):new FormData(f);Yf(o,{pending:!0,data:x,method:f.method,action:g},null,x)}}else typeof g=="function"&&(T.preventDefault(),x=E?Mv(f,E):new FormData(f),Yf(o,{pending:!0,data:x,method:f.method,action:g},g,x))},currentTarget:f}]})}}for(var xd=0;xd<mf.length;xd++){var Id=mf[xd],GT=Id.toLowerCase(),KT=Id[0].toUpperCase()+Id.slice(1);Sr(GT,"on"+KT)}Sr(fp,"onAnimationEnd"),Sr(dp,"onAnimationIteration"),Sr(mp,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(cT,"onTransitionRun"),Sr(hT,"onTransitionStart"),Sr(fT,"onTransitionCancel"),Sr(gp,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Vv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var E=u.length-1;0<=E;E--){var T=u[E],x=T.instance,Q=T.currentTarget;if(T=T.listener,x!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=Q;try{g(f)}catch(ee){wc(ee)}f.currentTarget=null,g=x}else for(E=0;E<u.length;E++){if(T=u[E],x=T.instance,Q=T.currentTarget,T=T.listener,x!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=Q;try{g(f)}catch(ee){wc(ee)}f.currentTarget=null,g=x}}}}function Xe(n,i){var o=i[Ae];o===void 0&&(o=i[Ae]=new Set);var u=n+"__bubble";o.has(u)||(Pv(i,n,2,!1),o.add(u))}function Nd(n,i,o){var u=0;i&&(u|=4),Pv(o,n,u,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Md(n){if(!n[Pc]){n[Pc]=!0,Ge.forEach(function(o){o!=="selectionchange"&&(QT.has(o)||Nd(o,!1,n),Nd(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Nd("selectionchange",!1,i))}}function Pv(n,i,o,u){switch(s_(i)){case 2:var f=wS;break;case 8:f=bS;break;default:f=Kd}o=f.bind(null,i,o,n),f=void 0,!lr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Vd(n,i,o,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var T=u.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ve(T),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){u=g=E;continue e}T=T.parentNode}}u=u.return}Lu(function(){var Q=g,ee=or(o),re=[];e:{var X=pp.get(n);if(X!==void 0){var J=xa,Pe=n;switch(n){case"keypress":if(zr(o)===0)break e;case"keydown":case"keyup":J=ka;break;case"focusin":Pe="focus",J=Ma;break;case"focusout":Pe="blur",J=Ma;break;case"beforeblur":case"afterblur":J=Ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Fu;break;case fp:case dp:case mp:J=Va;break;case gp:J=Ku;break;case"scroll":case"scrollend":J=Uu;break;case"wheel":J=La;break;case"copy":case"cut":case"paste":J=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=rl;break;case"toggle":case"beforetoggle":J=Yu}var Oe=(i&4)!==0,wt=!Oe&&(n==="scroll"||n==="scrollend"),z=Oe?X!==null?X+"Capture":null:X;Oe=[];for(var k=Q,F;k!==null;){var ne=k;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||z===null||(ne=zs(k,z),ne!=null&&Oe.push(Vl(k,ne,F))),wt)break;k=k.return}0<Oe.length&&(X=new J(X,Pe,null,o,ee),re.push({event:X,listeners:Oe}))}}if((i&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",X&&o!==fi&&(Pe=o.relatedTarget||o.fromElement)&&(Ve(Pe)||Pe[pe]))break e;if((J||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,J?(Pe=o.relatedTarget||o.toElement,J=Q,Pe=Pe?Ve(Pe):null,Pe!==null&&(wt=l(Pe),Oe=Pe.tag,Pe!==wt||Oe!==5&&Oe!==27&&Oe!==6)&&(Pe=null)):(J=null,Pe=Q),J!==Pe)){if(Oe=ur,ne="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Oe=rl,ne="onPointerLeave",z="onPointerEnter",k="pointer"),wt=J==null?X:ft(J),F=Pe==null?X:ft(Pe),X=new Oe(ne,k+"leave",J,o,ee),X.target=wt,X.relatedTarget=F,ne=null,Ve(ee)===Q&&(Oe=new Oe(z,k+"enter",Pe,o,ee),Oe.target=F,Oe.relatedTarget=wt,ne=Oe),wt=ne,J&&Pe)t:{for(Oe=J,z=Pe,k=0,F=Oe;F;F=lo(F))k++;for(F=0,ne=z;ne;ne=lo(ne))F++;for(;0<k-F;)Oe=lo(Oe),k--;for(;0<F-k;)z=lo(z),F--;for(;k--;){if(Oe===z||z!==null&&Oe===z.alternate)break t;Oe=lo(Oe),z=lo(z)}Oe=null}else Oe=null;J!==null&&kv(re,X,J,Oe,!1),Pe!==null&&wt!==null&&kv(re,wt,Pe,Oe,!0)}}e:{if(X=Q?ft(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var _e=tp;else if(Qt(X))if(np)_e=oT;else{_e=sT;var Ke=iT}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Xo(Q.elementType)&&(_e=tp):_e=aT;if(_e&&(_e=_e(n,Q))){yi(re,_e,o,ee);break e}Ke&&Ke(n,X,Q),n==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&$i(X,"number",X.value)}switch(Ke=Q?ft(Q):window,n){case"focusin":(Qt(Ke)||Ke.contentEditable==="true")&&(Ua=Ke,hf=Q,al=null);break;case"focusout":al=hf=Ua=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,cp(re,o,ee);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":cp(re,o,ee)}var Te;if(Hr)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else rt?Z(n,o)&&(Ne="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(_&&o.locale!=="ko"&&(rt||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&rt&&(Te=Zo()):(jr=ee,Fi="value"in jr?jr.value:jr.textContent,rt=!0)),Ke=kc(Q,Ne),0<Ke.length&&(Ne=new tl(Ne,n,null,o,ee),re.push({event:Ne,listeners:Ke}),Te?Ne.data=Te:(Te=me(o),Te!==null&&(Ne.data=Te)))),(Te=y?Kt(n,o):it(n,o))&&(Ne=kc(Q,"onBeforeInput"),0<Ne.length&&(Ke=new tl("onBeforeInput","beforeinput",null,o,ee),re.push({event:Ke,listeners:Ne}),Ke.data=Te)),FT(re,n,Q,o,ee)}Vv(re,i)})}function Vl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function kc(n,i){for(var o=i+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=zs(n,o),f!=null&&u.unshift(Vl(n,f,g)),f=zs(n,i),f!=null&&u.push(Vl(n,f,g))),n.tag===3)return u;n=n.return}return[]}function lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function kv(n,i,o,u,f){for(var g=i._reactName,E=[];o!==null&&o!==u;){var T=o,x=T.alternate,Q=T.stateNode;if(T=T.tag,x!==null&&x===u)break;T!==5&&T!==26&&T!==27||Q===null||(x=Q,f?(Q=zs(o,g),Q!=null&&E.unshift(Vl(o,Q,x))):f||(Q=zs(o,g),Q!=null&&E.push(Vl(o,Q,x)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var YT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function Lv(n){return(typeof n=="string"?n:""+n).replace(YT,`
`).replace(XT,"")}function Uv(n,i){return i=Lv(i),Lv(n)===i}function Lc(){}function Et(n,i,o,u,f,g){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ar(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ar(n,""+u);break;case"className":In(n,"class",u);break;case"tabIndex":In(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":In(n,o,u);break;case"style":Yo(n,u,g);break;case"data":if(i!=="object"){In(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Oa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Et(n,i,"name",f.name,f,null),Et(n,i,"formEncType",f.formEncType,f,null),Et(n,i,"formMethod",f.formMethod,f,null),Et(n,i,"formTarget",f.formTarget,f,null)):(Et(n,i,"encType",f.encType,f,null),Et(n,i,"method",f.method,f,null),Et(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Oa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Lc);break;case"onScroll":u!=null&&Xe("scroll",n);break;case"onScrollEnd":u!=null&&Xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Oa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Xe("beforetoggle",n),Xe("toggle",n),En(n,"popover",u);break;case"xlinkActuate":ke(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ke(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ke(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ke(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ke(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ke(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ke(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ke(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ke(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":En(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rf.get(o)||o,En(n,o,u))}}function Pd(n,i,o,u,f,g){switch(o){case"style":Yo(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?ar(n,u):(typeof u=="number"||typeof u=="bigint")&&ar(n,""+u);break;case"onScroll":u!=null&&Xe("scroll",n);break;case"onScrollEnd":u!=null&&Xe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),g=n[he]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):En(n,o,u)}}}function mn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",n),Xe("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(n,i,g,E,o,null)}}f&&Et(n,i,"srcSet",o.srcSet,o,null),u&&Et(n,i,"src",o.src,o,null);return;case"input":Xe("invalid",n);var T=g=E=f=null,x=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":E=ee;break;case"checked":x=ee;break;case"defaultChecked":Q=ee;break;case"value":g=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:Et(n,i,u,ee,o,null)}}Ls(n,g,T,x,Q,E,f,!1),Da(n);return;case"select":Xe("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":E=T;break;case"multiple":u=T;default:Et(n,i,f,T,o,null)}i=g,o=E,n.multiple=!!u,i!=null?hi(n,!!u,i,!1):o!=null&&hi(n,!!u,o,!0);return;case"textarea":Xe("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(T=o[E],T!=null))switch(E){case"value":u=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Et(n,i,E,T,o,null)}Us(n,u,f,g),Da(n);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(n,i,x,u,o,null)}return;case"dialog":Xe("beforetoggle",n),Xe("toggle",n),Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":Xe("load",n);break;case"video":case"audio":for(u=0;u<Ml.length;u++)Xe(Ml[u],n);break;case"image":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"embed":case"source":case"link":Xe("error",n),Xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(n,i,Q,u,o,null)}return;default:if(Xo(i)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&Pd(n,i,ee,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Et(n,i,T,u,o,null))}function JT(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,T=null,x=null,Q=null,ee=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":x=re;default:u.hasOwnProperty(J)||Et(n,i,J,null,u,re)}}for(var X in u){var J=u[X];if(re=o[X],u.hasOwnProperty(X)&&(J!=null||re!=null))switch(X){case"type":g=J;break;case"name":f=J;break;case"checked":Q=J;break;case"defaultChecked":ee=J;break;case"value":E=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==re&&Et(n,i,X,J,u,re)}}Hn(n,E,T,x,Q,ee,g,f);return;case"select":J=E=T=X=null;for(g in o)if(x=o[g],o.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":J=x;default:u.hasOwnProperty(g)||Et(n,i,g,null,u,x)}for(f in u)if(g=u[f],x=o[f],u.hasOwnProperty(f)&&(g!=null||x!=null))switch(f){case"value":X=g;break;case"defaultValue":T=g;break;case"multiple":E=g;default:g!==x&&Et(n,i,f,g,u,x)}i=T,o=E,u=J,X!=null?hi(n,!!o,X,!1):!!u!=!!o&&(i!=null?hi(n,!!o,i,!0):hi(n,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Et(n,i,T,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":X=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Et(n,i,E,f,u,g)}vt(n,X,J);return;case"option":for(var Pe in o)if(X=o[Pe],o.hasOwnProperty(Pe)&&X!=null&&!u.hasOwnProperty(Pe))switch(Pe){case"selected":n.selected=!1;break;default:Et(n,i,Pe,null,u,X)}for(x in u)if(X=u[x],J=o[x],u.hasOwnProperty(x)&&X!==J&&(X!=null||J!=null))switch(x){case"selected":n.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Et(n,i,x,X,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)X=o[Oe],o.hasOwnProperty(Oe)&&X!=null&&!u.hasOwnProperty(Oe)&&Et(n,i,Oe,null,u,X);for(Q in u)if(X=u[Q],J=o[Q],u.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Et(n,i,Q,X,u,J)}return;default:if(Xo(i)){for(var wt in o)X=o[wt],o.hasOwnProperty(wt)&&X!==void 0&&!u.hasOwnProperty(wt)&&Pd(n,i,wt,void 0,u,X);for(ee in u)X=u[ee],J=o[ee],!u.hasOwnProperty(ee)||X===J||X===void 0&&J===void 0||Pd(n,i,ee,X,u,J);return}}for(var z in o)X=o[z],o.hasOwnProperty(z)&&X!=null&&!u.hasOwnProperty(z)&&Et(n,i,z,null,u,X);for(re in u)X=u[re],J=o[re],!u.hasOwnProperty(re)||X===J||X==null&&J==null||Et(n,i,re,X,u,J)}var kd=null,Ld=null;function Uc(n){return n.nodeType===9?n:n.ownerDocument}function jv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ud(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function ZT(){var n=window.event;return n&&n.type==="popstate"?n===jd?!1:(jd=n,!0):(jd=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(n){return qv.resolve(null).then(n).catch(tS)}:Bv;function tS(n){setTimeout(function(){throw n})}function os(n){return n==="head"}function Hv(n,i){var o=i,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Pl(E.documentElement),o&2&&Pl(E.body),o&4)for(o=E.head,Pl(o),E=o.firstChild;E;){var T=E.nextSibling,x=E.nodeName;E[Ie]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=T}}if(f===0){n.removeChild(g),Hl(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Hl(i)}function zd(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zd(o),Re(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function nS(n,i,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ie])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Rr(n.nextSibling),n===null)break}return null}function rS(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Rr(n.nextSibling),n===null))return null;return n}function Bd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function iS(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Rr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var qd=null;function $v(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function Fv(n,i,o){switch(i=Uc(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Pl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Re(n)}var pr=new Map,Gv=new Set;function jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var xi=fe.d;fe.d={f:sS,r:aS,D:oS,C:lS,L:uS,m:cS,X:fS,S:hS,M:dS};function sS(){var n=xi.f(),i=xc();return n||i}function aS(n){var i=Qe(n);i!==null&&i.tag===5&&i.type==="form"?fy(i):xi.r(n)}var uo=typeof document>"u"?null:document;function Kv(n,i,o){var u=uo;if(u&&typeof i=="string"&&i){var f=zt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Gv.has(f)||(Gv.add(f),n={rel:n,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),mn(i,"link",n),nt(i),u.head.appendChild(i)))}}function oS(n){xi.D(n),Kv("dns-prefetch",n,null)}function lS(n,i){xi.C(n,i),Kv("preconnect",n,i)}function uS(n,i,o){xi.L(n,i,o);var u=uo;if(u&&n&&i){var f='link[rel="preload"][as="'+zt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+zt(o.imageSizes)+'"]')):f+='[href="'+zt(n)+'"]';var g=f;switch(i){case"style":g=co(n);break;case"script":g=ho(n)}pr.has(g)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),pr.set(g,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(kl(g))||i==="script"&&u.querySelector(Ll(g))||(i=u.createElement("link"),mn(i,"link",n),nt(i),u.head.appendChild(i)))}}function cS(n,i){xi.m(n,i);var o=uo;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+zt(u)+'"][href="'+zt(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ho(n)}if(!pr.has(g)&&(n=v({rel:"modulepreload",href:n},i),pr.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ll(g)))return}u=o.createElement("link"),mn(u,"link",n),nt(u),o.head.appendChild(u)}}}function hS(n,i,o){xi.S(n,i,o);var u=uo;if(u&&n){var f=lt(u).hoistableStyles,g=co(n);i=i||"default";var E=f.get(g);if(!E){var T={loading:0,preload:null};if(E=u.querySelector(kl(g)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=pr.get(g))&&Hd(n,o);var x=E=u.createElement("link");nt(x),mn(x,"link",n),x._p=new Promise(function(Q,ee){x.onload=Q,x.onerror=ee}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(g,E)}}}function fS(n,i){xi.X(n,i);var o=uo;if(o&&n){var u=lt(o).hoistableScripts,f=ho(n),g=u.get(f);g||(g=o.querySelector(Ll(f)),g||(n=v({src:n,async:!0},i),(i=pr.get(f))&&$d(n,i),g=o.createElement("script"),nt(g),mn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function dS(n,i){xi.M(n,i);var o=uo;if(o&&n){var u=lt(o).hoistableScripts,f=ho(n),g=u.get(f);g||(g=o.querySelector(Ll(f)),g||(n=v({src:n,async:!0,type:"module"},i),(i=pr.get(f))&&$d(n,i),g=o.createElement("script"),nt(g),mn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Qv(n,i,o,u){var f=(f=Ce.current)?jc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=co(o.href),o=lt(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=co(o.href);var g=lt(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(kl(n)))&&!g._p&&(E.instance=g,E.state.loading=5),pr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pr.set(n,o),g||mS(f,n,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ho(o),o=lt(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function co(n){return'href="'+zt(n)+'"'}function kl(n){return'link[rel="stylesheet"]['+n+"]"}function Yv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function mS(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),mn(i,"link",o),nt(i),n.head.appendChild(i))}function ho(n){return'[src="'+zt(n)+'"]'}function Ll(n){return"script[async]"+n}function Xv(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+zt(o.href)+'"]');if(u)return i.instance=u,nt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nt(u),mn(u,"style",f),zc(u,o.precedence,n),i.instance=u;case"stylesheet":f=co(o.href);var g=n.querySelector(kl(f));if(g)return i.state.loading|=4,i.instance=g,nt(g),g;u=Yv(o),(f=pr.get(f))&&Hd(u,f),g=(n.ownerDocument||n).createElement("link"),nt(g);var E=g;return E._p=new Promise(function(T,x){E.onload=T,E.onerror=x}),mn(g,"link",u),i.state.loading|=4,zc(g,o.precedence,n),i.instance=g;case"script":return g=ho(o.src),(f=n.querySelector(Ll(g)))?(i.instance=f,nt(f),f):(u=o,(f=pr.get(g))&&(u=v({},o),$d(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),nt(f),mn(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,zc(u,o.precedence,n));return i.instance}function zc(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var T=u[E];if(T.dataset.precedence===i)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Hd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function $d(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Bc=null;function Jv(n,i,o){if(Bc===null){var u=new Map,f=Bc=new Map;f.set(o,u)}else f=Bc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Ie]||g[ie]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=n+E;var T=u.get(E);T?T.push(g):u.set(E,[g])}}return u}function Zv(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function gS(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ul=null;function pS(){}function yS(n,i,o){if(Ul===null)throw Error(s(475));var u=Ul;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=co(o.href),g=n.querySelector(kl(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=qc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=g,nt(g);return}g=n.ownerDocument||n,o=Yv(o),(f=pr.get(f))&&Hd(o,f),g=g.createElement("link"),nt(g);var E=g;E._p=new Promise(function(T,x){E.onload=T,E.onerror=x}),mn(g,"link",o),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=qc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function vS(){if(Ul===null)throw Error(s(475));var n=Ul;return n.stylesheets&&n.count===0&&Fd(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Fd(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hc=null;function Fd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hc=new Map,i.forEach(_S,n),Hc=null,qc.call(n))}function _S(n,i){if(!(i.state.loading&4)){var o=Hc.get(n);if(o)var u=o.get(null);else{o=new Map,Hc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=qc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var jl={$$typeof:G,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function ES(n,i,o,u,f,g,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function e_(n,i,o,u,f,g,E,T,x,Q,ee,re){return n=new ES(n,i,o,E,T,x,Q,re),i=1,g===!0&&(i|=24),g=Fn(3,null,null,i),n.current=g,g.stateNode=n,i=Rf(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:i},xf(g),n}function t_(n){return n?(n=qa,n):qa}function n_(n,i,o,u,f,g){f=t_(f),u.context===null?u.context=f:u.pendingContext=f,u=Qi(i),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Yi(n,u,i),o!==null&&(Xn(o,n,i),gl(o,n,i))}function r_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Gd(n,i){r_(n,i),(n=n.alternate)&&r_(n,i)}function i_(n){if(n.tag===13){var i=Ba(n,67108864);i!==null&&Xn(i,n,67108864),Gd(n,67108864)}}var $c=!0;function wS(n,i,o,u){var f=Y.T;Y.T=null;var g=fe.p;try{fe.p=2,Kd(n,i,o,u)}finally{fe.p=g,Y.T=f}}function bS(n,i,o,u){var f=Y.T;Y.T=null;var g=fe.p;try{fe.p=8,Kd(n,i,o,u)}finally{fe.p=g,Y.T=f}}function Kd(n,i,o,u){if($c){var f=Qd(u);if(f===null)Vd(n,i,u,Fc,o),a_(n,u);else if(SS(f,n,i,o,u))u.stopPropagation();else if(a_(n,u),i&4&&-1<TS.indexOf(n)){for(;f!==null;){var g=Qe(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=zn(g.pendingLanes);if(E!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var x=1<<31-Ut(E);T.entanglements[1]|=x,E&=~x}Yr(g),(gt&6)===0&&(Dc=Dn()+500,Nl(0))}}break;case 13:T=Ba(g,2),T!==null&&Xn(T,g,2),xc(),Gd(g,2)}if(g=Qd(u),g===null&&Vd(n,i,u,Fc,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Vd(n,i,u,null,o)}}function Qd(n){return n=or(n),Yd(n)}var Fc=null;function Yd(n){if(Fc=null,n=Ve(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Fc=n,null}function s_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Go()){case Vs:return 2;case Li:return 8;case oi:case wr:return 32;case er:return 268435456;default:return 32}default:return 32}}var Xd=!1,ls=null,us=null,cs=null,zl=new Map,Bl=new Map,hs=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(n,i){switch(n){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(n,i,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Qe(i),i!==null&&i_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function SS(n,i,o,u,f){switch(i){case"focusin":return ls=ql(ls,n,i,o,u,f),!0;case"dragenter":return us=ql(us,n,i,o,u,f),!0;case"mouseover":return cs=ql(cs,n,i,o,u,f),!0;case"pointerover":var g=f.pointerId;return zl.set(g,ql(zl.get(g)||null,n,i,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Bl.set(g,ql(Bl.get(g)||null,n,i,o,u,f)),!0}return!1}function o_(n){var i=Ve(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,H(n.priority,function(){if(o.tag===13){var u=Yn();u=Pr(u);var f=Ba(o,u);f!==null&&Xn(f,o,u),Gd(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Qd(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);fi=u,o.target.dispatchEvent(u),fi=null}else return i=Qe(o),i!==null&&i_(i),n.blockedOn=o,!1;i.shift()}return!0}function l_(n,i,o){Gc(n)&&o.delete(i)}function AS(){Xd=!1,ls!==null&&Gc(ls)&&(ls=null),us!==null&&Gc(us)&&(us=null),cs!==null&&Gc(cs)&&(cs=null),zl.forEach(l_),Bl.forEach(l_)}function Kc(n,i){n.blockedOn===i&&(n.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AS)))}var Qc=null;function u_(n){Qc!==n&&(Qc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===n&&(Qc=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Yd(u||o)===null)continue;break}var g=Qe(o);g!==null&&(n.splice(i,3),i-=3,Yf(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Hl(n){function i(x){return Kc(x,n)}ls!==null&&Kc(ls,n),us!==null&&Kc(us,n),cs!==null&&Kc(cs,n),zl.forEach(i),Bl.forEach(i);for(var o=0;o<hs.length;o++){var u=hs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<hs.length&&(o=hs[0],o.blockedOn===null);)o_(o),o.blockedOn===null&&hs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[he]||null;if(typeof g=="function")E||u_(o);else if(E){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[he]||null)T=E.formAction;else if(Yd(f)!==null)continue}else T=E.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),u_(o)}}}function Jd(n){this._internalRoot=n}Yc.prototype.render=Jd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Yn();n_(o,u,n,i,null,null)},Yc.prototype.unmount=Jd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n_(n.current,2,null,n,null,null),xc(),i[pe]=null}};function Yc(n){this._internalRoot=n}Yc.prototype.unstable_scheduleHydration=function(n){if(n){var i=M();n={blockedOn:null,target:n,priority:i};for(var o=0;o<hs.length&&i!==0&&i<hs[o].priority;o++);hs.splice(o,0,n),o===0&&o_(n)}};var c_=e.version;if(c_!=="19.1.0")throw Error(s(527,c_,"19.1.0"));fe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var RS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{ct=Xc.inject(RS),$e=Xc}catch{}}return Fl.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,u="",f=Ry,g=Cy,E=Dy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=e_(n,1,!1,null,null,o,u,f,g,E,T,null),n[pe]=i.current,Md(n),new Jd(i)},Fl.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var u=!1,f="",g=Ry,E=Cy,T=Dy,x=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),i=e_(n,1,!0,i,o??null,u,f,g,E,T,x,Q),i.context=t_(null),o=i.current,u=Yn(),u=Pr(u),f=Qi(u),f.callback=null,Yi(o,f,u),o=u,i.current.lanes=o,br(i,o),Yr(i),n[pe]=i.current,Md(n),new Yc(i)},Fl.version="19.1.0",Fl}var E_;function LS(){if(E_)return em.exports;E_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=kS(),em.exports}var US=LS(),Gl={},w_;function jS(){if(w_)return Gl;w_=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.parse=c,Gl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,A){const C=new l,B=b.length;if(B<2)return C;const P=A?.decode||v;let q=0;do{const ae=b.indexOf("=",q);if(ae===-1)break;const G=b.indexOf(";",q),ce=G===-1?B:G;if(ae>ce){q=b.lastIndexOf(";",ae-1)+1;continue}const le=d(b,q,ae),U=m(b,ae,le),I=b.slice(le,U);if(C[I]===void 0){let R=d(b,ae+1,ce),D=m(b,ce,R);const V=P(b.slice(R,D));C[I]=V}q=ce+1}while(q<B);return C}function d(b,A,C){do{const B=b.charCodeAt(A);if(B!==32&&B!==9)return A}while(++A<C);return C}function m(b,A,C){for(;A>C;){const B=b.charCodeAt(--A);if(B!==32&&B!==9)return A+1}return C}function p(b,A,C){const B=C?.encode||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const P=B(A);if(!e.test(P))throw new TypeError(`argument val is invalid: ${A}`);let q=b+"="+P;if(!C)return q;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);q+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);q+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);q+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);q+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(q+="; HttpOnly"),C.secure&&(q+="; Secure"),C.partitioned&&(q+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return q}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return a.call(b)==="[object Date]"}return Gl}jS();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DE=r=>{throw TypeError(r)},zS=(r,e,t)=>e.has(r)||DE("Cannot "+t),im=(r,e,t)=>(zS(r,e,"read from private field"),t?t.call(r):e.get(r)),BS=(r,e,t)=>e.has(r)?DE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),b_="popstate";function qS(r={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return du("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Ss(a)}return $S(e,t,null,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ft(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HS(){return Math.random().toString(36).substring(2,10)}function T_(r,e){return{usr:r.state,key:r.key,idx:e}}function du(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Is(e):e,state:t,key:e&&e.key||s||HS()}}function Ss({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Is(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function $S(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function w(){d="POP";let P=v(),q=P==null?null:P-p;p=P,m&&m({action:d,location:B.location,delta:q})}function b(P,q){d="PUSH";let ae=du(B.location,P,q);p=v()+1;let G=T_(ae,p),ce=B.createHref(ae);try{c.pushState(G,"",ce)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(ce)}l&&m&&m({action:d,location:B.location,delta:1})}function A(P,q){d="REPLACE";let ae=du(B.location,P,q);p=v();let G=T_(ae,p),ce=B.createHref(ae);c.replaceState(G,"",ce),l&&m&&m({action:d,location:B.location,delta:0})}function C(P){return OE(P)}let B={get action(){return d},get location(){return r(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(b_,w),m=P,()=>{a.removeEventListener(b_,w),m=null}},createHref(P){return e(a,P)},createURL:C,encodeLocation(P){let q=C(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:b,replace:A,go(P){return c.go(P)}};return B}function OE(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ss(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var Zl,S_=class{constructor(r){if(BS(this,Zl,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(im(this,Zl).has(r))return im(this,Zl).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){im(this,Zl).set(r,e)}};Zl=new WeakMap;var FS=new Set(["lazy","caseSensitive","path","id","index","children"]);function GS(r){return FS.has(r)}var KS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function QS(r){return KS.has(r)}function YS(r){return r.index===!0}function yh(r,e,t=[],s={}){return r.map((a,l)=>{let c=[...t,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(Ze(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ze(!s[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),YS(a)){let m={...a,...e(a),id:d};return s[d]=m,m}else{let m={...a,...e(a),id:d,children:void 0};return s[d]=m,a.children&&(m.children=yh(a.children,e,c,s)),m}})}function ys(r,e,t="/"){return lh(r,e,t,!1)}function lh(r,e,t,s){let a=typeof e=="string"?Is(e):e,l=Er(a.pathname||"/",t);if(l==null)return null;let c=xE(r);JS(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=lA(l);d=aA(c[m],p,s)}return d}function XS(r,e){let{route:t,pathname:s,params:a}=r;return{id:t.id,pathname:s,params:a,data:e[t.id],handle:t.handle}}function xE(r,e=[],t=[],s=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Ze(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Jr([s,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(Ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xE(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:iA(p,l.index),routesMeta:v})};return r.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of IE(l.path))a(l,c,d)}),e}function IE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=IE(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function JS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:sA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var ZS=/^:[\w-]+$/,WS=3,eA=2,tA=1,nA=10,rA=-2,A_=r=>r==="*";function iA(r,e){let t=r.split("/"),s=t.length;return t.some(A_)&&(s+=rA),e&&(s+=eA),t.filter(a=>!A_(a)).reduce((a,l)=>a+(ZS.test(l)?WS:l===""?tA:nA),s)}function sA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function aA(r,e,t=!1){let{routesMeta:s}=r,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!w&&p&&t&&!s[s.length-1].route.index&&(w=vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:Jr([l,w.pathname]),pathnameBase:hA(Jr([l,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(l=Jr([l,w.pathnameBase]))}return c}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=oA(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:w},b)=>{if(v==="*"){let C=d[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=d[b];return w&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:r}}function oA(r,e=!1,t=!0){Ft(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function lA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ft(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function uA(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?Is(r):r;return{pathname:t?t.startsWith("/")?t:cA(t,e):e,search:fA(s),hash:dA(a)}}function cA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function sm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NE(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ag(r){let e=NE(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function og(r,e,t,s=!1){let a;typeof r=="string"?a=Is(r):(a={...r},Ze(!a.pathname||!a.pathname.includes("?"),sm("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),sm("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),sm("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),w-=1;a.pathname=b.join("/")}d=w>=0?e[w]:"/"}let m=uA(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Jr=r=>r.join("/").replace(/\/\/+/g,"/"),hA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),fA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,_h=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function mu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ME=["POST","PUT","PATCH","DELETE"],mA=new Set(ME),gA=["GET",...ME],pA=new Set(gA),yA=new Set([301,302,303,307,308]),vA=new Set([307,308]),am={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_A={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Kl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EA=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),VE="remix-router-transitions",PE=Symbol("ResetLoaderData");function wA(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ze(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.hydrationRouteProperties||[],a=r.mapRouteProperties||EA,l={},c=yh(r.routes,a,void 0,l),d,m=r.basename||"/",p=r.dataStrategy||RA,v={unstable_middleware:!1,...r.future},w=null,b=new Set,A=null,C=null,B=null,P=r.hydrationData!=null,q=ys(c,r.history.location,m),ae=!1,G=null,ce;if(q==null&&!r.patchRoutesOnNavigation){let M=yr(404,{pathname:r.history.location.pathname}),{matches:H,route:K}=L_(c);ce=!0,q=H,G={[K.id]:M}}else if(q&&!r.hydrationData&&On(q,c,r.history.location.pathname).active&&(q=null),q)if(q.some(M=>M.route.lazy))ce=!1;else if(!q.some(M=>M.route.loader))ce=!0;else{let M=r.hydrationData?r.hydrationData.loaderData:null,H=r.hydrationData?r.hydrationData.errors:null;if(H){let K=q.findIndex(ie=>H[ie.route.id]!==void 0);ce=q.slice(0,K+1).every(ie=>!Rm(ie.route,M,H))}else ce=q.every(K=>!Rm(K.route,M,H))}else{ce=!1,q=[];let M=On(null,c,r.history.location.pathname);M.active&&M.matches&&(ae=!0,q=M.matches)}let le,U={historyAction:r.history.action,location:r.history.location,matches:q,initialized:ce,navigation:am,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||G,fetchers:new Map,blockers:new Map},I="POP",R=!1,D,V=!1,L=new Map,j=null,O=!1,qe=!1,tt=new Set,Y=new Map,fe=0,ge=-1,je=new Map,N=new Set,te=new Map,de=new Map,ue=new Set,be=new Map,ze,Ce=null;function Lt(){if(w=r.history.listen(({action:M,location:H,delta:K})=>{if(ze){ze(),ze=void 0;return}Ft(be.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=zi({currentLocation:U.location,nextLocation:H,historyAction:M});if(ie&&K!=null){let he=new Promise(pe=>{ze=pe});r.history.go(K*-1),nr(ie,{state:"blocked",location:H,proceed(){nr(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),he.then(()=>r.history.go(K))},reset(){let pe=new Map(U.blockers);pe.set(ie,Kl),Ct({blockers:pe})}});return}return Cn(M,H)}),t){LA(e,L);let M=()=>UA(e,L);e.addEventListener("pagehide",M),j=()=>e.removeEventListener("pagehide",M)}return U.initialized||Cn("POP",U.location,{initialHydration:!0}),le}function yt(){w&&w(),j&&j(),b.clear(),D&&D.abort(),U.fetchers.forEach((M,H)=>Ut(H)),U.blockers.forEach((M,H)=>li(H))}function Wn(M){return b.add(M),()=>b.delete(M)}function Ct(M,H={}){U={...U,...M};let K=[],ie=[];U.fetchers.forEach((he,pe)=>{he.state==="idle"&&(ue.has(pe)?K.push(pe):ie.push(pe))}),ue.forEach(he=>{!U.fetchers.has(he)&&!Y.has(he)&&K.push(he)}),[...b].forEach(he=>he(U,{deletedFetchers:K,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),K.forEach(he=>Ut(he)),ie.forEach(he=>U.fetchers.delete(he))}function vn(M,H,{flushSync:K}={}){let ie=U.actionData!=null&&U.navigation.formMethod!=null&&Zn(U.navigation.formMethod)&&U.navigation.state==="loading"&&M.state?._isRedirect!==!0,he;H.actionData?Object.keys(H.actionData).length>0?he=H.actionData:he=null:ie?he=U.actionData:he=null;let pe=H.loaderData?P_(U.loaderData,H.loaderData,H.matches||[],H.errors):U.loaderData,Ae=U.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Ee,Ie)=>Ae.set(Ie,Kl)));let ve=R===!0||U.navigation.formMethod!=null&&Zn(U.navigation.formMethod)&&M.state?._isRedirect!==!0;d&&(c=d,d=void 0),O||I==="POP"||(I==="PUSH"?r.history.push(M,M.state):I==="REPLACE"&&r.history.replace(M,M.state));let we;if(I==="POP"){let Ee=L.get(U.location.pathname);Ee&&Ee.has(M.pathname)?we={currentLocation:U.location,nextLocation:M}:L.has(M.pathname)&&(we={currentLocation:M,nextLocation:U.location})}else if(V){let Ee=L.get(U.location.pathname);Ee?Ee.add(M.pathname):(Ee=new Set([M.pathname]),L.set(U.location.pathname,Ee)),we={currentLocation:U.location,nextLocation:M}}Ct({...H,actionData:he,loaderData:pe,historyAction:I,location:M,initialized:!0,navigation:am,revalidation:"idle",restoreScrollPosition:Bi(M,H.matches||U.matches),preventScrollReset:ve,blockers:Ae},{viewTransitionOpts:we,flushSync:K===!0}),I="POP",R=!1,V=!1,O=!1,qe=!1,Ce?.resolve(),Ce=null}async function xr(M,H){if(typeof M=="number"){r.history.go(M);return}let K=Am(U.location,U.matches,m,M,H?.fromRouteId,H?.relative),{path:ie,submission:he,error:pe}=R_(!1,K,H),Ae=U.location,ve=du(U.location,ie,H&&H.state);ve={...ve,...r.history.encodeLocation(ve)};let we=H&&H.replace!=null?H.replace:void 0,Ee="PUSH";we===!0?Ee="REPLACE":we===!1||he!=null&&Zn(he.formMethod)&&he.formAction===U.location.pathname+U.location.search&&(Ee="REPLACE");let Ie=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Re=(H&&H.flushSync)===!0,Ve=zi({currentLocation:Ae,nextLocation:ve,historyAction:Ee});if(Ve){nr(Ve,{state:"blocked",location:ve,proceed(){nr(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),xr(M,H)},reset(){let Qe=new Map(U.blockers);Qe.set(Ve,Kl),Ct({blockers:Qe})}});return}await Cn(Ee,ve,{submission:he,pendingError:pe,preventScrollReset:Ie,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Re})}function ai(){Ce||(Ce=jA()),ji(),Ct({revalidation:"loading"});let M=Ce.promise;return U.navigation.state==="submitting"?M:U.navigation.state==="idle"?(Cn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),M):(Cn(I||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:V===!0}),M)}async function Cn(M,H,K){D&&D.abort(),D=null,I=M,O=(K&&K.startUninterruptedRevalidation)===!0,br(U.location,U.matches),R=(K&&K.preventScrollReset)===!0,V=(K&&K.enableViewTransition)===!0;let ie=d||c,he=K&&K.overrideNavigation,pe=K?.initialHydration&&U.matches&&U.matches.length>0&&!ae?U.matches:ys(ie,H,m),Ae=(K&&K.flushSync)===!0;if(pe&&U.initialized&&!qe&&NA(U.location,H)&&!(K&&K.submission&&Zn(K.submission.formMethod))){vn(H,{matches:pe},{flushSync:Ae});return}let ve=On(pe,ie,H.pathname);if(ve.active&&ve.matches&&(pe=ve.matches),!pe){let{error:lt,notFoundMatches:nt,route:Ge}=ui(H.pathname);vn(H,{matches:nt,loaderData:{},errors:{[Ge.id]:lt}},{flushSync:Ae});return}D=new AbortController;let we=To(r.history,H,D.signal,K&&K.submission),Ee=new S_(r.unstable_getContext?await r.unstable_getContext():void 0),Ie;if(K&&K.pendingError)Ie=[fa(pe).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&Zn(K.submission.formMethod)){let lt=await Ms(we,H,K.submission,pe,Ee,ve.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:Ae});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[nt,Ge]=lt.pendingActionResult;if(Jn(Ge)&&mu(Ge.error)&&Ge.error.status===404){D=null,vn(H,{matches:lt.matches,loaderData:{},errors:{[nt]:Ge.error}});return}}pe=lt.matches||pe,Ie=lt.pendingActionResult,he=om(H,K.submission),Ae=!1,ve.active=!1,we=To(r.history,we.url,we.signal)}let{shortCircuited:Re,matches:Ve,loaderData:Qe,errors:ft}=await Ra(we,H,pe,Ee,ve.active,he,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ae,Ie);Re||(D=null,vn(H,{matches:Ve||pe,...k_(Ie),loaderData:Qe,errors:ft}))}async function Ms(M,H,K,ie,he,pe,Ae,ve={}){ji();let we=PA(H,K);if(Ct({navigation:we},{flushSync:ve.flushSync===!0}),pe){let Re=await Vr(ie,H.pathname,M.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Ve=fa(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Ve,{type:"error",error:Re.error}]}}else if(Re.matches)ie=Re.matches;else{let{notFoundMatches:Ve,error:Qe,route:ft}=ui(H.pathname);return{matches:Ve,pendingActionResult:[ft.id,{type:"error",error:Qe}]}}}let Ee,Ie=Wl(ie,H);if(!Ie.route.action&&!Ie.route.lazy)Ee={type:"error",error:yr(405,{method:M.method,pathname:H.pathname,routeId:Ie.route.id})};else{let Re=xo(a,l,M,ie,Ie,Ae?[]:s,he),Ve=await er(M,Re,he,null);if(Ee=Ve[Ie.route.id],!Ee){for(let Qe of ie)if(Ve[Qe.route.id]){Ee=Ve[Qe.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(ma(Ee)){let Re;return ve&&ve.replace!=null?Re=ve.replace:Re=N_(Ee.response.headers.get("Location"),new URL(M.url),m)===U.location.pathname+U.location.search,await wr(M,Ee,!0,{submission:K,replace:Re}),{shortCircuited:!0}}if(Jn(Ee)){let Re=fa(ie,Ie.route.id);return(ve&&ve.replace)!==!0&&(I="PUSH"),{matches:ie,pendingActionResult:[Re.route.id,Ee,Ie.route.id]}}return{matches:ie,pendingActionResult:[Ie.route.id,Ee]}}async function Ra(M,H,K,ie,he,pe,Ae,ve,we,Ee,Ie,Re){let Ve=pe||om(H,Ae),Qe=Ae||ve||j_(Ve),ft=!O&&!Ee;if(he){if(ft){let jt=Dn(Re);Ct({navigation:Ve,...jt!==void 0?{actionData:jt}:{}},{flushSync:Ie})}let ke=await Vr(K,H.pathname,M.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let jt=fa(ke.partialMatches).route.id;return{matches:ke.partialMatches,loaderData:{},errors:{[jt]:ke.error}}}else if(ke.matches)K=ke.matches;else{let{error:jt,notFoundMatches:qn,route:Vn}=ui(H.pathname);return{matches:qn,loaderData:{},errors:{[Vn.id]:jt}}}}let lt=d||c,{dsMatches:nt,revalidatingFetchers:Ge}=C_(M,ie,a,l,r.history,U,K,Qe,H,Ee?[]:s,Ee===!0,qe,tt,ue,te,N,lt,m,r.patchRoutesOnNavigation!=null,Re);if(ge=++fe,!r.dataStrategy&&!nt.some(ke=>ke.shouldLoad)&&Ge.length===0){let ke=Nr();return vn(H,{matches:K,loaderData:{},errors:Re&&Jn(Re[1])?{[Re[0]]:Re[1].error}:null,...k_(Re),...ke?{fetchers:new Map(U.fetchers)}:{}},{flushSync:Ie}),{shortCircuited:!0}}if(ft){let ke={};if(!he){ke.navigation=Ve;let jt=Dn(Re);jt!==void 0&&(ke.actionData=jt)}Ge.length>0&&(ke.fetchers=Go(Ge)),Ct(ke,{flushSync:Ie})}Ge.forEach(ke=>{tr(ke.key),ke.controller&&Y.set(ke.key,ke.controller)});let ir=()=>Ge.forEach(ke=>tr(ke.key));D&&D.signal.addEventListener("abort",ir);let{loaderResults:Gt,fetcherResults:xn}=await Ui(nt,Ge,M,ie);if(M.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",ir),Ge.forEach(ke=>Y.delete(ke.key));let un=Jc(Gt);if(un)return await wr(M,un.result,!0,{replace:we}),{shortCircuited:!0};if(un=Jc(xn),un)return N.add(un.key),await wr(M,un.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:kr,errors:Bn}=V_(U,K,Gt,Re,Ge,xn);Ee&&U.errors&&(Bn={...U.errors,...Bn});let Hi=Nr(),En=Mr(ge),In=Hi||En||Ge.length>0;return{matches:K,loaderData:kr,errors:Bn,...In?{fetchers:new Map(U.fetchers)}:{}}}function Dn(M){if(M&&!Jn(M[1]))return{[M[0]]:M[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Go(M){return M.forEach(H=>{let K=U.fetchers.get(H.key),ie=Ql(void 0,K?K.data:void 0);U.fetchers.set(H.key,ie)}),new Map(U.fetchers)}async function Vs(M,H,K,ie){tr(M);let he=(ie&&ie.flushSync)===!0,pe=d||c,Ae=Am(U.location,U.matches,m,K,H,ie?.relative),ve=ys(pe,Ae,m),we=On(ve,pe,Ae);if(we.active&&we.matches&&(ve=we.matches),!ve){$e(M,H,yr(404,{pathname:Ae}),{flushSync:he});return}let{path:Ee,submission:Ie,error:Re}=R_(!0,Ae,ie);if(Re){$e(M,H,Re,{flushSync:he});return}let Ve=Wl(ve,Ee),Qe=new S_(r.unstable_getContext?await r.unstable_getContext():void 0),ft=(ie&&ie.preventScrollReset)===!0;if(Ie&&Zn(Ie.formMethod)){await Li(M,H,Ee,Ve,ve,Qe,we.active,he,ft,Ie);return}te.set(M,{routeId:H,path:Ee}),await oi(M,H,Ee,Ve,ve,Qe,we.active,he,ft,Ie)}async function Li(M,H,K,ie,he,pe,Ae,ve,we,Ee){ji(),te.delete(M);function Ie(bt){if(!bt.route.action&&!bt.route.lazy){let sr=yr(405,{method:Ee.formMethod,pathname:K,routeId:H});return $e(M,H,sr,{flushSync:ve}),!0}return!1}if(!Ae&&Ie(ie))return;let Re=U.fetchers.get(M);ct(M,kA(Ee,Re),{flushSync:ve});let Ve=new AbortController,Qe=To(r.history,K,Ve.signal,Ee);if(Ae){let bt=await Vr(he,K,Qe.signal,M);if(bt.type==="aborted")return;if(bt.type==="error"){$e(M,H,bt.error,{flushSync:ve});return}else if(bt.matches){if(he=bt.matches,ie=Wl(he,K),Ie(ie))return}else{$e(M,H,yr(404,{pathname:K}),{flushSync:ve});return}}Y.set(M,Ve);let ft=fe,lt=xo(a,l,Qe,he,ie,s,pe),Ge=(await er(Qe,lt,pe,M))[ie.route.id];if(Qe.signal.aborted){Y.get(M)===Ve&&Y.delete(M);return}if(ue.has(M)){if(ma(Ge)||Jn(Ge)){ct(M,ms(void 0));return}}else{if(ma(Ge))if(Y.delete(M),ge>ft){ct(M,ms(void 0));return}else return N.add(M),ct(M,Ql(Ee)),wr(Qe,Ge,!1,{fetcherSubmission:Ee,preventScrollReset:we});if(Jn(Ge)){$e(M,H,Ge.error);return}}let ir=U.navigation.location||U.location,Gt=To(r.history,ir,Ve.signal),xn=d||c,un=U.navigation.state!=="idle"?ys(xn,U.navigation.location,m):U.matches;Ze(un,"Didn't find any matches after fetcher action");let kr=++fe;je.set(M,kr);let Bn=Ql(Ee,Ge.data);U.fetchers.set(M,Bn);let{dsMatches:Hi,revalidatingFetchers:En}=C_(Gt,pe,a,l,r.history,U,un,Ee,ir,s,!1,qe,tt,ue,te,N,xn,m,r.patchRoutesOnNavigation!=null,[ie.route.id,Ge]);En.filter(bt=>bt.key!==M).forEach(bt=>{let sr=bt.key,ci=U.fetchers.get(sr),cn=Ql(void 0,ci?ci.data:void 0);U.fetchers.set(sr,cn),tr(sr),bt.controller&&Y.set(sr,bt.controller)}),Ct({fetchers:new Map(U.fetchers)});let In=()=>En.forEach(bt=>tr(bt.key));Ve.signal.addEventListener("abort",In);let{loaderResults:ke,fetcherResults:jt}=await Ui(Hi,En,Gt,pe);if(Ve.signal.aborted)return;if(Ve.signal.removeEventListener("abort",In),je.delete(M),Y.delete(M),En.forEach(bt=>Y.delete(bt.key)),U.fetchers.has(M)){let bt=ms(Ge.data);U.fetchers.set(M,bt)}let qn=Jc(ke);if(qn)return wr(Gt,qn.result,!1,{preventScrollReset:we});if(qn=Jc(jt),qn)return N.add(qn.key),wr(Gt,qn.result,!1,{preventScrollReset:we});let{loaderData:Vn,errors:Lr}=V_(U,un,ke,void 0,En,jt);Mr(kr),U.navigation.state==="loading"&&kr>ge?(Ze(I,"Expected pending action"),D&&D.abort(),vn(U.navigation.location,{matches:un,loaderData:Vn,errors:Lr,fetchers:new Map(U.fetchers)})):(Ct({errors:Lr,loaderData:P_(U.loaderData,Vn,un,Lr),fetchers:new Map(U.fetchers)}),qe=!1)}async function oi(M,H,K,ie,he,pe,Ae,ve,we,Ee){let Ie=U.fetchers.get(M);ct(M,Ql(Ee,Ie?Ie.data:void 0),{flushSync:ve});let Re=new AbortController,Ve=To(r.history,K,Re.signal);if(Ae){let Ge=await Vr(he,K,Ve.signal,M);if(Ge.type==="aborted")return;if(Ge.type==="error"){$e(M,H,Ge.error,{flushSync:ve});return}else if(Ge.matches)he=Ge.matches,ie=Wl(he,K);else{$e(M,H,yr(404,{pathname:K}),{flushSync:ve});return}}Y.set(M,Re);let Qe=fe,ft=xo(a,l,Ve,he,ie,s,pe),nt=(await er(Ve,ft,pe,M))[ie.route.id];if(Y.get(M)===Re&&Y.delete(M),!Ve.signal.aborted){if(ue.has(M)){ct(M,ms(void 0));return}if(ma(nt))if(ge>Qe){ct(M,ms(void 0));return}else{N.add(M),await wr(Ve,nt,!1,{preventScrollReset:we});return}if(Jn(nt)){$e(M,H,nt.error);return}ct(M,ms(nt.data))}}async function wr(M,H,K,{submission:ie,fetcherSubmission:he,preventScrollReset:pe,replace:Ae}={}){H.response.headers.has("X-Remix-Revalidate")&&(qe=!0);let ve=H.response.headers.get("Location");Ze(ve,"Expected a Location header on the redirect Response"),ve=N_(ve,new URL(M.url),m);let we=du(U.location,ve,{_isRedirect:!0});if(t){let ft=!1;if(H.response.headers.has("X-Remix-Reload-Document"))ft=!0;else if(lg.test(ve)){const lt=OE(ve,!0);ft=lt.origin!==e.location.origin||Er(lt.pathname,m)==null}if(ft){Ae?e.location.replace(ve):e.location.assign(ve);return}}D=null;let Ee=Ae===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:Re,formEncType:Ve}=U.navigation;!ie&&!he&&Ie&&Re&&Ve&&(ie=j_(U.navigation));let Qe=ie||he;if(vA.has(H.response.status)&&Qe&&Zn(Qe.formMethod))await Cn(Ee,we,{submission:{...Qe,formAction:ve},preventScrollReset:pe||R,enableViewTransition:K?V:void 0});else{let ft=om(we,ie);await Cn(Ee,we,{overrideNavigation:ft,fetcherSubmission:he,preventScrollReset:pe||R,enableViewTransition:K?V:void 0})}}async function er(M,H,K,ie){let he,pe={};try{he=await CA(p,M,H,ie,K,!1)}catch(Ae){return H.filter(ve=>ve.shouldLoad).forEach(ve=>{pe[ve.route.id]={type:"error",error:Ae}}),pe}if(M.signal.aborted)return pe;for(let[Ae,ve]of Object.entries(he))if(MA(ve)){let we=ve.result;pe[Ae]={type:"redirect",response:xA(we,M,Ae,H,m)}}else pe[Ae]=await OA(ve);return pe}async function Ui(M,H,K,ie){let he=er(K,M,ie,null),pe=Promise.all(H.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Ie=(await er(we.request,we.matches,ie,we.key))[we.match.route.id];return{[we.key]:Ie}}else return Promise.resolve({[we.key]:{type:"error",error:yr(404,{pathname:we.path})}})})),Ae=await he,ve=(await pe).reduce((we,Ee)=>Object.assign(we,Ee),{});return{loaderResults:Ae,fetcherResults:ve}}function ji(){qe=!0,te.forEach((M,H)=>{Y.has(H)&&tt.add(H),tr(H)})}function ct(M,H,K={}){U.fetchers.set(M,H),Ct({fetchers:new Map(U.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function $e(M,H,K,ie={}){let he=fa(U.matches,H);Ut(M),Ct({errors:{[he.route.id]:K},fetchers:new Map(U.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function _n(M){return de.set(M,(de.get(M)||0)+1),ue.has(M)&&ue.delete(M),U.fetchers.get(M)||_A}function Ut(M){let H=U.fetchers.get(M);Y.has(M)&&!(H&&H.state==="loading"&&je.has(M))&&tr(M),te.delete(M),je.delete(M),N.delete(M),ue.delete(M),tt.delete(M),U.fetchers.delete(M)}function Ca(M){let H=(de.get(M)||0)-1;H<=0?(de.delete(M),ue.add(M)):de.set(M,H),Ct({fetchers:new Map(U.fetchers)})}function tr(M){let H=Y.get(M);H&&(H.abort(),Y.delete(M))}function Ir(M){for(let H of M){let K=_n(H),ie=ms(K.data);U.fetchers.set(H,ie)}}function Nr(){let M=[],H=!1;for(let K of N){let ie=U.fetchers.get(K);Ze(ie,`Expected fetcher: ${K}`),ie.state==="loading"&&(N.delete(K),M.push(K),H=!0)}return Ir(M),H}function Mr(M){let H=[];for(let[K,ie]of je)if(ie<M){let he=U.fetchers.get(K);Ze(he,`Expected fetcher: ${K}`),he.state==="loading"&&(tr(K),je.delete(K),H.push(K))}return Ir(H),H.length>0}function zn(M,H){let K=U.blockers.get(M)||Kl;return be.get(M)!==H&&be.set(M,H),K}function li(M){U.blockers.delete(M),be.delete(M)}function nr(M,H){let K=U.blockers.get(M)||Kl;Ze(K.state==="unblocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="proceeding"||K.state==="blocked"&&H.state==="unblocked"||K.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${H.state}`);let ie=new Map(U.blockers);ie.set(M,H),Ct({blockers:ie})}function zi({currentLocation:M,nextLocation:H,historyAction:K}){if(be.size===0)return;be.size>1&&Ft(!1,"A router only supports one blocker at a time");let ie=Array.from(be.entries()),[he,pe]=ie[ie.length-1],Ae=U.blockers.get(he);if(!(Ae&&Ae.state==="proceeding")&&pe({currentLocation:M,nextLocation:H,historyAction:K}))return he}function ui(M){let H=yr(404,{pathname:M}),K=d||c,{matches:ie,route:he}=L_(K);return{notFoundMatches:ie,route:he,error:H}}function Ps(M,H,K){if(A=M,B=H,C=K||null,!P&&U.navigation===am){P=!0;let ie=Bi(U.location,U.matches);ie!=null&&Ct({restoreScrollPosition:ie})}return()=>{A=null,B=null,C=null}}function rr(M,H){return C&&C(M,H.map(ie=>XS(ie,U.loaderData)))||M.key}function br(M,H){if(A&&B){let K=rr(M,H);A[K]=B()}}function Bi(M,H){if(A){let K=rr(M,H),ie=A[K];if(typeof ie=="number")return ie}return null}function On(M,H,K){if(r.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:lh(H,K,m,!0)}}else return{active:!0,matches:lh(H,K,m,!0)||[]};return{active:!1,matches:null}}async function Vr(M,H,K,ie){if(!r.patchRoutesOnNavigation)return{type:"success",matches:M};let he=M;for(;;){let pe=d==null,Ae=d||c,ve=l;try{await r.patchRoutesOnNavigation({signal:K,path:H,matches:he,fetcherKey:ie,patch:(Ie,Re)=>{K.aborted||D_(Ie,Re,Ae,ve,a)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:he}}finally{pe&&!K.aborted&&(c=[...c])}if(K.aborted)return{type:"aborted"};let we=ys(Ae,H,m);if(we)return{type:"success",matches:we};let Ee=lh(Ae,H,m,!0);if(!Ee||he.length===Ee.length&&he.every((Ie,Re)=>Ie.route.id===Ee[Re].route.id))return{type:"success",matches:null};he=Ee}}function Pr(M){l={},d=yh(M,a,void 0,l)}function qi(M,H){let K=d==null;D_(M,H,d||c,l,a),K&&(c=[...c],Ct({}))}return le={get basename(){return m},get future(){return v},get state(){return U},get routes(){return c},get window(){return e},initialize:Lt,subscribe:Wn,enableScrollRestoration:Ps,navigate:xr,fetch:Vs,revalidate:ai,createHref:M=>r.history.createHref(M),encodeLocation:M=>r.history.encodeLocation(M),getFetcher:_n,deleteFetcher:Ca,dispose:yt,getBlocker:zn,deleteBlocker:li,patchRoutes:qi,_internalFetchControllers:Y,_internalSetRoutes:Pr},le}function bA(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Am(r,e,t,s,a,l){let c,d;if(a){c=[];for(let p of e)if(c.push(p),p.route.id===a){d=p;break}}else c=e,d=e[e.length-1];let m=og(s||".",ag(c),Er(r.pathname,t)||r.pathname,l==="path");if(s==null&&(m.search=r.search,m.hash=r.hash),(s==null||s===""||s===".")&&d){let p=ug(m.search);if(d.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let v=new URLSearchParams(m.search),w=v.getAll("index");v.delete("index"),w.filter(A=>A).forEach(A=>v.append("index",A));let b=v.toString();m.search=b?`?${b}`:""}}return t!=="/"&&(m.pathname=m.pathname==="/"?t:Jr([t,m.pathname])),Ss(m)}function R_(r,e,t){if(!t||!bA(t))return{path:e};if(t.formMethod&&!VA(t.formMethod))return{path:e,error:yr(405,{method:t.formMethod})};let s=()=>({path:e,error:yr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=BE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Zn(l))return s();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[A,C])=>`${b}${A}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Zn(l))return s();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return s()}}}Ze(typeof FormData=="function","FormData is not available in this environment");let d,m;if(t.formData)d=Dm(t.formData),m=t.formData;else if(t.body instanceof FormData)d=Dm(t.body),m=t.body;else if(t.body instanceof URLSearchParams)d=t.body,m=M_(d);else if(t.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(t.body),m=M_(d)}catch{return s()}let p={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Zn(p.formMethod))return{path:e,submission:p};let v=Is(e);return r&&v.search&&ug(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Ss(v),submission:p}}function C_(r,e,t,s,a,l,c,d,m,p,v,w,b,A,C,B,P,q,ae,G){let ce=G?Jn(G[1])?G[1].error:G[1].data:void 0,le=a.createURL(l.location),U=a.createURL(m),I;if(v&&l.errors){let O=Object.keys(l.errors)[0];I=c.findIndex(qe=>qe.route.id===O)}else if(G&&Jn(G[1])){let O=G[0];I=c.findIndex(qe=>qe.route.id===O)-1}let R=G?G[1].statusCode:void 0,D=R&&R>=400,V={currentUrl:le,currentParams:l.matches[0]?.params||{},nextUrl:U,nextParams:c[0].params,...d,actionResult:ce,actionStatus:R},L=c.map((O,qe)=>{let{route:tt}=O,Y=null;if(I!=null&&qe>I?Y=!1:tt.lazy?Y=!0:tt.loader==null?Y=!1:v?Y=Rm(tt,l.loaderData,l.errors):TA(l.loaderData,l.matches[qe],O)&&(Y=!0),Y!==null)return Cm(t,s,r,O,p,e,Y);let fe=D?!1:w||le.pathname+le.search===U.pathname+U.search||le.search!==U.search||SA(l.matches[qe],O),ge={...V,defaultShouldRevalidate:fe},je=Eh(O,ge);return Cm(t,s,r,O,p,e,je,ge)}),j=[];return C.forEach((O,qe)=>{if(v||!c.some(de=>de.route.id===O.routeId)||A.has(qe))return;let tt=l.fetchers.get(qe),Y=tt&&tt.state!=="idle"&&tt.data===void 0,fe=ys(P,O.path,q);if(!fe){if(ae&&Y)return;j.push({key:qe,routeId:O.routeId,path:O.path,matches:null,match:null,request:null,controller:null});return}if(B.has(qe))return;let ge=Wl(fe,O.path),je=new AbortController,N=To(a,O.path,je.signal),te=null;if(b.has(qe))b.delete(qe),te=xo(t,s,N,fe,ge,p,e);else if(Y)w&&(te=xo(t,s,N,fe,ge,p,e));else{let de={...V,defaultShouldRevalidate:D?!1:w};Eh(ge,de)&&(te=xo(t,s,N,fe,ge,p,e,de))}te&&j.push({key:qe,routeId:O.routeId,path:O.path,matches:te,match:ge,request:N,controller:je})}),{dsMatches:L,revalidatingFetchers:j}}function Rm(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&r.id in e,a=t!=null&&t[r.id]!==void 0;return!s&&a?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!a}function TA(r,e,t){let s=!e||t.route.id!==e.route.id,a=!r.hasOwnProperty(t.route.id);return s||a}function SA(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Eh(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function D_(r,e,t,s,a){let l;if(r){let m=s[r];Ze(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),l=m.children}else l=t;let c=e.filter(m=>!l.some(p=>kE(m,p))),d=yh(c,a,[r||"_","patch",String(l?.length||"0")],s);l.push(...d)}function kE(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,s)=>e.children?.some(a=>kE(t,a))):!1}var O_=new WeakMap,LE=({key:r,route:e,manifest:t,mapRouteProperties:s})=>{let a=t[e.id];if(Ze(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[r];if(!l)return;let c=O_.get(a);c||(c={},O_.set(a,c));let d=c[r];if(d)return d;let m=(async()=>{let p=GS(r),w=a[r]!==void 0&&r!=="hasErrorBoundary";if(p)Ft(!p,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(w)Ft(!1,`Route "${a.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let b=await l();b!=null&&(Object.assign(a,{[r]:b}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[r]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))})();return c[r]=m,m},x_=new WeakMap;function AA(r,e,t,s,a){let l=t[r.id];if(Ze(l,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=x_.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{Ze(typeof r.lazy=="function","No lazy route function found");let b=await r.lazy(),A={};for(let C in b){let B=b[C];if(B===void 0)continue;let P=QS(C),ae=l[C]!==void 0&&C!=="hasErrorBoundary";P?Ft(!P,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ae?Ft(!ae,`Route "${l.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):A[C]=B}Object.assign(l,A),Object.assign(l,{...s(l),lazy:void 0})})();return x_.set(l,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let c=Object.keys(r.lazy),d=[],m;for(let v of c){if(a&&a.includes(v))continue;let w=LE({key:v,route:r,manifest:t,mapRouteProperties:s});w&&(d.push(w),v===e&&(m=w))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function I_(r){let e=r.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{t[e[l].route.id]=a}),t}async function RA(r){return r.matches.some(e=>e.route.unstable_middleware)?UE(r,!1,()=>I_(r),(e,t)=>({[t]:{type:"error",result:e}})):I_(r)}async function UE(r,e,t,s){let{matches:a,request:l,params:c,context:d}=r,m={handlerResult:void 0};try{let p=a.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(b=>[w.route.id,b]):[]),v=await jE({request:l,params:c,context:d},p,e,m,t);return e?v:m.handlerResult}catch(p){if(!m.middlewareError)throw p;let v=await s(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,v):v}}async function jE(r,e,t,s,a,l=0){let{request:c}=r;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d)return s.handlerResult=await a(),s.handlerResult;let[m,p]=d,v=!1,w,b=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await jE(r,e,t,s,a,l+1)};try{let A=await p({request:r.request,params:r.params,context:r.context},b);return v?A===void 0?w:A:b()}catch(A){throw s.middlewareError?s.middlewareError.error!==A&&(s.middlewareError={routeId:m,error:A}):s.middlewareError={routeId:m,error:A},A}}function zE(r,e,t,s,a){let l=LE({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:r}),c=AA(s.route,Zn(t.method)?"action":"loader",e,r,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Cm(r,e,t,s,a,l,c,d=null){let m=!1,p=zE(r,e,t,s,a);return{...s,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return m=!0,d?typeof v=="boolean"?Eh(s,{...d,defaultShouldRevalidate:v}):Eh(s,d):c},resolve(v){return m||c||v&&t.method==="GET"&&(s.route.lazy||s.route.loader)?DA({request:t,match:s,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function xo(r,e,t,s,a,l,c,d=null){return s.map(m=>m.route.id!==a.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:zE(r,e,t,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Cm(r,e,t,m,l,c,!0,d))}async function CA(r,e,t,s,a,l){t.some(p=>p._lazyPromises?.middleware)&&await Promise.all(t.map(p=>p._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:a,matches:t},m=await r({...c,fetcherKey:s,unstable_runClientMiddleware:p=>{let v=c;return UE(v,!1,()=>p({...v,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(w,b)=>({[b]:{type:"error",result:w}}))}});try{await Promise.all(t.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return m}async function DA({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,d,m=Zn(r.method),p=m?"action":"loader",v=w=>{let b,A=new Promise((P,q)=>b=q);d=()=>b(),r.signal.addEventListener("abort",d);let C=P=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:r,params:e.params,context:l},...P!==void 0?[P]:[]),B=(async()=>{try{return{type:"data",result:await(a?a(q=>C(q)):C())}}catch(P){return{type:"error",result:P}}})();return Promise.race([B,A])};try{let w=m?e.route.action:e.route.loader;if(t||s)if(w){let b,[A]=await Promise.all([v(w).catch(C=>{b=C}),t,s]);if(b!==void 0)throw b;c=A}else{await t;let b=m?e.route.action:e.route.loader;if(b)[c]=await Promise.all([v(b),s]);else if(p==="action"){let A=new URL(r.url),C=A.pathname+A.search;throw yr(405,{method:r.method,pathname:C,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)c=await v(w);else{let b=new URL(r.url),A=b.pathname+b.search;throw yr(404,{pathname:A})}}catch(w){return{type:"error",result:w}}finally{d&&r.signal.removeEventListener("abort",d)}return c}async function OA(r){let{result:e,type:t}=r;if(qE(e)){let s;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(a){return{type:"error",error:a}}return t==="error"?{type:"error",error:new _h(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return t==="error"?U_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _h(e.init?.status||500,void 0,e.data),statusCode:mu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:mu(e)?e.status:void 0}:U_(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function xA(r,e,t,s,a){let l=r.headers.get("Location");if(Ze(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!lg.test(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===t)+1);l=Am(new URL(e.url),c,a,l),r.headers.set("Location",l)}return r}function N_(r,e,t){if(lg.test(r)){let s=r,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=Er(a.pathname,t)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return r}function To(r,e,t,s){let a=r.createURL(BE(e)).toString(),l={signal:t};if(s&&Zn(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=Dm(s.formData):l.body=s.formData}return new Request(a,l)}function Dm(r){let e=new URLSearchParams;for(let[t,s]of r.entries())e.append(t,typeof s=="string"?s:s.name);return e}function M_(r){let e=new FormData;for(let[t,s]of r.entries())e.append(t,s);return e}function IA(r,e,t,s=!1,a=!1){let l={},c=null,d,m=!1,p={},v=t&&Jn(t[1])?t[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let b=w.route.id,A=e[b];if(Ze(!ma(A),"Cannot handle redirect results in processLoaderData"),Jn(A)){let C=A.error;if(v!==void 0&&(C=v,v=void 0),c=c||{},a)c[b]=C;else{let B=fa(r,b);c[B.route.id]==null&&(c[B.route.id]=C)}s||(l[b]=PE),m||(m=!0,d=mu(A.error)?A.error.status:500),A.headers&&(p[b]=A.headers)}else l[b]=A.data,A.statusCode&&A.statusCode!==200&&!m&&(d=A.statusCode),A.headers&&(p[b]=A.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:p}}function V_(r,e,t,s,a,l){let{loaderData:c,errors:d}=IA(e,t,s);return a.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:v,controller:w}=m,b=l[p];if(Ze(b,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Jn(b)){let A=fa(r.matches,v?.route.id);d&&d[A.route.id]||(d={...d,[A.route.id]:b.error}),r.fetchers.delete(p)}else if(ma(b))Ze(!1,"Unhandled fetcher revalidation redirect");else{let A=ms(b.data);r.fetchers.set(p,A)}}),{loaderData:c,errors:d}}function P_(r,e,t,s){let a=Object.entries(e).filter(([,l])=>l!==PE).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&l.route.loader&&(a[c]=r[c]),s&&s.hasOwnProperty(c))break}return a}function k_(r){return r?Jn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function fa(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function L_(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yr(r,{pathname:e,routeId:t,method:s,type:a,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(c="Bad Request",s&&e&&t?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):r===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",d=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",s&&e&&t?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new _h(r||500,c,new Error(d),!0)}function Jc(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[s,a]=e[t];if(ma(a))return{key:s,result:a}}}function BE(r){let e=typeof r=="string"?Is(r):r;return Ss({...e,hash:""})}function NA(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function MA(r){return qE(r.result)&&yA.has(r.result.status)}function Jn(r){return r.type==="error"}function ma(r){return(r&&r.type)==="redirect"}function U_(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function qE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function VA(r){return pA.has(r.toUpperCase())}function Zn(r){return mA.has(r.toUpperCase())}function ug(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Wl(r,e){let t=typeof e=="string"?Is(e).search:e.search;if(r[r.length-1].route.index&&ug(t||""))return r[r.length-1];let s=NE(r);return s[s.length-1]}function j_(r){let{formMethod:e,formAction:t,formEncType:s,text:a,formData:l,json:c}=r;if(!(!e||!t||!s)){if(a!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function om(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PA(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ql(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kA(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function ms(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function LA(r,e){try{let t=r.sessionStorage.getItem(VE);if(t){let s=JSON.parse(t);for(let[a,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function UA(r,e){if(e.size>0){let t={};for(let[s,a]of e)t[s]=[...a];try{r.sessionStorage.setItem(VE,JSON.stringify(t))}catch(s){Ft(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function jA(){let r,e,t=new Promise((s,a)=>{r=async l=>{s(l);try{await t}catch{}},e=async l=>{a(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var _a=W.createContext(null);_a.displayName="DataRouter";var Ru=W.createContext(null);Ru.displayName="DataRouterState";var cg=W.createContext({isTransitioning:!1});cg.displayName="ViewTransition";var HE=W.createContext(new Map);HE.displayName="Fetchers";var zA=W.createContext(null);zA.displayName="Await";var ii=W.createContext(null);ii.displayName="Navigation";var zh=W.createContext(null);zh.displayName="Location";var si=W.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var hg=W.createContext(null);hg.displayName="RouteError";function BA(r,{relative:e}={}){Ze(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=W.useContext(ii),{hash:a,pathname:l,search:c}=Du(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Jr([t,l])),s.createHref({pathname:d,search:c,hash:a})}function Cu(){return W.useContext(zh)!=null}function Ea(){return Ze(Cu(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(zh).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(r){W.useContext(ii).static||W.useLayoutEffect(r)}function GE(){let{isDataRoute:r}=W.useContext(si);return r?n1():qA()}function qA(){Ze(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(_a),{basename:e,navigator:t}=W.useContext(ii),{matches:s}=W.useContext(si),{pathname:a}=Ea(),l=JSON.stringify(ag(s)),c=W.useRef(!1);return FE(()=>{c.current=!0}),W.useCallback((m,p={})=>{if(Ft(c.current,$E),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=og(m,JSON.parse(l),a,p.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,r])}var HA=W.createContext(null);function $A(r){let e=W.useContext(si).outlet;return e&&W.createElement(HA.Provider,{value:r},e)}function Du(r,{relative:e}={}){let{matches:t}=W.useContext(si),{pathname:s}=Ea(),a=JSON.stringify(ag(t));return W.useMemo(()=>og(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function FA(r,e,t,s){Ze(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=W.useContext(ii),{matches:l}=W.useContext(si),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let q=v&&v.path||"";KE(m,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Ea(),b;b=w;let A=b.pathname||"/",C=A;if(p!=="/"){let q=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(q.length).join("/")}let B=ys(r,{pathname:C});return Ft(v||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ft(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),XA(B&&B.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:Jr([p,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:Jr([p,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,s)}function GA(){let r=t1(),e=mu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:a},t):null,c)}var KA=W.createElement(GA,null),QA=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?W.createElement(si.Provider,{value:this.props.routeContext},W.createElement(hg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YA({routeContext:r,match:e,children:t}){let s=W.useContext(_a);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(si.Provider,{value:r},t)}function XA(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,l=t?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Ze(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:w}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let w,b=!1,A=null,C=null;t&&(w=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||KA,c&&(d<0&&v===0?(KE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):d===v&&(b=!0,C=p.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,v+1)),P=()=>{let q;return w?q=A:b?q=C:p.route.Component?q=W.createElement(p.route.Component,null):p.route.element?q=p.route.element:q=m,W.createElement(YA,{match:p,routeContext:{outlet:m,matches:B,isDataRoute:t!=null},children:q})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?W.createElement(QA,{location:t.location,revalidation:t.revalidation,component:A,error:w,children:P(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):P()},null)}function fg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JA(r){let e=W.useContext(_a);return Ze(e,fg(r)),e}function ZA(r){let e=W.useContext(Ru);return Ze(e,fg(r)),e}function WA(r){let e=W.useContext(si);return Ze(e,fg(r)),e}function dg(r){let e=WA(r),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function e1(){return dg("useRouteId")}function t1(){let r=W.useContext(hg),e=ZA("useRouteError"),t=dg("useRouteError");return r!==void 0?r:e.errors?.[t]}function n1(){let{router:r}=JA("useNavigate"),e=dg("useNavigate"),t=W.useRef(!1);return FE(()=>{t.current=!0}),W.useCallback(async(a,l={})=>{Ft(t.current,$E),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var z_={};function KE(r,e,t){!e&&!z_[r]&&(z_[r]=!0,Ft(!1,t))}var B_={};function q_(r,e){!r&&!B_[e]&&(B_[e]=!0,console.warn(e))}function r1(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Ft(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Ft(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Ft(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var i1=["HydrateFallback","hydrateFallbackElement"],s1=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function a1({router:r,flushSync:e}){let[t,s]=W.useState(r.state),[a,l]=W.useState(),[c,d]=W.useState({isTransitioning:!1}),[m,p]=W.useState(),[v,w]=W.useState(),[b,A]=W.useState(),C=W.useRef(new Map),B=W.useCallback((G,{deletedFetchers:ce,flushSync:le,viewTransitionOpts:U})=>{G.fetchers.forEach((R,D)=>{R.data!==void 0&&C.current.set(D,R.data)}),ce.forEach(R=>C.current.delete(R)),q_(le===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(q_(U==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!I){e&&le?e(()=>s(G)):W.startTransition(()=>s(G));return}if(e&&le){e(()=>{v&&(m&&m.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let R=r.window.document.startViewTransition(()=>{e(()=>s(G))});R.finished.finally(()=>{e(()=>{p(void 0),w(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>w(R));return}v?(m&&m.resolve(),v.skipTransition(),A({state:G,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(l(G),d({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[r.window,e,v,m]);W.useLayoutEffect(()=>r.subscribe(B),[r,B]),W.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new s1)},[c]),W.useEffect(()=>{if(m&&a&&r.window){let G=a,ce=m.promise,le=r.window.document.startViewTransition(async()=>{W.startTransition(()=>s(G)),await ce});le.finished.finally(()=>{p(void 0),w(void 0),l(void 0),d({isTransitioning:!1})}),w(le)}},[a,m,r.window]),W.useEffect(()=>{m&&a&&t.location.key===a.location.key&&m.resolve()},[m,v,t.location,a]),W.useEffect(()=>{!c.isTransitioning&&b&&(l(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),A(void 0))},[c.isTransitioning,b]);let P=W.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:G=>r.navigate(G),push:(G,ce,le)=>r.navigate(G,{state:ce,preventScrollReset:le?.preventScrollReset}),replace:(G,ce,le)=>r.navigate(G,{replace:!0,state:ce,preventScrollReset:le?.preventScrollReset})}),[r]),q=r.basename||"/",ae=W.useMemo(()=>({router:r,navigator:P,static:!1,basename:q}),[r,P,q]);return W.createElement(W.Fragment,null,W.createElement(_a.Provider,{value:ae},W.createElement(Ru.Provider,{value:t},W.createElement(HE.Provider,{value:C.current},W.createElement(cg.Provider,{value:c},W.createElement(c1,{basename:q,location:t.location,navigationType:t.historyAction,navigator:P},W.createElement(o1,{routes:r.routes,future:r.future,state:t})))))),null)}var o1=W.memo(l1);function l1({routes:r,future:e,state:t}){return FA(r,void 0,t,e)}function u1(r){return $A(r.context)}function c1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){Ze(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Is(t));let{pathname:m="/",search:p="",hash:v="",state:w=null,key:b="default"}=t,A=W.useMemo(()=>{let C=Er(m,c);return C==null?null:{location:{pathname:C,search:p,hash:v,state:w,key:b},navigationType:s}},[c,m,p,v,w,b,s]);return Ft(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:W.createElement(ii.Provider,{value:d},W.createElement(zh.Provider,{children:e,value:A}))}var uh="get",ch="application/x-www-form-urlencoded";function Bh(r){return r!=null&&typeof r.tagName=="string"}function h1(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function f1(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function d1(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function m1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g1(r,e){return r.button===0&&(!e||e==="_self")&&!m1(r)}var Zc=null;function p1(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var y1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!y1.has(r)?(Ft(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):r}function v1(r,e){let t,s,a,l,c;if(f1(r)){let d=r.getAttribute("action");s=d?Er(d,e):null,t=r.getAttribute("method")||uh,a=lm(r.getAttribute("enctype"))||ch,l=new FormData(r)}else if(h1(r)||d1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(s=m?Er(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||uh,a=lm(r.getAttribute("formenctype"))||lm(d.getAttribute("enctype"))||ch,l=new FormData(d,r),!p1()){let{name:p,type:v,value:w}=r;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,w)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uh,s=null,a=ch,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function mg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function _1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function w1(r,e,t){let s=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await _1(l,t);return c.links?c.links():[]}return[]}));return A1(s.flat(1).filter(E1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function H_(r,e,t,s,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function b1(r,e,{includeHydrateFallback:t}={}){return T1(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function T1(r){return[...new Set(r)]}function S1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function A1(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let l=JSON.stringify(S1(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R1=new Set([100,101,204,205]);function C1(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Er(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function QE(){let r=W.useContext(_a);return mg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function D1(){let r=W.useContext(Ru);return mg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gg=W.createContext(void 0);gg.displayName="FrameworkContext";function YE(){let r=W.useContext(gg);return mg(r,"You must render this element inside a <HydratedRouter> element"),r}function O1(r,e){let t=W.useContext(gg),[s,a]=W.useState(!1),[l,c]=W.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,b=W.useRef(null);W.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let B=q=>{q.forEach(ae=>{c(ae.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[r]),W.useEffect(()=>{if(s){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[s]);let A=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,b,{}]:[l,b,{onFocus:Yl(d,A),onBlur:Yl(m,C),onMouseEnter:Yl(p,A),onMouseLeave:Yl(v,C),onTouchStart:Yl(w,A)}]:[!1,b,{}]}function Yl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function x1({page:r,...e}){let{router:t}=QE(),s=W.useMemo(()=>ys(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?W.createElement(N1,{page:r,matches:s,...e}):null}function I1(r){let{manifest:e,routeModules:t}=YE(),[s,a]=W.useState([]);return W.useEffect(()=>{let l=!1;return w1(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),s}function N1({page:r,matches:e,...t}){let s=Ea(),{manifest:a,routeModules:l}=YE(),{basename:c}=QE(),{loaderData:d,matches:m}=D1(),p=W.useMemo(()=>H_(r,e,m,a,s,"data"),[r,e,m,a,s]),v=W.useMemo(()=>H_(r,e,m,a,s,"assets"),[r,e,m,a,s]),w=W.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,B=!1;if(e.forEach(q=>{let ae=a.routes[q.route.id];!ae||!ae.hasLoader||(!p.some(G=>G.route.id===q.route.id)&&q.route.id in d&&l[q.route.id]?.shouldRevalidate||ae.hasClientLoader?B=!0:C.add(q.route.id))}),C.size===0)return[];let P=C1(r,c);return B&&C.size>0&&P.searchParams.set("_routes",e.filter(q=>C.has(q.route.id)).map(q=>q.route.id).join(",")),[P.pathname+P.search]},[c,d,s,a,p,e,r,l]),b=W.useMemo(()=>b1(v,a),[v,a]),A=I1(v);return W.createElement(W.Fragment,null,w.map(C=>W.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>W.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),A.map(({key:C,link:B})=>W.createElement("link",{key:C,...B})))}function M1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.6.3")}catch{}function V1(r,e){return wA({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:qS({window:e?.window}),hydrationData:P1(),routes:r,mapRouteProperties:r1,hydrationRouteProperties:i1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function P1(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:k1(r.errors)}),r}function k1(r){if(!r)return null;let e=Object.entries(r),t={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")t[s]=new _h(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let l=new Error(a.message);l.stack="",t[s]=l}}else t[s]=a;return t}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=W.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:w,...b},A){let{basename:C}=W.useContext(ii),B=typeof p=="string"&&JE.test(p),P,q=!1;if(typeof p=="string"&&B&&(P=p,XE))try{let D=new URL(window.location.href),V=p.startsWith("//")?new URL(D.protocol+p):new URL(p),L=Er(V.pathname,C);V.origin===D.origin&&L!=null?p=L+V.search+V.hash:q=!0}catch{Ft(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=BA(p,{relative:a}),[G,ce,le]=O1(s,b),U=z1(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:w});function I(D){e&&e(D),D.defaultPrevented||U(D)}let R=W.createElement("a",{...b,...le,href:P||ae,onClick:q||l?e:I,ref:M1(A,ce),target:m,"data-discover":!B&&t==="render"?"true":void 0});return G&&!B?W.createElement(W.Fragment,null,R,W.createElement(x1,{page:ae})):R});ZE.displayName="Link";var L1=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},v){let w=Du(c,{relative:p.relative}),b=Ea(),A=W.useContext(Ru),{navigator:C,basename:B}=W.useContext(ii),P=A!=null&&F1(w)&&d===!0,q=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,ae=b.pathname,G=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(ae=ae.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&B&&(G=Er(G,B)||G);const ce=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let le=ae===q||!a&&ae.startsWith(q)&&ae.charAt(ce)==="/",U=G!=null&&(G===q||!a&&G.startsWith(q)&&G.charAt(q.length)==="/"),I={isActive:le,isPending:U,isTransitioning:P},R=le?e:void 0,D;typeof s=="function"?D=s(I):D=[s,le?"active":null,U?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return W.createElement(ZE,{...p,"aria-current":R,className:D,ref:v,style:V,to:c,viewTransition:d},typeof m=="function"?m(I):m)});L1.displayName="NavLink";var U1=W.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=uh,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:w,...b},A)=>{let C=H1(),B=$1(d,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&JE.test(d),ae=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let ce=G.nativeEvent.submitter,le=ce?.getAttribute("formmethod")||c;C(ce||G.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:w})};return W.createElement("form",{ref:A,method:P,action:B,onSubmit:s?m:ae,...b,"data-discover":!q&&r==="render"?"true":void 0})});U1.displayName="Form";function j1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WE(r){let e=W.useContext(_a);return Ze(e,j1(r)),e}function z1(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=GE(),m=Ea(),p=Du(r,{relative:l});return W.useCallback(v=>{if(g1(v,e)){v.preventDefault();let w=t!==void 0?t:Ss(m)===Ss(p);d(r,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,s,e,r,a,l,c])}var B1=0,q1=()=>`__${String(++B1)}__`;function H1(){let{router:r}=WE("useSubmit"),{basename:e}=W.useContext(ii),t=e1();return W.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=v1(s,e);if(a.navigate===!1){let v=a.fetcherKey||q1();await r.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function $1(r,{relative:e}={}){let{basename:t}=W.useContext(ii),s=W.useContext(si);Ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Du(r||".",{relative:e})},c=Ea();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Jr([t,l.pathname])),Ss(l)}function F1(r,e={}){let t=W.useContext(cg);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WE("useViewTransitionState"),a=Du(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Er(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Er(t.nextLocation.pathname,s)||t.nextLocation.pathname;return vh(a.pathname,c)!=null||vh(a.pathname,l)!=null}[...R1];var G1=CE();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K1(r){return W.createElement(a1,{flushSync:G1.flushSync,...r})}const Q1=()=>xe.jsx("div",{children:xe.jsx(u1,{})}),Y1=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},X1=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,p=m?r[a+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,A=p&63;m||(A=64,c||(b=64)),s.push(t[v],t[w],t[b],t[A])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ew(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):X1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const p=a<r.length?t[r.charAt(a)]:64;++a;const w=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||p==null||w==null)throw new J1;const b=l<<2|d>>4;if(s.push(b),p!==64){const A=d<<4&240|p>>2;if(s.push(A),w!==64){const C=p<<6&192|w;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class J1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z1=function(r){const e=ew(r);return tw.encodeByteArray(e,!0)},wh=function(r){return Z1(r).replace(/\./g,"")},W1=function(r){try{return tw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof $_>"u")return;const r=$_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&W1(r[1]);return e&&JSON.parse(e)},pg=()=>{try{return Y1()||tR()||nR()||rR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},iR=r=>pg()?.emulatorHosts?.[r],sR=r=>{const e=iR(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},nw=()=>pg()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aR=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oR(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(t)),wh(JSON.stringify(c)),""].join(".")}const su={};function uR(){const r={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?r.emulator.push(e):r.prod.push(e);return r}function cR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let F_=!1;function hR(r,e){if(typeof window>"u"||typeof document>"u"||!yg(window.location.host)||su[r]===e||su[r]||F_)return;su[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=uR().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{F_=!0,c()},b}function v(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=cR(s),A=t("text"),C=document.getElementById(A)||document.createElement("span"),B=t("learnmore"),P=document.getElementById(B)||document.createElement("a"),q=t("preprendIcon"),ae=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const G=b.element;d(G),v(P,B);const ce=p();m(ae,q),G.append(ae,C,P,ce),document.body.appendChild(G)}l?(C.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){const r=pg()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return!dR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="FirebaseError";class zo extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=yR,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rw.prototype.create)}}class rw{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?vR(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new zo(a,d,s)}}function vR(r,e){return r.replace(_R,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const _R=/\{\$([^}]+)}/g;function bh(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],c=e[a];if(G_(l)&&G_(c)){if(!bh(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r){return r&&r._delegate?r._delegate:r}class gu{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new aR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(r){return r===ca?void 0:r}function bR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ER(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ot||(ot={}));const SR={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},AR=ot.INFO,RR={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},CR=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=RR[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iw{constructor(e){this.name=e,this._logLevel=AR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const DR=(r,e)=>e.some(t=>r instanceof t);let K_,Q_;function OR(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,Om=new WeakMap,aw=new WeakMap,um=new WeakMap,vg=new WeakMap;function IR(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Es(r.result)),a()},c=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sw.set(t,r)}).catch(()=>{}),vg.set(e,r),e}function NR(r){if(Om.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Om.set(r,e)}let xm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||aw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function MR(r){xm=r(xm)}function VR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(cm(this),e,...t);return aw.set(s,e.sort?e.sort():[e]),Es(s)}:xR().includes(r)?function(...e){return r.apply(cm(this),e),Es(sw.get(this))}:function(...e){return Es(r.apply(cm(this),e))}}function PR(r){return typeof r=="function"?VR(r):(r instanceof IDBTransaction&&NR(r),DR(r,OR())?new Proxy(r,xm):r)}function Es(r){if(r instanceof IDBRequest)return IR(r);if(um.has(r))return um.get(r);const e=PR(r);return e!==r&&(um.set(r,e),vg.set(e,r)),e}const cm=r=>vg.get(r);function kR(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Es(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Es(c.result),m.oldVersion,m.newVersion,Es(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const LR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],hm=new Map;function Y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=UR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||LR.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return hm.set(e,l),l}MR(r=>({...r,get:(e,t,s)=>Y_(e,t)||r.get(e,t,s),has:(e,t)=>!!Y_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function zR(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",X_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new iw("@firebase/app"),BR="@firebase/app-compat",qR="@firebase/analytics-compat",HR="@firebase/analytics",$R="@firebase/app-check-compat",FR="@firebase/app-check",GR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",YR="@firebase/data-connect",XR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",WR="@firebase/installations",eC="@firebase/installations-compat",tC="@firebase/messaging",nC="@firebase/messaging-compat",rC="@firebase/performance",iC="@firebase/performance-compat",sC="@firebase/remote-config",aC="@firebase/remote-config-compat",oC="@firebase/storage",lC="@firebase/storage-compat",uC="@firebase/firestore",cC="@firebase/ai",hC="@firebase/firestore-compat",fC="firebase",dC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",mC={[Im]:"fire-core",[BR]:"fire-core-compat",[HR]:"fire-analytics",[qR]:"fire-analytics-compat",[FR]:"fire-app-check",[$R]:"fire-app-check-compat",[GR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[YR]:"fire-data-connect",[XR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[WR]:"fire-iid",[eC]:"fire-iid-compat",[tC]:"fire-fcm",[nC]:"fire-fcm-compat",[rC]:"fire-perf",[iC]:"fire-perf-compat",[sC]:"fire-rc",[aC]:"fire-rc-compat",[oC]:"fire-gcs",[lC]:"fire-gcs-compat",[uC]:"fire-fst",[hC]:"fire-fst-compat",[cC]:"fire-vertex","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,gC=new Map,Mm=new Map;function J_(r,e){try{r.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ah(r){const e=r.name;if(Mm.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const t of Sh.values())J_(t,r);for(const t of gC.values())J_(t,r);return!0}function pC(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function yC(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new rw("app","Firebase",vC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=dC;function ow(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:Nm,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ws.create("bad-app-name",{appName:String(a)});if(t||(t=nw()),!t)throw ws.create("no-options");const l=Sh.get(a);if(l){if(bh(t,l.options)&&bh(s,l.config))return l;throw ws.create("duplicate-app",{appName:a})}const c=new TR(a);for(const m of Mm.values())c.addComponent(m);const d=new _C(t,s,c);return Sh.set(a,d),d}function wC(r=Nm){const e=Sh.get(r);if(!e&&r===Nm&&nw())return ow();if(!e)throw ws.create("no-app",{appName:r});return e}function Io(r,e,t){let s=mC[r]??r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(c.join(" "));return}Ah(new gu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firebase-heartbeat-database",TC=1,pu="firebase-heartbeat-store";let fm=null;function lw(){return fm||(fm=kR(bC,TC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(r=>{throw ws.create("idb-open",{originalErrorMessage:r.message})})),fm}async function SC(r){try{const t=(await lw()).transaction(pu),s=await t.objectStore(pu).get(uw(r));return await t.done,s}catch(e){if(e instanceof zo)Vi.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(t.message)}}}async function Z_(r,e){try{const s=(await lw()).transaction(pu,"readwrite");await s.objectStore(pu).put(e,uw(r)),await s.done}catch(t){if(t instanceof zo)Vi.warn(t.message);else{const s=ws.create("idb-set",{originalErrorMessage:t?.message});Vi.warn(s.message)}}}function uw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1024,RC=30;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>RC){const a=xC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:t,unsentEntries:s}=DC(this._heartbeatsCache.heartbeats),a=wh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vi.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function DC(r,e=AC){const t=[];let s=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),e0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),e0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class OC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function e0(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function xC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){Ah(new gu("platform-logger",e=>new jR(e),"PRIVATE")),Ah(new gu("heartbeat",e=>new CC(e),"PRIVATE")),Io(Im,X_,r),Io(Im,X_,"esm2020"),Io("fire-js","")}IC("");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,cw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function D(){}D.prototype=R.prototype,I.D=R.prototype,I.prototype=new D,I.prototype.constructor=I,I.C=function(V,L,j){for(var O=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)O[qe-2]=arguments[qe];return R.prototype[L].apply(V,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,D){D||(D=0);var V=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)V[L]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(L=0;16>L;++L)V[L]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=I.g[0],D=I.g[1],L=I.g[2];var j=I.g[3],O=R+(j^D&(L^j))+V[0]+3614090360&4294967295;R=D+(O<<7&4294967295|O>>>25),O=j+(L^R&(D^L))+V[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(D^j&(R^D))+V[2]+606105819&4294967295,L=j+(O<<17&4294967295|O>>>15),O=D+(R^L&(j^R))+V[3]+3250441966&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+(j^D&(L^j))+V[4]+4118548399&4294967295,R=D+(O<<7&4294967295|O>>>25),O=j+(L^R&(D^L))+V[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(D^j&(R^D))+V[6]+2821735955&4294967295,L=j+(O<<17&4294967295|O>>>15),O=D+(R^L&(j^R))+V[7]+4249261313&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+(j^D&(L^j))+V[8]+1770035416&4294967295,R=D+(O<<7&4294967295|O>>>25),O=j+(L^R&(D^L))+V[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(D^j&(R^D))+V[10]+4294925233&4294967295,L=j+(O<<17&4294967295|O>>>15),O=D+(R^L&(j^R))+V[11]+2304563134&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+(j^D&(L^j))+V[12]+1804603682&4294967295,R=D+(O<<7&4294967295|O>>>25),O=j+(L^R&(D^L))+V[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(D^j&(R^D))+V[14]+2792965006&4294967295,L=j+(O<<17&4294967295|O>>>15),O=D+(R^L&(j^R))+V[15]+1236535329&4294967295,D=L+(O<<22&4294967295|O>>>10),O=R+(L^j&(D^L))+V[1]+4129170786&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^L&(R^D))+V[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^D&(j^R))+V[11]+643717713&4294967295,L=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(L^j))+V[0]+3921069994&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(L^j&(D^L))+V[5]+3593408605&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^L&(R^D))+V[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^D&(j^R))+V[15]+3634488961&4294967295,L=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(L^j))+V[4]+3889429448&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(L^j&(D^L))+V[9]+568446438&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^L&(R^D))+V[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^D&(j^R))+V[3]+4107603335&4294967295,L=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(L^j))+V[8]+1163531501&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(L^j&(D^L))+V[13]+2850285829&4294967295,R=D+(O<<5&4294967295|O>>>27),O=j+(D^L&(R^D))+V[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^D&(j^R))+V[7]+1735328473&4294967295,L=j+(O<<14&4294967295|O>>>18),O=D+(j^R&(L^j))+V[12]+2368359562&4294967295,D=L+(O<<20&4294967295|O>>>12),O=R+(D^L^j)+V[5]+4294588738&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^L)+V[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^D)+V[11]+1839030562&4294967295,L=j+(O<<16&4294967295|O>>>16),O=D+(L^j^R)+V[14]+4259657740&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(D^L^j)+V[1]+2763975236&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^L)+V[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^D)+V[7]+4139469664&4294967295,L=j+(O<<16&4294967295|O>>>16),O=D+(L^j^R)+V[10]+3200236656&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(D^L^j)+V[13]+681279174&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^L)+V[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^D)+V[3]+3572445317&4294967295,L=j+(O<<16&4294967295|O>>>16),O=D+(L^j^R)+V[6]+76029189&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(D^L^j)+V[9]+3654602809&4294967295,R=D+(O<<4&4294967295|O>>>28),O=j+(R^D^L)+V[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^D)+V[15]+530742520&4294967295,L=j+(O<<16&4294967295|O>>>16),O=D+(L^j^R)+V[2]+3299628645&4294967295,D=L+(O<<23&4294967295|O>>>9),O=R+(L^(D|~j))+V[0]+4096336452&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~L))+V[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~D))+V[14]+2878612391&4294967295,L=j+(O<<15&4294967295|O>>>17),O=D+(j^(L|~R))+V[5]+4237533241&4294967295,D=L+(O<<21&4294967295|O>>>11),O=R+(L^(D|~j))+V[12]+1700485571&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~L))+V[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~D))+V[10]+4293915773&4294967295,L=j+(O<<15&4294967295|O>>>17),O=D+(j^(L|~R))+V[1]+2240044497&4294967295,D=L+(O<<21&4294967295|O>>>11),O=R+(L^(D|~j))+V[8]+1873313359&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~L))+V[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~D))+V[6]+2734768916&4294967295,L=j+(O<<15&4294967295|O>>>17),O=D+(j^(L|~R))+V[13]+1309151649&4294967295,D=L+(O<<21&4294967295|O>>>11),O=R+(L^(D|~j))+V[4]+4149444226&4294967295,R=D+(O<<6&4294967295|O>>>26),O=j+(D^(R|~L))+V[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~D))+V[2]+718787259&4294967295,L=j+(O<<15&4294967295|O>>>17),O=D+(j^(L|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+j&4294967295}s.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var D=R-this.blockSize,V=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=D;)a(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<R;)if(V[L++]=I.charCodeAt(j++),L==this.blockSize){a(this,V),L=0;break}}else for(;j<R;)if(V[L++]=I[j++],L==this.blockSize){a(this,V),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var D=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=D&255,D/=256;for(this.u(I),I=Array(16),R=D=0;4>R;++R)for(var V=0;32>V;V+=8)I[D++]=this.g[R]>>>V&255;return I};function l(I,R){var D=d;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=R(I)}function c(I,R){this.h=R;for(var D=[],V=!0,L=I.length-1;0<=L;L--){var j=I[L]|0;V&&j==R||(D[L]=j,V=!1)}this.g=D}var d={};function m(I){return-128<=I&&128>I?l(I,function(R){return new c([R|0],0>R?-1:0)}):new c([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return P(p(-I));for(var R=[],D=1,V=0;I>=D;V++)R[V]=I/D|0,D*=4294967296;return new c(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return P(v(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(R,8)),V=w,L=0;L<I.length;L+=8){var j=Math.min(8,I.length-L),O=parseInt(I.substring(L,L+j),R);8>j?(j=p(Math.pow(R,j)),V=V.j(j).add(p(O))):(V=V.j(D),V=V.add(p(O)))}return V}var w=m(0),b=m(1),A=m(16777216);r=c.prototype,r.m=function(){if(B(this))return-P(this).m();for(var I=0,R=1,D=0;D<this.g.length;D++){var V=this.i(D);I+=(0<=V?V:4294967296+V)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(B(this))return"-"+P(this).toString(I);for(var R=p(Math.pow(I,6)),D=this,V="";;){var L=ce(D,R).g;D=q(D,L.j(R));var j=((0<D.g.length?D.g[0]:D.h)>>>0).toString(I);if(D=L,C(D))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function B(I){return I.h==-1}r.l=function(I){return I=q(this,I),B(I)?-1:C(I)?0:1};function P(I){for(var R=I.g.length,D=[],V=0;V<R;V++)D[V]=~I.g[V];return new c(D,~I.h).add(b)}r.abs=function(){return B(this)?P(this):this},r.add=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],V=0,L=0;L<=R;L++){var j=V+(this.i(L)&65535)+(I.i(L)&65535),O=(j>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);V=O>>>16,j&=65535,O&=65535,D[L]=O<<16|j}return new c(D,D[D.length-1]&-2147483648?-1:0)};function q(I,R){return I.add(P(R))}r.j=function(I){if(C(this)||C(I))return w;if(B(this))return B(I)?P(this).j(P(I)):P(P(this).j(I));if(B(I))return P(this.j(P(I)));if(0>this.l(A)&&0>I.l(A))return p(this.m()*I.m());for(var R=this.g.length+I.g.length,D=[],V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<I.g.length;L++){var j=this.i(V)>>>16,O=this.i(V)&65535,qe=I.i(L)>>>16,tt=I.i(L)&65535;D[2*V+2*L]+=O*tt,ae(D,2*V+2*L),D[2*V+2*L+1]+=j*tt,ae(D,2*V+2*L+1),D[2*V+2*L+1]+=O*qe,ae(D,2*V+2*L+1),D[2*V+2*L+2]+=j*qe,ae(D,2*V+2*L+2)}for(V=0;V<R;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=R;V<2*R;V++)D[V]=0;return new c(D,0)};function ae(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function G(I,R){this.g=I,this.h=R}function ce(I,R){if(C(R))throw Error("division by zero");if(C(I))return new G(w,w);if(B(I))return R=ce(P(I),R),new G(P(R.g),P(R.h));if(B(R))return R=ce(I,P(R)),new G(P(R.g),R.h);if(30<I.g.length){if(B(I)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,V=R;0>=V.l(I);)D=le(D),V=le(V);var L=U(D,1),j=U(V,1);for(V=U(V,2),D=U(D,2);!C(V);){var O=j.add(V);0>=O.l(I)&&(L=L.add(D),j=O),V=U(V,1),D=U(D,1)}return R=q(I,L.j(R)),new G(L,R)}for(L=w;0<=I.l(R);){for(D=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=p(D),O=j.j(R);B(O)||0<O.l(I);)D-=V,j=p(D),O=j.j(R);C(j)&&(j=b),L=L.add(j),I=q(I,O)}return new G(L,I)}r.A=function(I){return ce(this,I).h},r.and=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)&I.i(V);return new c(D,this.h&I.h)},r.or=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)|I.i(V);return new c(D,this.h|I.h)},r.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)^I.i(V);return new c(D,this.h^I.h)};function le(I){for(var R=I.g.length+1,D=[],V=0;V<R;V++)D[V]=I.i(V)<<1|I.i(V-1)>>>31;return new c(D,I.h)}function U(I,R){var D=R>>5;R%=32;for(var V=I.g.length-D,L=[],j=0;j<V;j++)L[j]=0<R?I.i(j+D)>>>R|I.i(j+D+1)<<32-R:I.i(j+D);return new c(L,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,bs=c}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hw,eu,fw,hh,Vm,dw,mw,gw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var _=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var $=h[S];if(!($ in _))break e;_=_[$]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,S=!1,$={next:function(){if(!S&&_<h.length){var Z=_++;return{value:y(Z,h[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function w(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),h.apply(y,$)}}return function(){return h.apply(y,arguments)}}function b(h,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,b.apply(null,arguments)}function A(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,$,Z){for(var me=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)me[rt-2]=arguments[rt];return y.prototype[$].apply(S,me)}}function B(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function P(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const $=h.length||0,Z=S.length||0;h.length=$+Z;for(let me=0;me<Z;me++)h[$+me]=S[me]}else h.push(S)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ce(h){return ce[" "](h),h}ce[" "]=function(){};var le=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function U(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function I(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function R(h){const y={};for(const _ in h)y[_]=h[_];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,y){let _,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(_ in S)h[_]=S[_];for(let Z=0;Z<D.length;Z++)_=D[Z],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function L(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function j(h){d.setTimeout(()=>{throw h},0)}function O(){var h=je;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class qe{constructor(){this.h=this.g=null}add(y,_){const S=tt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var tt=new q(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ge=!1,je=new qe,N=()=>{const h=d.Promise.resolve(void 0);fe=()=>{h.then(te)}};var te=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(_){j(_)}var y=tt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function ze(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(le){e:{try{ce(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ze.aa.h.call(this)}}C(ze,ue);var Ce={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Wn(h,y,_,S,$){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=$,this.key=++yt,this.da=this.fa=!1}function Ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function vn(h){this.src=h,this.g={},this.h=0}vn.prototype.add=function(h,y,_,S,$){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var me=ai(h,y,S,$);return-1<me?(y=h[me],_||(y.fa=!1)):(y=new Wn(y,this.src,Z,!!S,$),y.fa=_,h.push(y)),y};function xr(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],$=Array.prototype.indexOf.call(S,y,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(S,$,1),Z&&(Ct(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function ai(h,y,_,S){for(var $=0;$<h.length;++$){var Z=h[$];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==S)return $}return-1}var Cn="closure_lm_"+(1e6*Math.random()|0),Ms={};function Ra(h,y,_,S,$){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Ra(h,y[Z],_,S,$);return null}return _=ji(_),h&&h[Lt]?h.K(y,_,p(S)?!!S.capture:!1,$):Dn(h,y,_,!1,S,$)}function Dn(h,y,_,S,$,Z){if(!y)throw Error("Invalid event type");var me=p($)?!!$.capture:!!$,rt=er(h);if(rt||(h[Cn]=rt=new vn(h)),_=rt.add(y,_,S,me,Z),_.proxy)return _;if(S=Go(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)be||($=me),$===void 0&&($=!1),h.addEventListener(y.toString(),S,$);else if(h.attachEvent)h.attachEvent(oi(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Go(){function h(_){return y.call(h.src,h.listener,_)}const y=wr;return h}function Vs(h,y,_,S,$){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Vs(h,y[Z],_,S,$);else S=p(S)?!!S.capture:!!S,_=ji(_),h&&h[Lt]?(h=h.i,y=String(y).toString(),y in h.g&&(Z=h.g[y],_=ai(Z,_,S,$),-1<_&&(Ct(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete h.g[y],h.h--)))):h&&(h=er(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ai(y,_,S,$)),(_=-1<h?y[h]:null)&&Li(_))}function Li(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Lt])xr(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(oi(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=er(y))?(xr(_,h),_.h==0&&(_.src=null,y[Cn]=null)):Ct(h)}}}function oi(h){return h in Ms?Ms[h]:Ms[h]="on"+h}function wr(h,y){if(h.da)h=!0;else{y=new ze(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&Li(h),h=_.call(S,y)}return h}function er(h){return h=h[Cn],h instanceof vn?h:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function ji(h){return typeof h=="function"?h:(h[Ui]||(h[Ui]=function(y){return h.handleEvent(y)}),h[Ui])}function ct(){de.call(this),this.i=new vn(this),this.M=this,this.F=null}C(ct,de),ct.prototype[Lt]=!0,ct.prototype.removeEventListener=function(h,y,_,S){Vs(this,h,y,_,S)};function $e(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var $=y;y=new ue(S,h),V(y,$)}if($=!0,_)for(var Z=_.length-1;0<=Z;Z--){var me=y.g=_[Z];$=_n(me,S,!0,y)&&$}if(me=y.g=h,$=_n(me,S,!0,y)&&$,$=_n(me,S,!1,y)&&$,_)for(Z=0;Z<_.length;Z++)me=y.g=_[Z],$=_n(me,S,!1,y)&&$}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)Ct(_[S]);delete h.g[y],h.h--}}this.F=null},ct.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},ct.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function _n(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,Z=0;Z<y.length;++Z){var me=y[Z];if(me&&!me.da&&me.capture==_){var rt=me.listener,Kt=me.ha||me.src;me.fa&&xr(h.i,me),$=rt.call(Kt,S)!==!1&&$}}return $&&!S.defaultPrevented}function Ut(h,y,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ca(h){h.g=Ut(()=>{h.g=null,h.i&&(h.i=!1,Ca(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class tr extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ca(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(h){de.call(this),this.h=h,this.g={}}C(Ir,de);var Nr=[];function Mr(h){U(h.g,function(y,_){this.g.hasOwnProperty(_)&&Li(y)},h),h.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),Mr(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,li=d.JSON.parse,nr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function zi(){}zi.prototype.h=null;function ui(h){return h.h||(h.h=h.i())}function Ps(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){ue.call(this,"d")}C(br,ue);function Bi(){ue.call(this,"c")}C(Bi,ue);var On={},Vr=null;function Pr(){return Vr=Vr||new ct}On.La="serverreachability";function qi(h){ue.call(this,On.La,h)}C(qi,ue);function M(h){const y=Pr();$e(y,new qi(y))}On.STAT_EVENT="statevent";function H(h,y){ue.call(this,On.STAT_EVENT,h),this.stat=y}C(H,ue);function K(h){const y=Pr();$e(y,new H(y,h))}On.Ma="timingevent";function ie(h,y){ue.call(this,On.Ma,h),this.size=y}C(ie,ue);function he(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function Ae(h,y,_,S,$,Z){h.info(function(){if(h.g)if(Z)for(var me="",rt=Z.split("&"),Kt=0;Kt<rt.length;Kt++){var it=rt[Kt].split("=");if(1<it.length){var en=it[0];it=it[1];var Qt=en.split("_");me=2<=Qt.length&&Qt[1]=="type"?me+(en+"="+it+"&"):me+(en+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+y+`
`+_+`
`+me})}function ve(h,y,_,S,$,Z,me){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+y+`
`+_+`
`+Z+" "+me})}function we(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ie(h,_)+(S?" "+S:"")})}function Ee(h,y){h.info(function(){return"TIMEOUT: "+y})}pe.prototype.info=function(){};function Ie(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<$.length;me++)$[me]=""}}}}return zn(_)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qe;function ft(){}C(ft,zi),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},Qe=new ft;function lt(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var Ge={},ir={};function Gt(h,y,_){h.L=1,h.v=Us(Hn(y)),h.m=_,h.P=!0,xn(h,null)}function xn(h,y){h.F=Date.now(),Bn(h),h.A=Hn(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Jo(_.i,"t",S),h.C=0,_=h.j.J,h.h=new nt,h.g=Ku(h.j,_?y:null,!h.m),0<h.O&&(h.M=new tr(b(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var $="readystatechange";Array.isArray($)||($&&(Nr[0]=$.toString()),$=Nr);for(var Z=0;Z<$.length;Z++){var me=Ra(_,$[Z],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),M(),Ae(h.i,h.u,h.A,h.l,h.R,h.m)}lt.prototype.ca=function(h){h=h.target;const y=this.M;y&&ur(h)==3?y.j():this.Y(h)},lt.prototype.Y=function(h){try{if(h==this.g)e:{const Qt=ur(this.g);var y=this.g.Ba();const yi=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Qt!=4||y==7||(y==8||0>=yi?M(3):M(2)),En(this);var _=this.g.Z();this.X=_;t:if(un(this)){var S=ju(this.g);h="";var $=S.length,Z=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),In(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(Z&&y==$-1)});S.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,ve(this.i,this.u,this.A,this.l,this.R,Qt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Kt=this.g;if((rt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(rt)){var it=rt;break t}}it=null}if(_=it)we(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jt(this,_);else{this.o=!1,this.s=3,K(12),ke(this),In(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<me.length;)if(hn=kr(this,me),hn==ir){Qt==4&&(this.s=4,K(14),_=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Ge){this.s=4,K(15),we(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else we(this.i,this.l,hn,null),jt(this,hn);if(un(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||me.length!=0||this.h.h||(this.s=1,K(16),_=!1),this.o=this.o&&_,!_)we(this.i,this.l,me,"[Invalid Chunked Response]"),ke(this),In(this);else if(0<me.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Gs(en),en.M=!0,K(11))}}else we(this.i,this.l,me,null),jt(this,me);Qt==4&&ke(this),this.o&&!this.J&&(Qt==4?$u(this.j,this):(this.o=!1,Bn(this)))}else af(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),ke(this),In(this)}}}catch{}finally{}};function un(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function kr(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?ir:(_=Number(y.substring(_,S)),isNaN(_)?Ge:(S+=1,S+_>y.length?ir:(y=y.slice(S,S+_),h.C=S+_,y)))}lt.prototype.cancel=function(){this.J=!0,ke(this)};function Bn(h){h.S=Date.now()+h.I,Hi(h,h.I)}function Hi(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=he(b(h.ba,h),y)}function En(h){h.B&&(d.clearTimeout(h.B),h.B=null)}lt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ee(this.i,this.A),this.L!=2&&(M(),K(17)),ke(this),this.s=2,In(this)):Hi(this,this.S-h)};function In(h){h.j.G==0||h.J||$u(h.j,h)}function ke(h){En(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Mr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function jt(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||sr(_.h,h))){if(!h.K&&sr(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)ka(_),Va(_);else break e;nl(_),K(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=he(b(_.Za,_),6e3));if(1>=bt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((h.K||_.g==h)&&ka(_),!ae(y))for($=_.Da.g.parse(y),y=0;y<$.length;y++){let it=$[y];if(_.T=it[0],it=it[1],_.G==2)if(it[0]=="c"){_.K=it[1],_.ia=it[2];const en=it[3];en!=null&&(_.la=en,_.j.info("VER="+_.la));const Qt=it[4];Qt!=null&&(_.Aa=Qt,_.j.info("SVER="+_.Aa));const yi=it[5];yi!=null&&typeof yi=="number"&&0<yi&&(S=1.5*yi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const hn=h.g;if(hn){const $r=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var Z=S.h;Z.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ci(Z,Z.h),Z.h=null))}if(S.D){const il=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(S.ya=il,vt(S.I,S.D,il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var me=h;if(S.qa=Gu(S,S.J?S.ia:null,S.W),me.K){cn(S.h,me);var rt=me,Kt=S.L;Kt&&(rt.I=Kt),rt.B&&(En(rt),Bn(rt)),S.g=me}else qu(S);0<_.i.length&&Pa(_)}else it[0]!="stop"&&it[0]!="close"||pi(_,7);else _.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?pi(_,7):el(_):it[0]!="noop"&&_.l&&_.l.ta(it),_.v=0)}}M(4)}catch{}}var qn=class{constructor(h,y){this.g=h,this.map=y}};function Vn(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bt(h){return h.h?1:h.g?h.g.size:0}function sr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ci(h,y){h.g?h.g.add(y):h.h=y}function cn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Vn.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ko(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return B(h.i)}function tf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function Da(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function Qo(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Da(h),S=tf(h),$=S.length,Z=0;Z<$;Z++)y.call(void 0,S[Z],_&&_[Z],h)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),$=null;if(0<=S){var Z=h[_].substring(0,S);$=h[_].substring(S+1)}else Z=h[_];y(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function zt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof zt){this.h=h.h,Ls(this,h.j),this.o=h.o,this.g=h.g,$i(this,h.s),this.l=h.l;var y=h.i,_=new fi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),hi(this,_),this.m=h.m}else h&&(y=String(h).match(ks))?(this.h=!1,Ls(this,y[1]||"",!0),this.o=ar(y[2]||""),this.g=ar(y[3]||"",!0),$i(this,y[4]),this.l=ar(y[5]||"",!0),hi(this,y[6]||"",!0),this.m=ar(y[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}zt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(js(y,Yo,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(js(y,Yo,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(js(_,_.charAt(0)=="/"?rf:Xo,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",js(_,Oa)),h.join("")};function Hn(h){return new zt(h)}function Ls(h,y,_){h.j=_?ar(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function $i(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function hi(h,y,_){y instanceof fi?(h.i=y,Lu(h.i,h.h)):(_||(y=js(y,sf)),h.i=new fi(y,h.h))}function vt(h,y,_){h.i.set(y,_)}function Us(h){return vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ar(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function js(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,ku),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ku(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Yo=/[#\/\?@]/g,Xo=/[#\?:]/g,rf=/[#\?]/g,sf=/[#\?@]/g,Oa=/#/g;function fi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function or(h){h.g||(h.g=new Map,h.h=0,h.i&&nf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=fi.prototype,r.add=function(h,y){or(this),this.i=null,h=Ur(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function di(h,y){or(h),y=Ur(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function mi(h,y){return or(h),y=Ur(h,y),h.g.has(y)}r.forEach=function(h,y){or(this),this.g.forEach(function(_,S){_.forEach(function($){h.call(y,$,S,this)},this)},this)},r.na=function(){or(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const $=h[S];for(let Z=0;Z<$.length;Z++)_.push(y[S])}return _},r.V=function(h){or(this);let y=[];if(typeof h=="string")mi(this,h)&&(y=y.concat(this.g.get(Ur(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},r.set=function(h,y){return or(this),this.i=null,h=Ur(this,h),mi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Jo(h,y,_){di(h,y),0<_.length&&(h.i=null,h.g.set(Ur(h,y),B(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Z=encodeURIComponent(String(S)),me=this.V(S);for(S=0;S<me.length;S++){var $=Z;me[S]!==""&&($+="="+encodeURIComponent(String(me[S]))),h.push($)}}return this.i=h.join("&")};function Ur(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Lu(h,y){y&&!h.j&&(or(h),h.i=null,h.g.forEach(function(_,S){var $=S.toLowerCase();S!=$&&(di(this,S),Jo(this,$,_))},h)),h.j=y}function zs(h,y){const _=new pe;if(d.Image){const S=new Image;S.onload=A(lr,_,"TestLoadImage: loaded",!0,y,S),S.onerror=A(lr,_,"TestLoadImage: error",!1,y,S),S.onabort=A(lr,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=A(lr,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Tr(h,y){const _=new pe,S=new AbortController,$=setTimeout(()=>{S.abort(),lr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Z=>{clearTimeout($),Z.ok?lr(_,"TestPingServer: ok",!0,y):lr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),lr(_,"TestPingServer: error",!1,y)})}function lr(h,y,_,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(_)}catch{}}function Bs(){this.g=new nr}function jr(h,y,_){const S=_||"";try{Qo(h,function($,Z){let me=$;p($)&&(me=zn($)),y.push(S+Z+"="+encodeURIComponent(me))})}catch($){throw y.push(S+"type="+encodeURIComponent("_badmap")),$}}function Fi(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Fi,zi),Fi.prototype.g=function(){return new gi(this.l,this.j)},Fi.prototype.i=function(h){return function(){return h}}({});function gi(h,y){ct.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(gi,ct),r=gi.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Br(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?zr(this):Br(this),this.readyState==3&&Zo(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,zr(this))},r.Qa=function(h){this.g&&(this.response=h,zr(this))},r.ga=function(){this.g&&zr(this)};function zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Br(h)}r.setRequestHeader=function(h,y){this.u.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Br(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wo(h){let y="";return U(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Wt(h,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Wo(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):vt(h,y,_))}function dt(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(dt,ct);var xa=/^https?$/i,qs=["POST","PUT"];r=dt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qe.g(),this.v=this.o?ui(this.o):ui(Qe),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Z){Uu(this,Z);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)_.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())_.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(qs,y,void 0))||S||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of _)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){Uu(this,Z)}};function Uu(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ia(h),qr(h)}function Ia(h){h.A||(h.A=!0,$e(h,"complete"),$e(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,$e(this,"complete"),$e(this,"abort"),qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},r.bb=function(){Na(this)};function Na(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ur(h)!=4||h.Z()!=2)){if(h.u&&ur(h)==4)Ut(h.Ea,0,h);else if($e(h,"readystatechange"),ur(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=me===0){var $=String(h.D).match(ks)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),S=!xa.test($?$.toLowerCase():"")}_=S}if(_)$e(h,"complete"),$e(h,"success");else{h.m=6;try{var Z=2<ur(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Ia(h)}}finally{qr(h)}}}}function qr(h,y){if(h.g){Hs(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||$e(h,"ready");try{_.onreadystatechange=S}catch{}}}function Hs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function ur(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),li(y)}};function ju(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function af(h){const y={};h=(h.g&&2<=ur(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(ae(h[S]))continue;var _=L(h[S]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[$]||[];y[$]=Z,Z.push(_)}I(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Ma(h){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,h),this.cb=$s("retryDelaySeedMs",1e4,h),this.Wa=$s("forwardChannelMaxRetries",2,h),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Vn(h&&h.concurrentRequestLimit),this.Da=new Bs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ma.prototype,r.la=8,r.G=1,r.connect=function(h,y,_,S){K(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Gu(this,null,this.W),Pa(this)};function el(h){if(zu(h),h.G==3){var y=h.U++,_=Hn(h.I);if(vt(_,"SID",h.K),vt(_,"RID",y),vt(_,"TYPE","terminate"),Fs(h,_),y=new lt(h,h.j,y),y.L=2,y.v=Us(Hn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Bn(y)}Fu(h)}function Va(h){h.g&&(Gs(h),h.g.cancel(),h.g=null)}function zu(h){Va(h),h.u&&(d.clearTimeout(h.u),h.u=null),ka(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Pa(h){if(!Lr(h.h)&&!h.s){h.s=!0;var y=h.Ga;fe||N(),ge||(fe(),ge=!0),je.add(y,h),h.B=0}}function of(h,y){return bt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=he(b(h.Ga,h,y),rl(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new lt(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=R(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bu(this,$,y),_=Hn(this.I),vt(_,"RID",h),vt(_,"CVER",22),this.D&&vt(_,"X-HTTP-Session-Id",this.D),Fs(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(Wo(Z)))+"&"+y:this.m&&Wt(_,this.m,Z)),ci(this.h,$),this.Ua&&vt(_,"TYPE","init"),this.P?(vt(_,"$req",y),vt(_,"SID","null"),$.T=!0,Gt($,_,null)):Gt($,_,y),this.G=2}}else this.G==3&&(h?tl(this,h):this.i.length==0||Lr(this.h)||tl(this))};function tl(h,y){var _;y?_=y.l:_=h.U++;const S=Hn(h.I);vt(S,"SID",h.K),vt(S,"RID",_),vt(S,"AID",h.T),Fs(h,S),h.m&&h.o&&Wt(S,h.m,h.o),_=new lt(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Bu(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ci(h.h,_),Gt(_,S,y)}function Fs(h,y){h.H&&U(h.H,function(_,S){vt(y,S,_)}),h.l&&Qo({},function(_,S){vt(y,S,_)})}function Bu(h,y,_){_=Math.min(h.i.length,_);var S=h.l?b(h.l.Na,h.l,h):null;e:{var $=h.i;let Z=-1;for(;;){const me=["count="+_];Z==-1?0<_?(Z=$[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let rt=!0;for(let Kt=0;Kt<_;Kt++){let it=$[Kt].g;const en=$[Kt].map;if(it-=Z,0>it)Z=Math.max(0,$[Kt].g-100),rt=!1;else try{jr(en,me,"req"+it+"_")}catch{S&&S(en)}}if(rt){S=me.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,S}function qu(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;fe||N(),ge||(fe(),ge=!0),je.add(y,h),h.v=0}}function nl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=he(b(h.Fa,h),rl(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=he(b(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),Va(this),Hu(this))};function Gs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Hu(h){h.g=new lt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Hn(h.qa);vt(y,"RID","rpc"),vt(y,"SID",h.K),vt(y,"AID",h.T),vt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&vt(y,"TO",h.ja),vt(y,"TYPE","xmlhttp"),Fs(h,y),h.m&&h.o&&Wt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Us(Hn(y)),_.m=null,_.P=!0,xn(_,h)}r.Za=function(){this.C!=null&&(this.C=null,Va(this),nl(this),K(19))};function ka(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function $u(h,y){var _=null;if(h.g==y){ka(h),Gs(h),h.g=null;var S=2}else if(sr(h.h,y))_=y.D,cn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var $=h.B;S=Pr(),$e(S,new ie(S,_)),Pa(h)}else qu(h);else if($=y.s,$==3||$==0&&0<y.X||!(S==1&&of(h,y)||S==2&&nl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),$){case 1:pi(h,5);break;case 4:pi(h,10);break;case 3:pi(h,6);break;default:pi(h,2)}}}function rl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function pi(h,y){if(h.j.info("Error code "+y),y==2){var _=b(h.fb,h),S=h.Xa;const $=!S;S=new zt(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ls(S,"https"),Us(S),$?zs(S.toString(),_):Tr(S.toString(),_)}else K(2);h.G=0,h.l&&h.l.sa(y),Fu(h),zu(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function Fu(h){if(h.G=0,h.ka=[],h.l){const y=Ko(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Gu(h,y,_){var S=_ instanceof zt?Hn(_):new zt(_);if(S.g!="")y&&(S.g=y+"."+S.g),$i(S,S.s);else{var $=d.location;S=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var Z=new zt(null);S&&Ls(Z,S),y&&(Z.g=y),$&&$i(Z,$),_&&(Z.l=_),S=Z}return _=h.D,y=h.ya,_&&y&&vt(S,_,y),vt(S,"VER",h.la),Fs(h,S),S}function Ku(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new dt(new Fi({eb:_})):new dt(h.pa),y.Ha(h.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function La(){}La.prototype.g=function(h,y){return new Nn(h,y)};function Nn(h,y){ct.call(this),this.g=new Ma(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!ae(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Hr(this)}C(Nn,ct),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){el(this.g)},Nn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=zn(h),h=_);y.i.push(new qn(y.Ya++,h)),y.G==3&&Pa(y)},Nn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,Nn.aa.N.call(this)};function Yu(h){br.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Yu,br);function Xu(){Bi.call(this),this.status=1}C(Xu,Bi);function Hr(h){this.g=h}C(Hr,Qu),Hr.prototype.ua=function(){$e(this.g,"a")},Hr.prototype.ta=function(h){$e(this.g,new Yu(h))},Hr.prototype.sa=function(h){$e(this.g,new Xu)},Hr.prototype.ra=function(){$e(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,gw=function(){return new La},mw=function(){return Pr()},dw=On,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,hh=Re,Ve.COMPLETE="complete",fw=Ve,Ps.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,eu=Ps,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,hw=dt}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",r0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new iw("@firebase/firestore");function So(){return ya.logLevel}function ye(r,...e){if(ya.logLevel<=ot.DEBUG){const t=e.map(_g);ya.debug(`Firestore (${Bo}): ${r}`,...t)}}function Pi(r,...e){if(ya.logLevel<=ot.ERROR){const t=e.map(_g);ya.error(`Firestore (${Bo}): ${r}`,...t)}}function Mo(r,...e){if(ya.logLevel<=ot.WARN){const t=e.map(_g);ya.warn(`Firestore (${Bo}): ${r}`,...t)}}function _g(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,pw(r,s,t)}function pw(r,e,t){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Pi(s),new Error(s)}function mt(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||pw(e,a,s)}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends zo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class MC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VC{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ts,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ts)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(mt(typeof s.accessToken=="string",31837,{l:s}),new yw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class PC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new PC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new i0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new i0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=UC(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function We(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const a=r.charAt(s),l=e.charAt(s);if(a!==l)return dm(a)===dm(l)?We(a,l):dm(a)?1:-1}return We(r.length,e.length)}const jC=55296,zC=57343;function dm(r){const e=r.charCodeAt(0);return e>=jC&&e<=zC}function Vo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class Xr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Me(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Xr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return We(e.length,t.length)}static compareSegments(e,t){const s=Xr.isNumericId(e),a=Xr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):Pm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class xt extends Xr{construct(e,t,s){return new xt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const BC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Xr{construct(e,t,s){return new pn(e,t,s)}static isValidIdentifier(e){return BC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new pn([s0])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(t)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(xt.fromString(e))}static fromName(e){return new De(xt.fromString(e).popFirst(5))}static empty(){return new De(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r,e,t){if(!t)throw new Se(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HC(r,e,t,s){if(e===!0&&s===!0)throw new Se(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function a0(r){if(!De.isDocumentKey(r))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Me(12329,{type:typeof r})}function yu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wg(r);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ou(r,e){if(!vw(r))throw new Se(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const c=r[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new Se(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-62135596800,l0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*l0);return new Rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<o0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:$t("string",Rt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Rt(0,0))}static max(){return new Le(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function $C(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(s===1e9?new Rt(t+1,0):new Rt(t,s));return new As(a,De.empty(),e)}function FC(r){return new As(r.readTime,r.key,vu)}class As{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new As(Le.min(),De.empty(),vu)}static max(){return new As(Le.max(),De.empty(),vu)}}function GC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(r.documentKey,e.documentKey),t!==0?t:We(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==KC)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,s)=>{t(e)})}static reject(e){return new se((t,s)=>{s(e)})}static waitFor(e){return new se((t,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>s(m))}),c=!0,l===a&&t()})}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next(a=>a?se.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new se((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(v=>{c[p]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(e,t){return new se((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function YC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=-1;function Hh(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function XC(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function JC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=u0(e)),e=ZC(r.get(t),e);return u0(e)}function ZC(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case _w:t+="";break;default:t+=l}}return t}function u0(r){return r+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function wa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ew(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new gn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Or([])}unionWith(e){let t=new Zt(pn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ww("Invalid base64 string: "+l):l}}(e);return new yn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if(mt(!!r,39018),typeof r=="string"){let e=0;const t=WC.exec(r);if(mt(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cs(r){return typeof r=="string"?yn.fromBase64String(r):yn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",Tw="__type__",Sw="__previous_value__",Aw="__local_write_time__";function Tg(r){return(r?.mapValue?.fields||{})[Tw]?.stringValue===bw}function $h(r){const e=r.mapValue.fields[Sw];return Tg(e)?$h(e):e}function _u(r){const e=Rs(r.mapValue.fields[Aw].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t,s,a,l,c,d,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Ch="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="__type__",t2="__max__",th={mapValue:{}},Cw="__vector__",Dh="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tg(r)?4:r2(r)?9007199254740991:n2(r)?10:11:Me(28295,{value:r})}function ni(r,e){if(r===e)return!0;const t=Ds(r);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _u(r).isEqual(_u(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Rs(a.timestampValue),d=Rs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,l){return Cs(a.bytesValue).isEqual(Cs(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,l){return kt(a.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(a.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(r,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return kt(a.integerValue)===kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=kt(a.doubleValue),d=kt(l.doubleValue);return c===d?Rh(c)===Rh(d):isNaN(c)&&isNaN(d)}return!1}(r,e);case 9:return Vo(r.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(c0(c)!==c0(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ni(c[m],d[m])))return!1;return!0}(r,e);default:return Me(52216,{left:r})}}function wu(r,e){return(r.values||[]).find(t=>ni(t,e))!==void 0}function Po(r,e){if(r===e)return 0;const t=Ds(r),s=Ds(e);if(t!==s)return We(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(r.booleanValue,e.booleanValue);case 2:return function(l,c){const d=kt(l.integerValue||l.doubleValue),m=kt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,e);case 3:return f0(r.timestampValue,e.timestampValue);case 4:return f0(_u(r),_u(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return function(l,c){const d=Cs(l),m=Cs(c);return d.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=We(d[p],m[p]);if(v!==0)return v}return We(d.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const d=We(kt(l.latitude),kt(c.latitude));return d!==0?d:We(kt(l.longitude),kt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return d0(r.arrayValue,e.arrayValue);case 10:return function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Dh]?.arrayValue,v=m[Dh]?.arrayValue,w=We(p?.values?.length||0,v?.values?.length||0);return w!==0?w:d0(p,v)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===th.mapValue&&c===th.mapValue)return 0;if(l===th.mapValue)return 1;if(c===th.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let w=0;w<m.length&&w<v.length;++w){const b=Pm(m[w],v[w]);if(b!==0)return b;const A=Po(d[m[w]],p[v[w]]);if(A!==0)return A}return We(m.length,v.length)}(r.mapValue,e.mapValue);default:throw Me(23264,{he:t})}}function f0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return We(r,e);const t=Rs(r),s=Rs(e),a=We(t.seconds,s.seconds);return a!==0?a:We(t.nanos,s.nanos)}function d0(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Po(t[a],s[a]);if(l)return l}return We(t.length,s.length)}function ko(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Rs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Cs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return De.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=km(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${km(t.fields[c])}`;return a+"}"}(r.mapValue):Me(61005,{value:r})}function fh(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return Cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+fh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let a=0;return wa(s.fields,(l,c)=>{a+=l.length+fh(c)}),a}(r.mapValue);default:throw Me(13486,{value:r})}}function Lm(r){return!!r&&"integerValue"in r}function Sg(r){return!!r&&"arrayValue"in r}function m0(r){return!!r&&"nullValue"in r}function g0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function n2(r){return(r?.mapValue?.fields||{})[Rw]?.stringValue===Cw}function au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=au(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(r.arrayValue.values[t]);return e}return{...r}}function r2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=pn.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=au(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];dh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){wa(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new vr(au(this.value))}}function Dw(r){const e=[];return wa(r.fields,(t,s)=>{const a=new pn([t]);if(dh(s)){const l=Dw(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,Le.min(),Le.min(),Le.min(),vr.empty(),0)}static newFoundDocument(e,t,s,a){return new Rn(e,1,t,Le.min(),s,a,0)}static newNoDocument(e,t){return new Rn(e,2,t,Le.min(),Le.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Le.min(),Le.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function p0(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?s=De.comparator(De.fromName(c.referenceValue),t.key):s=Po(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function y0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ni(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function i2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{}class Jt extends Ow{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new a2(e,t,s):t==="array-contains"?new u2(e,s):t==="in"?new c2(e,s):t==="not-in"?new h2(e,s):t==="array-contains-any"?new f2(e,s):new Jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new o2(e,s):new l2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Po(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Ow{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ri(e,t)}matches(e){return xw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xw(r){return r.op==="and"}function Iw(r){return s2(r)&&xw(r)}function s2(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Um(r){if(r instanceof Jt)return r.field.canonicalString()+r.op.toString()+ko(r.value);if(Iw(r))return r.filters.map(e=>Um(e)).join(",");{const e=r.filters.map(t=>Um(t)).join(",");return`${r.op}(${e})`}}function Nw(r,e){return r instanceof Jt?function(s,a){return a instanceof Jt&&s.op===a.op&&s.field.isEqual(a.field)&&ni(s.value,a.value)}(r,e):r instanceof ri?function(s,a){return a instanceof ri&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&Nw(c,a.filters[d]),!0):!1}(r,e):void Me(19439)}function Mw(r){return r instanceof Jt?function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`}(r):r instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(Mw).join(" ,")+"}"}(r):"Filter"}class a2 extends Jt{constructor(e,t,s){super(e,t,s),this.key=De.fromName(s.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class o2 extends Jt{constructor(e,t){super(e,"in",t),this.keys=Vw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class l2 extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=Vw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vw(r,e){return(e.arrayValue?.values||[]).map(t=>De.fromName(t.referenceValue))}class u2 extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sg(t)&&wu(t.arrayValue,this.value)}}class c2 extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class h2 extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class f2 extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>wu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function v0(r,e=null,t=[],s=[],a=null,l=null,c=null){return new d2(r,e,t,s,a,l,c)}function Ag(r){const e=Ue(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Um(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ko(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ko(s)).join(",")),e.Te=t}return e.Te}function Rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!i2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Nw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!y0(r.startAt,e.startAt)&&y0(r.endAt,e.endAt)}function jm(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m2(r,e,t,s,a,l,c,d){return new Fh(r,e,t,s,a,l,c,d)}function Cg(r){return new Fh(r)}function _0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function g2(r){return r.collectionGroup!==null}function ou(r){const e=Ue(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Zt(pn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xh(l,s))}),t.has(pn.keyField().canonicalString())||e.Ie.push(new xh(pn.keyField(),s))}return e.Ie}function Zr(r){const e=Ue(r);return e.Ee||(e.Ee=p2(e,ou(r))),e.Ee}function p2(r,e){if(r.limitType==="F")return v0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new xh(a.field,l)});const t=r.endAt?new Oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oh(r.startAt.position,r.startAt.inclusive):null;return v0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function zm(r,e,t){return new Fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Gh(r,e){return Rg(Zr(r),Zr(e))&&r.limitType===e.limitType}function Pw(r){return`${Ag(Zr(r))}|lt:${r.limitType}`}function Ao(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Mw(a)).join(", ")}]`),Hh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>ko(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>ko(a)).join(",")),`Target(${s})`}(Zr(r))}; limitType=${r.limitType})`}function Kh(r,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):De.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,a){for(const l of ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(r,e)&&function(s,a){return!(s.startAt&&!function(c,d,m){const p=p0(c,d,m);return c.inclusive?p<=0:p<0}(s.startAt,ou(s),a)||s.endAt&&!function(c,d,m){const p=p0(c,d,m);return c.inclusive?p>=0:p>0}(s.endAt,ou(s),a))}(r,e)}function y2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function kw(r){return(e,t)=>{let s=!1;for(const a of ou(r)){const l=v2(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function v2(r,e,t){const s=r.field.isKeyField()?De.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Po(m,p):Me(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new It(De.comparator);function ki(){return _2}const Lw=new It(De.comparator);function tu(...r){let e=Lw;for(const t of r)e=e.insert(t.key,t);return e}function Uw(r){let e=Lw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ga(){return lu()}function jw(){return lu()}function lu(){return new ba(r=>r.toString(),(r,e)=>r.isEqual(e))}const E2=new It(De.comparator),w2=new Zt(De.comparator);function et(...r){let e=w2;for(const t of r)e=e.add(t);return e}const b2=new Zt(We);function T2(){return b2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function zw(r){return{integerValue:""+r}}function S2(r,e){return XC(e)?zw(e):Dg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function A2(r,e,t){return r instanceof Ih?function(a,l){const c={fields:{[Tw]:{stringValue:bw},[Aw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tg(l)&&(l=$h(l)),l&&(c.fields[Sw]=l),{mapValue:c}}(t,e):r instanceof bu?qw(r,e):r instanceof Tu?Hw(r,e):function(a,l){const c=Bw(a,l),d=E0(c)+E0(a.Ae);return Lm(c)&&Lm(a.Ae)?zw(d):Dg(a.serializer,d)}(r,e)}function R2(r,e,t){return r instanceof bu?qw(r,e):r instanceof Tu?Hw(r,e):t}function Bw(r,e){return r instanceof Nh?function(s){return Lm(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Ih extends Qh{}class bu extends Qh{constructor(e){super(),this.elements=e}}function qw(r,e){const t=$w(e);for(const s of r.elements)t.some(a=>ni(a,s))||t.push(s);return{arrayValue:{values:t}}}class Tu extends Qh{constructor(e){super(),this.elements=e}}function Hw(r,e){let t=$w(e);for(const s of r.elements)t=t.filter(a=>!ni(a,s));return{arrayValue:{values:t}}}class Nh extends Qh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function E0(r){return kt(r.integerValue||r.doubleValue)}function $w(r){return Sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function C2(r,e){return r.field.isEqual(e.field)&&function(s,a){return s instanceof bu&&a instanceof bu||s instanceof Tu&&a instanceof Tu?Vo(s.elements,a.elements,ni):s instanceof Nh&&a instanceof Nh?ni(s.Ae,a.Ae):s instanceof Ih&&a instanceof Ih}(r.transform,e.transform)}class D2{constructor(e,t){this.version=e,this.transformResults=t}}class Mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Yh{}function Fw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kw(r.key,Mi.none()):new xu(r.key,r.data,Mi.none());{const t=r.data,s=vr.empty();let a=new Zt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Ta(r.key,s,new Or(a.toArray()),Mi.none())}}function O2(r,e,t){r instanceof xu?function(a,l,c){const d=a.value.clone(),m=b0(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ta?function(a,l,c){if(!mh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=b0(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Gw(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(r,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function uu(r,e,t,s){return r instanceof xu?function(l,c,d,m){if(!mh(l.precondition,c))return d;const p=l.value.clone(),v=T0(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ta?function(l,c,d,m){if(!mh(l.precondition,c))return d;const p=T0(l.fieldTransforms,m,c),v=c.data;return v.setAll(Gw(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,t,s):function(l,c,d){return mh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(r,e,t)}function x2(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=Bw(s.transform,a||null);l!=null&&(t===null&&(t=vr.empty()),t.set(s.field,l))}return t||null}function w0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Vo(s,a,(l,c)=>C2(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends Yh{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ta extends Yh{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Gw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function b0(r,e,t){const s=new Map;mt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,R2(c,d,t[a]))}return s}function T0(r,e,t){const s=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);s.set(a.field,A2(l,c,e))}return s}class Kw extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&O2(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=jw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=Fw(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Le.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(t,s)=>w0(t,s))&&Vo(this.baseMutations,e.baseMutations,(t,s)=>w0(t,s))}}class Og{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){mt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return E2}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Og(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,at;function P2(r){switch(r){case oe.OK:return Me(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Me(15467,{code:r})}}function Qw(r){if(r===void 0)return Pi("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Ht.OK:return oe.OK;case Ht.CANCELLED:return oe.CANCELLED;case Ht.UNKNOWN:return oe.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return oe.INTERNAL;case Ht.UNAVAILABLE:return oe.UNAVAILABLE;case Ht.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ht.NOT_FOUND:return oe.NOT_FOUND;case Ht.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ht.ABORTED:return oe.ABORTED;case Ht.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ht.DATA_LOSS:return oe.DATA_LOSS;default:return Me(39323,{code:r})}}(at=Ht||(Ht={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new bs([4294967295,4294967295],0);function S0(r){const e=k2().encode(r),t=new cw;return t.update(e),new Uint8Array(t.digest())}function A0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new bs([t,s],0),new bs([a,l],0)]}class xg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bs.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(bs.fromNumber(s)));return a.compare(L2)===1&&(a=new bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=S0(e),[s,a]=A0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new xg(l,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const t=S0(e),[s,a]=A0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Xh(Le.min(),a,new It(We),ki(),et())}}class Iu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Iu(s,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class Yw{constructor(e,t){this.targetId=e,this.Ce=t}}class Xw{constructor(e,t,s=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class R0{constructor(){this.ve=0,this.Fe=C0(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),s=et();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}}),new Iu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=C0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.Je=nh(),this.He=nh(),this.Ye=new It(We)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(jm(l))if(s===0){const c=new De(l.path);this.et(t,c,Rn.newNoDocument(c,Le.min()))}else mt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Cs(s).toUint8Array()}catch(m){if(m instanceof ww)return Mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new xg(c,a,l)}catch(m){return Mo(m instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&jm(d.target)){const m=new De(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Rn.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let s=et();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new Xh(e,t,this.Ye,this.je,s);return this.je=ki(),this.Je=nh(),this.He=nh(),this.Ye=new It(We),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new R0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Zt(We),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Zt(We),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R0),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nh(){return new It(De.comparator)}function C0(){return new It(De.comparator)}const j2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class q2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bm(r,e){return r.useProto3Json||Hh(e)?e:{value:e}}function Mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function H2(r,e){return Mh(r,e.toTimestamp())}function Wr(r){return mt(!!r,49232),Le.fromTimestamp(function(t){const s=Rs(t);return new Rt(s.seconds,s.nanos)}(r))}function Ig(r,e){return qm(r,e).canonicalString()}function qm(r,e){const t=function(a){return new xt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Zw(r){const e=xt.fromString(r);return mt(rb(e),10190,{key:e.toString()}),e}function Hm(r,e){return Ig(r.databaseId,e.path)}function mm(r,e){const t=Zw(e);if(t.get(1)!==r.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new De(eb(t))}function Ww(r,e){return Ig(r.databaseId,e)}function $2(r){const e=Zw(r);return e.length===4?xt.emptyPath():eb(e)}function $m(r){return new xt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eb(r){return mt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function D0(r,e,t){return{name:Hm(r,e),fields:t.value.mapValue.fields}}function F2(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(mt(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(mt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?oe.UNKNOWN:Qw(p.code);return new Se(v,p.message||"")}(c);t=new Xw(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=mm(r,s.document.name),l=Wr(s.document.updateTime),c=s.document.createTime?Wr(s.document.createTime):Le.min(),d=new vr({mapValue:{fields:s.document.fields}}),m=Rn.newFoundDocument(a,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];t=new gh(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=mm(r,s.document),l=s.readTime?Wr(s.readTime):Le.min(),c=Rn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new gh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=mm(r,s.document),l=s.removedTargetIds||[];t=new gh([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new V2(a,l),d=s.targetId;t=new Yw(d,c)}}return t}function G2(r,e){let t;if(e instanceof xu)t={update:D0(r,e.key,e.value)};else if(e instanceof Kw)t={delete:Hm(r,e.key)};else if(e instanceof Ta)t={update:D0(r,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof I2))return Me(16599,{Vt:e.type});t={verify:Hm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Ih)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:H2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)}(r,e.precondition)),t}function K2(r,e){return r&&r.length>0?(mt(e!==void 0,14353),r.map(t=>function(a,l){let c=a.updateTime?Wr(a.updateTime):Wr(l);return c.isEqual(Le.min())&&(c=Wr(l)),new D2(c,a.transformResults||[])}(t,e))):[]}function Q2(r,e){return{documents:[Ww(r,e.path)]}}function Y2(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Ww(r,a);const l=function(p){if(p.length!==0)return nb(ri.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:Ro(b.field),direction:Z2(b.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Bm(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:a}}function X2(r){let e=$2(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){mt(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(w){const b=tb(w);return b instanceof ri&&Iw(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(b=>function(C){return new xh(Co(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(w){let b;return b=typeof w=="object"?w.value:w,Hh(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(w){const b=!!w.before,A=w.values||[];return new Oh(A,b)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const b=!w.before,A=w.values||[];return new Oh(A,b)}(t.endAt)),m2(e,a,c,l,d,"F",m,p)}function J2(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tb(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Co(t.unaryFilter.field);return Jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Co(t.unaryFilter.field);return Jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(t.unaryFilter.field);return Jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(t.unaryFilter.field);return Jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(r):r.fieldFilter!==void 0?function(t){return Jt.create(Co(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(s=>tb(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(r):Me(30097,{filter:r})}function Z2(r){return j2[r]}function W2(r){return z2[r]}function eD(r){return B2[r]}function Ro(r){return{fieldPath:r.canonicalString()}}function Co(r){return pn.fromServerFormat(r.fieldPath)}function nb(r){return r instanceof Jt?function(t){if(t.op==="=="){if(g0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(m0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(g0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(m0(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:W2(t.op),value:t.value}}}(r):r instanceof ri?function(t){const s=t.getFilters().map(a=>nb(a));return s.length===1?s[0]:{compositeFilter:{op:eD(t.op),filters:s}}}(r):Me(54877,{filter:r})}function tD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,s,a,l=Le.min(),c=Le.min(),d=yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.yt=e}}function rD(r){const e=X2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Cn=new sD}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(As.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class sD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Zt(xt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Zt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(ib,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Lo(0)}static cr(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="LruGarbageCollector",aD=1048576;function I0([r,e],[t,s]){const a=We(r,t);return a===0?We(e,s):a}class oD{constructor(e){this.Ir=e,this.buffer=new Zt(I0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();I0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(x0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?ye(x0,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.Vr(3e5)})}}class uD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return se.resolve(qh.ce);const s=new oD(t);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(O0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,c=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(p=Date.now(),So()<=ot.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function cD(r,e){return new uD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&uu(s.mutation,a,Or.empty(),Rt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,t,s=et()){const a=ga();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=tu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=ga();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,et()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let l=ki();const c=lu(),d=function(){return lu()}();return t.forEach((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ta)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),uu(v.mutation,p,v.mutation.getFieldMask(),Rt.now())):c.set(p.key,Or.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>d.set(p,new fD(v,c.get(p)??null))),d))}recalculateAndSaveOverlays(e,t){const s=lu();let a=new It((c,d)=>c-d),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=s.get(m)||Or.empty();v=d.applyToLocalView(p,v),s.set(m,v);const w=(a.get(d.batchId)||et()).add(m);a=a.insert(d.batchId,w)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,w=jw();v.forEach(b=>{if(!l.has(b)){const A=Fw(t.get(b),s.get(b));A!==null&&w.set(b,A),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,w))}return se.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):g2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):se.resolve(ga());let d=vu,m=l;return c.next(p=>se.forEach(p,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{m=m.insert(v,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,et())).next(v=>({batchId:d,changes:Uw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(s=>{let a=tu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=tu();return this.indexManager.getCollectionParents(e,l).next(d=>se.forEach(d,m=>{const p=function(w,b){return new Fh(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(v=>{v.forEach((w,b)=>{c=c.insert(w,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Rn.newInvalidDocument(v)))});let d=tu();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&uu(v.mutation,p,Or.empty(),Rt.now()),Kh(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Wr(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:rD(a.bundledQuery),readTime:Wr(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.overlays=new It(De.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ga();return se.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.St(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const a=ga(),l=t.length+1,c=new De(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new It((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=ga(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ga(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return se.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new M2(t,s));let l=this.qr.get(t);l===void 0&&(l=et(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Qr=new Zt(on.$r),this.Ur=new Zt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new on(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new on(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new De(new xt([])),s=new on(t,e),a=new on(t,e+1),l=[];return this.Ur.forEachInRange([s,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new De(new xt([])),s=new on(t,e),a=new on(t,e+1);let l=et();return this.Ur.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new on(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return De.comparator(e.key,t.key)||We(e.Yr,t.Yr)}static Kr(e,t){return We(e.Yr,t.Yr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(on.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new N2(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new on(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?bg:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new on(t,0),a=new on(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],c=>{const d=this.Xr(c.Yr);l.push(d)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Zt(We);return t.forEach(a=>{const l=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{s=s.add(d.Yr)})}),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;De.isDocumentKey(l)||(l=l.child(""));const c=new on(new De(l),0);let d=new Zt(We);return this.Zr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)},c),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){mt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(t.mutations,a=>{const l=new on(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new on(t,0),a=this.Zr.firstAfterOrEqual(s);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.ri=e,this.docs=function(){return new It(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let s=ki();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Rn.newInvalidDocument(a))}),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ki();const c=t.path,d=new De(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||GC(FC(v),s)<=0||(a.has(v.key)||Kh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Me(9500)}ii(e,t){return se.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new _D(this)}getSize(e){return se.resolve(this.size)}}class _D extends hD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.persistence=e,this.si=new ba(t=>Ag(t),Rg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new Ng,this.targetCount=0,this.ai=Lo.ur()}forEachTarget(e,t){return this.si.forEach((s,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),se.waitFor(l).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),se.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t){this.ui={},this.overlays={},this.ci=new qh(0),this.li=!1,this.li=!0,this.hi=new pD,this.referenceDelegate=e(this),this.Pi=new ED(this),this.indexManager=new iD,this.remoteDocumentCache=function(a){return new vD(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new nD(t),this.Ii=new mD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new yD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ye("MemoryPersistence","Starting transaction:",e);const a=new wD(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return se.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class wD extends QC{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ri=new Ng,this.Vi=null}static mi(e){return new Mg(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,s=>{const a=De.fromPath(s);return this.gi(e,a).next(l=>{l||t.removeEntry(a,Le.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Vh{constructor(e,t){this.persistence=e,this.pi=new ba(s=>JC(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=cD(this,t)}static mi(e,t){return new Vh(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return se.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?se.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Le.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}br(e,t,s){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=et(),a=et();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Vg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mR()?8:YC(fR())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new bD;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)})}).next(()=>l.result)}bs(e,t,s,a){return s.documentReadCount<this.fs?(So()<=ot.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(So()<=ot.DEBUG&&ye("QueryEngine","Query:",Ao(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(So()<=ot.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):se.resolve())}ys(e,t){if(_0(t))return se.resolve(null);let s=Zr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=zm(t,null,"F"),s=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=et(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.Ds(t,d);return this.Cs(t,p,c,m.readTime)?this.ys(e,zm(t,null,"F")):this.vs(e,p,t,m)}))})))}ws(e,t,s,a){return _0(t)||a.isEqual(Le.min())?se.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,a)?se.resolve(null):(So()<=ot.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ao(t)),this.vs(e,c,t,$C(a,vu)).next(d=>d))})}Ds(e,t){let s=new Zt(kw(e));return t.forEach((a,l)=>{Kh(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return So()<=ot.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.ps.getDocumentsMatchingQuery(e,t,As.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LocalStore",SD=3e8;class AD{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new It(We),this.xs=new ba(l=>Ag(l),Rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function RD(r,e,t,s){return new AD(r,e,t,s)}async function ab(r,e){const t=Ue(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=et();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(p=>({Ls:p,removedBatchIds:c,addedBatchIds:d}))})})}function CD(r,e){const t=Ue(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const w=p.batch,b=w.keys();let A=se.resolve();return b.forEach(C=>{A=A.next(()=>v.getEntry(m,C)).next(B=>{const P=p.docVersions.get(C);mt(P!==null,48541),B.version.compareTo(P)<0&&(w.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),v.addEntry(B)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(m,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=et();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function ob(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function DD(r,e){const t=Ue(r),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const b=a.get(w);if(!b)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,v.addedDocuments,w)));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(yn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,s)),a=a.insert(w,A),function(B,P,q){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=SD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(b,A,v)&&d.push(t.Pi.updateTargetData(l,A))});let m=ki(),p=et();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(OD(l,c,e.documentUpdates).next(v=>{m=v.ks,p=v.qs})),!s.isEqual(Le.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return se.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.Ms=a,l))}function OD(r,e,t){let s=et(),a=et();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let c=ki();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Le.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ye(Pg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{ks:c,qs:a}})}function xD(r,e){const t=Ue(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=bg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ID(r,e){const t=Ue(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Pi.getTargetData(s,e).next(l=>l?(a=l,se.resolve(a)):t.Pi.allocateTargetId(s).next(c=>(a=new _s(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Fm(r,e,t){const s=Ue(r),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Ho(c))throw c;ye(Pg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function N0(r,e,t){const s=Ue(r);let a=Le.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const w=Ue(m),b=w.xs.get(v);return b!==void 0?se.resolve(w.Ms.get(b)):w.Pi.getTargetData(p,v)}(s,c,Zr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:Le.min(),t?l:et())).next(d=>(ND(s,y2(e),d),{documents:d,Qs:l})))}function ND(r,e,t){let s=r.Os.get(e)||Le.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Os.set(e,s)}class M0{constructor(){this.activeTargetIds=T2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MD{constructor(){this.Mo=new M0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="ConnectivityMonitor";class P0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(V0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(V0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function Gm(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="RestConnection",PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const c=Gm(),d=this.zo(e,t.toUriEncodedString());ye(gm,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),v=yg(p);return this.Jo(e,d,m,s,v).then(w=>(ye(gm,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Mo(gm,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",s),w})}Ho(e,t,s,a,l,c){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const s=PD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class UD extends kD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=Gm();return new Promise((d,m)=>{const p=new hw;p.setWithCredentials(!0),p.listenOnce(fw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const w=p.getResponseJson();ye(Tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case hh.TIMEOUT:ye(Tn,`RPC '${e}' ${c} timed out`),m(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const b=p.getStatus();if(ye(Tn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A?.error;if(C&&C.status&&C.message){const B=function(q){const ae=q.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(ae)>=0?ae:oe.UNKNOWN}(C.status);m(new Se(B,C.message))}else m(new Se(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(Tn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ye(Tn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,s,15)})}T_(e,t,s){const a=Gm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=gw(),d=mw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=l.join("");ye(Tn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const w=c.createWebChannel(v,m);this.I_(w);let b=!1,A=!1;const C=new LD({Yo:P=>{A?ye(Tn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(b||(ye(Tn,`Opening RPC '${e}' stream ${a} transport.`),w.open(),b=!0),ye(Tn,`RPC '${e}' stream ${a} sending:`,P),w.send(P))},Zo:()=>w.close()}),B=(P,q,ae)=>{P.listen(q,G=>{try{ae(G)}catch(ce){setTimeout(()=>{throw ce},0)}})};return B(w,eu.EventType.OPEN,()=>{A||(ye(Tn,`RPC '${e}' stream ${a} transport opened.`),C.o_())}),B(w,eu.EventType.CLOSE,()=>{A||(A=!0,ye(Tn,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(w))}),B(w,eu.EventType.ERROR,P=>{A||(A=!0,Mo(Tn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),C.a_(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),B(w,eu.EventType.MESSAGE,P=>{if(!A){const q=P.data[0];mt(!!q,16349);const ae=q,G=ae?.error||ae[0]?.error;if(G){ye(Tn,`RPC '${e}' stream ${a} received error:`,G);const ce=G.status;let le=function(R){const D=Ht[R];if(D!==void 0)return Qw(D)}(ce),U=G.message;le===void 0&&(le=oe.INTERNAL,U="Unknown error status: "+ce+" with message "+G.message),A=!0,C.a_(new Se(le,U)),w.close()}else ye(Tn,`RPC '${e}' stream ${a} received:`,q),C.u_(q)}}),B(d,dw.STAT_EVENT,P=>{P.stat===Vm.PROXY?ye(Tn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Vm.NOPROXY&&ye(Tn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(r){return new q2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="PersistentStream";class ub{constructor(e,t,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===t&&this.G_(s,a)},s=>{e(()=>{const a=new Se(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(k0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(k0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jD extends ub{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=F2(this.serializer,e),s=function(l){if(!("targetChange"in l))return Le.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?Wr(c.readTime):Le.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=$m(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=jm(m)?{documents:Q2(l,m)}:{query:Y2(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Jw(l,c.resumeToken);const p=Bm(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Le.min())>0){d.readTime=Mh(l,c.snapshotVersion.toTimestamp());const p=Bm(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const s=J2(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=$m(this.serializer),t.removeTarget=e,this.q_(t)}}class zD extends ub{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=K2(e.writeResults,e.commitTime),s=Wr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>G2(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class qD extends BD{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,qm(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(oe.UNKNOWN,l.toString())})}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,qm(t,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(oe.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class HD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class $D{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{Sa(this)&&(ye(va,"Restarting streams for network reachability change."),await async function(m){const p=Ue(m);p.Ea.add(4),await Nu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Zh(p)}(this))})}),this.Ra=new HD(s,a)}}async function Zh(r){if(Sa(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function cb(r,e){const t=Ue(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),jg(t)?Ug(t):$o(t).O_()&&Lg(t,e))}function kg(r,e){const t=Ue(r),s=$o(t);t.Ia.delete(e),s.O_()&&hb(t,e),t.Ia.size===0&&(s.O_()?s.L_():Sa(t)&&t.Ra.set("Unknown"))}function Lg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(r).Y_(e)}function hb(r,e){r.Va.Ue(e),$o(r).Z_(e)}function Ug(r){r.Va=new U2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.Ra.ua()}function jg(r){return Sa(r)&&!$o(r).x_()&&r.Ia.size>0}function Sa(r){return Ue(r).Ea.size===0}function fb(r){r.Va=void 0}async function FD(r){r.Ra.set("Online")}async function GD(r){r.Ia.forEach((e,t)=>{Lg(r,e)})}async function KD(r,e){fb(r),jg(r)?(r.Ra.ha(e),Ug(r)):r.Ra.set("Unknown")}async function QD(r,e,t){if(r.Ra.set("Online"),e instanceof Xw&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))}(r,e)}catch(s){ye(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ph(r,s)}else if(e instanceof gh?r.Va.Ze(e):e instanceof Yw?r.Va.st(e):r.Va.tt(e),!t.isEqual(Le.min()))try{const s=await ob(r.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),hb(l,m);const w=new _s(v.target,m,p,v.sequenceNumber);Lg(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ye(va,"Failed to raise snapshot:",s),await Ph(r,s)}}async function Ph(r,e,t){if(!Ho(e))throw e;r.Ea.add(1),await Nu(r),r.Ra.set("Offline"),t||(t=()=>ob(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(va,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Zh(r)})}function db(r,e){return e().catch(t=>Ph(r,t,e))}async function Wh(r){const e=Ue(r),t=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bg;for(;YD(e);)try{const a=await xD(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,XD(e,a)}catch(a){await Ph(e,a)}mb(e)&&gb(e)}function YD(r){return Sa(r)&&r.Ta.length<10}function XD(r,e){r.Ta.push(e);const t=Os(r);t.O_()&&t.X_&&t.ea(e.mutations)}function mb(r){return Sa(r)&&!Os(r).x_()&&r.Ta.length>0}function gb(r){Os(r).start()}async function JD(r){Os(r).ra()}async function ZD(r){const e=Os(r);for(const t of r.Ta)e.ea(t.mutations)}async function WD(r,e,t){const s=r.Ta.shift(),a=Og.from(s,e,t);await db(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await Wh(r)}async function eO(r,e){e&&Os(r).X_&&await async function(s,a){if(function(c){return P2(c)&&c!==oe.ABORTED}(a.code)){const l=s.Ta.shift();Os(s).B_(),await db(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Wh(s)}}(r,e),mb(r)&&gb(r)}async function L0(r,e){const t=Ue(r);t.asyncQueue.verifyOperationInProgress(),ye(va,"RemoteStore received new credentials");const s=Sa(t);t.Ea.add(3),await Nu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zh(t)}async function tO(r,e){const t=Ue(r);e?(t.Ea.delete(2),await Zh(t)):e||(t.Ea.add(2),await Nu(t),t.Ra.set("Unknown"))}function $o(r){return r.ma||(r.ma=function(t,s,a){const l=Ue(t);return l.sa(),new jD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Xo:FD.bind(null,r),t_:GD.bind(null,r),r_:KD.bind(null,r),H_:QD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),jg(r)?Ug(r):r.Ra.set("Unknown")):(await r.ma.stop(),fb(r))})),r.ma}function Os(r){return r.fa||(r.fa=function(t,s,a){const l=Ue(t);return l.sa(),new zD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:JD.bind(null,r),r_:eO.bind(null,r),ta:ZD.bind(null,r),na:WD.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Wh(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(va,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new zg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),Ho(r))return new Se(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||De.comparator(t.key,s.key):(t,s)=>De.comparator(t.key,s.key),this.keyedMap=tu(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.ga=new It(De.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Uo{constructor(e,t,s,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Uo(e,t,No.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class rO{constructor(){this.queries=j0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Ue(t),l=a.queries;a.queries=j0(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function j0(){return new ba(r=>Pw(r),Gh)}async function iO(r,e){const t=Ue(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new nO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Bg(c,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&qg(t)}async function sO(r,e){const t=Ue(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function aO(r,e){const t=Ue(r);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&qg(t)}function oO(r,e,t){const s=Ue(r),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function qg(r){r.Ca.forEach(e=>{e.next()})}var Km,z0;(z0=Km||(Km={})).Ma="default",z0.Cache="cache";class lO{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class uO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=kw(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new U0,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,w)=>{const b=a.get(v),A=Kh(this.query,w)?w:null,C=!!b&&this.mutatedKeys.has(b.key),B=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;b&&A?b.data.isEqual(A.data)?C!==B&&(s.track({type:3,doc:A}),P=!0):this.su(b,A)||(s.track({type:2,doc:A}),P=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(d=!0)):!b&&A?(s.track({type:0,doc:A}),P=!0):b&&!A&&(s.track({type:1,doc:b}),P=!0,(m||p)&&(d=!0)),P&&(A?(c=c.add(A),l=B?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,w)=>function(A,C){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:P})}};return B(A)-B(C)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Uo(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new yb(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new pb(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class cO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class hO{constructor(e){this.key=e,this.hu=!1}}class fO{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba(d=>Pw(d),Gh),this.Iu=new Map,this.Eu=new Set,this.du=new It(De.comparator),this.Au=new Map,this.Ru=new Ng,this.Vu={},this.mu=new Map,this.fu=Lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dO(r,e,t=!0){const s=Tb(r);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await vb(s,e,t,!0),a}async function mO(r,e){const t=Tb(r);await vb(t,e,!0,!1)}async function vb(r,e,t,s){const a=await ID(r.localStore,Zr(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await gO(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&cb(r.remoteStore,a),d}async function gO(r,e,t,s,a){r.pu=(w,b,A)=>async function(B,P,q,ae){let G=P.view.ru(q);G.Cs&&(G=await N0(B.localStore,P.query,!1).then(({documents:I})=>P.view.ru(I,G)));const ce=ae&&ae.targetChanges.get(P.targetId),le=ae&&ae.targetMismatches.get(P.targetId)!=null,U=P.view.applyChanges(G,B.isPrimaryClient,ce,le);return q0(B,P.targetId,U.au),U.snapshot}(r,w,b,A);const l=await N0(r.localStore,e,!0),c=new uO(e,l.Qs),d=c.ru(l.documents),m=Iu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),p=c.applyChanges(d,r.isPrimaryClient,m);q0(r,t,p.au);const v=new cO(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),p.snapshot}async function pO(r,e,t){const s=Ue(r),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(c=>!Gh(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Fm(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&kg(s.remoteStore,a.targetId),Qm(s,a.targetId)}).catch(qo)):(Qm(s,a.targetId),await Fm(s.localStore,a.targetId,!0))}async function yO(r,e){const t=Ue(r),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),kg(t.remoteStore,s.targetId))}async function vO(r,e,t){const s=AO(r);try{const a=await function(c,d){const m=Ue(c),p=Rt.now(),v=d.reduce((A,C)=>A.add(C.key),et());let w,b;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=ki(),B=et();return m.Ns.getEntries(A,v).next(P=>{C=P,C.forEach((q,ae)=>{ae.isValidDocument()||(B=B.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,C)).next(P=>{w=P;const q=[];for(const ae of d){const G=x2(ae,w.get(ae.key).overlayedDocument);G!=null&&q.push(new Ta(ae.key,G,Dw(G.value.mapValue),Mi.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,q,d)}).next(P=>{b=P;const q=P.applyToLocalDocumentSet(w,B);return m.documentOverlayCache.saveOverlays(A,P.batchId,q)})}).then(()=>({batchId:b.batchId,changes:Uw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new It(We)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p}(s,a.batchId,t),await Mu(s,a.changes),await Wh(s.remoteStore)}catch(a){const l=Bg(a,"Failed to persist write");t.reject(l)}}async function _b(r,e){const t=Ue(r);try{const s=await DD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Au.get(l);c&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?mt(c.hu,14607):a.removedDocuments.size>0&&(mt(c.hu,42227),c.hu=!1))}),await Mu(t,s,e)}catch(s){await qo(s)}}function B0(r,e,t){const s=Ue(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ue(c);m.onlineState=d;let p=!1;m.queries.forEach((v,w)=>{for(const b of w.Sa)b.va(d)&&(p=!0)}),p&&qg(m)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _O(r,e,t){const s=Ue(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new It(De.comparator);c=c.insert(l,Rn.newNoDocument(l,Le.min()));const d=et().add(l),m=new Xh(Le.min(),new Map,new It(We),c,d);await _b(s,m),s.du=s.du.remove(l),s.Au.delete(e),$g(s)}else await Fm(s.localStore,e,!1).then(()=>Qm(s,e,t)).catch(qo)}async function EO(r,e){const t=Ue(r),s=e.batch.batchId;try{const a=await CD(t.localStore,e);wb(t,s,null),Eb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Mu(t,a)}catch(a){await qo(a)}}async function wO(r,e,t){const s=Ue(r);try{const a=await function(c,d){const m=Ue(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(w=>(mt(w!==null,37113),v=w.keys(),m.mutationQueue.removeMutationBatch(p,w))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(s.localStore,e);wb(s,e,t),Eb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Mu(s,a)}catch(a){await qo(a)}}function Eb(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function wb(r,e,t){const s=Ue(r);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Qm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||bb(r,s)})}function bb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(kg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),$g(r))}function q0(r,e,t){for(const s of t)s instanceof pb?(r.Ru.addReference(s.key,e),bO(r,s)):s instanceof yb?(ye(Hg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||bb(r,s.key)):Me(19791,{wu:s})}function bO(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(ye(Hg,"New document in limbo: "+t),r.Eu.add(s),$g(r))}function $g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new De(xt.fromString(e)),s=r.fu.next();r.Au.set(s,new hO(t)),r.du=r.du.insert(t,s),cb(r.remoteStore,new _s(Zr(Cg(t.path)),s,"TargetPurposeLimboResolution",qh.ce))}}async function Mu(r,e,t){const s=Ue(r),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((d,m)=>{c.push(s.pu(m,e,t).then(p=>{if((p||t)&&s.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Vg.As(m.targetId,p);l.push(v)}}))}),await Promise.all(c),s.Pu.H_(a),await async function(m,p){const v=Ue(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(p,b=>se.forEach(b.Es,A=>v.persistence.referenceDelegate.addReference(w,b.targetId,A)).next(()=>se.forEach(b.ds,A=>v.persistence.referenceDelegate.removeReference(w,b.targetId,A)))))}catch(w){if(!Ho(w))throw w;ye(Pg,"Failed to update sequence numbers: "+w)}for(const w of p){const b=w.targetId;if(!w.fromCache){const A=v.Ms.get(b),C=A.snapshotVersion,B=A.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(b,B)}}}(s.localStore,l))}async function TO(r,e){const t=Ue(r);if(!t.currentUser.isEqual(e)){ye(Hg,"User change. New user:",e.toKey());const s=await ab(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new Se(oe.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mu(t,s.Ls)}}function SO(r,e){const t=Ue(r),s=t.Au.get(e);if(s&&s.hu)return et().add(s.key);{let a=et();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Tb(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_O.bind(null,e),e.Pu.H_=aO.bind(null,e.eventManager),e.Pu.yu=oO.bind(null,e.eventManager),e}function AO(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wO.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RD(this.persistence,new TD,e.initialUser,this.serializer)}Cu(e){return new sb(Mg.mi,this.serializer)}Du(e){return new MD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class RO extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){mt(this.persistence.referenceDelegate instanceof Vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new sb(s=>Vh.mi(s,t),this.serializer)}}class Ym{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TO.bind(null,this.syncEngine),await tO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rO}()}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),s=function(l){return new UD(l)}(e.databaseInfo);return function(l,c,d,m){return new qD(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,d){return new $D(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>B0(this.syncEngine,t,0),function(){return P0.v()?new P0:new VD}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,v){const w=new fO(a,l,c,d,m,p);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ue(t);ye(va,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class DO{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ye(xs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ye(xs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Bg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ym(r,e){r.asyncQueue.verifyOperationInProgress(),ye(xs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async a=>{s.isEqual(a)||(await ab(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function H0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await OO(r);ye(xs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>L0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,a)=>L0(e.remoteStore,a)),r._onlineComponents=e}async function OO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(xs,"Using user provided OfflineComponentProvider");try{await ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await ym(r,new kh)}}else ye(xs,"Using default OfflineComponentProvider"),await ym(r,new RO(void 0));return r._offlineComponents}async function Sb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(xs,"Using user provided OnlineComponentProvider"),await H0(r,r._uninitializedComponentsProvider._online)):(ye(xs,"Using default OnlineComponentProvider"),await H0(r,new Ym))),r._onlineComponents}function xO(r){return Sb(r).then(e=>e.syncEngine)}async function IO(r){const e=await Sb(r),t=e.eventManager;return t.onListen=dO.bind(null,e.syncEngine),t.onUnlisten=pO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yO.bind(null,e.syncEngine),t}function NO(r,e,t={}){const s=new Ts;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new CO({next:b=>{v.Nu(),c.enqueueAndForget(()=>sO(l,w));const A=b.docs.has(d);!A&&b.fromCache?p.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&m&&m.source==="server"?p.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new lO(Cg(d.path),v,{includeMetadataChanges:!0,qa:!0});return iO(l,w)}(await IO(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firestore.googleapis.com",F0=!0;class G0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rb,this.ssl=F0}else this.host=e.host,this.ssl=e.ssl??F0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aD)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fg{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new NC;switch(s.type){case"firstParty":return new kC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=$0.get(t);s&&(ye("ComponentProvider","Removing Datastore"),$0.delete(t),s.terminate())}(this),Promise.resolve()}}function MO(r,e,t,s={}){r=yu(r,Fg);const a=yg(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(oR(`https://${d}`),hR("Firestore",!0)),l.host!==Rb&&l.host!==d&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!bh(m,c)&&(r._setSettings(m),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=An.MOCK_USER;else{p=lR(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new An(w)}r._authCredentials=new MC(new yw(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gg(this.firestore,e,this._query)}}class ln{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ou(t,ln._jsonSchema))return new ln(e,s||null,new De(xt.fromString(t.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:$t("string",ln._jsonSchemaVersion),referencePath:$t("string")};class Su extends Gg{constructor(e,t,s){super(e,t,Cg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new De(e))}withConverter(e){return new Su(this.firestore,e,this._path)}}function Cb(r,e,...t){if(r=Th(r),arguments.length===1&&(e=Eg.newId()),qC("doc","path",e),r instanceof Fg){const s=xt.fromString(e,...t);return a0(s),new ln(r,null,new De(s))}{if(!(r instanceof ln||r instanceof Su))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(xt.fromString(e,...t));return a0(s),new ln(r.firestore,r instanceof Su?r.converter:null,new De(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="AsyncQueue";class Q0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lb(this,"async_queue_retry"),this._c=()=>{const s=pm();s&&ye(K0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ts;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;ye(K0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",Y0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=zg.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:Y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Y0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Kg extends Fg{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Q0,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function VO(r,e){const t=typeof r=="object"?r:wC(),s=typeof r=="string"?r:Ch,a=pC(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=sR("firestore");l&&MO(a,...l)}return a}function Db(r){if(r._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PO(r),r._firestoreClient}function PO(r){const e=r._freezeSettings(),t=function(a,l,c,d){return new e2(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ab(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new DO(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(yn.fromBase64String(e))}catch(t){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _r(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,_r._jsonSchema))return _r.fromBase64String(e.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:$t("string",_r._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:$t("string",ei._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ti(e.vectorValues);throw new Se(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:$t("string",ti._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^__.*__$/;class LO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}function xb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:r})}}class Yg{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xb(this.Ac)&&kO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Jh(e)}Cc(e,t,s,a=!1){return new Yg({Ac:e,methodName:t,Dc:s,path:pn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jO(r){const e=r._freezeSettings(),t=Jh(r._databaseId);return new UO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function zO(r,e,t,s,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);Vb("Data must be an object, but it was:",c,s);const d=Nb(s,c);let m,p;if(l.merge)m=new Or(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const b=BO(e,w,t);if(!c.contains(b))throw new Se(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);HO(v,b)||v.push(b)}m=new Or(v),p=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,p=c.fieldTransforms;return new LO(new vr(d),m,p)}function Ib(r,e){if(Mb(r=Th(r)))return Vb("Unsupported field value:",e,r),Nb(r,e);if(r instanceof Ob)return function(s,a){if(!xb(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=Ib(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(r,e)}return function(s,a){if((s=Th(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return S2(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Rt.fromDate(s);return{timestampValue:Mh(a.serializer,l)}}if(s instanceof Rt){const l=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(a.serializer,l)}}if(s instanceof ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _r)return{bytesValue:Jw(a.serializer,s._byteString)};if(s instanceof ln){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ig(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ti)return function(c,d){return{mapValue:{fields:{[Rw]:{stringValue:Cw},[Dh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Dg(d.serializer,p)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${wg(s)}`)}(r,e)}function Nb(r,e){const t={};return Ew(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(r,(s,a)=>{const l=Ib(a,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Mb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof ei||r instanceof _r||r instanceof ln||r instanceof Ob||r instanceof ti)}function Vb(r,e,t){if(!Mb(t)||!vw(t)){const s=wg(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function BO(r,e,t){if((e=Th(e))instanceof Qg)return e._internalPath;if(typeof e=="string")return Pb(r,e);throw Lh("Field path arguments must be of type string or ",r,!1,void 0,t)}const qO=new RegExp("[~\\*/\\[\\]]");function Pb(r,e,t){if(e.search(qO)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Qg(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Lh(r,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new Se(oe.INVALID_ARGUMENT,d+r+m)}function HO(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $O extends kb{data(){return super.data()}}function Lb(r,e){return typeof e=="string"?Pb(r,e):e instanceof Qg?e._internalPath:e._delegate._internalPath}class FO{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return wa(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){const t=e.fields?.[Dh].arrayValue?.values?.map(s=>kt(s.doubleValue));return new ti(t)}convertGeoPoint(e){return new ei(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=xt.fromString(e);mt(rb(s),9688,{name:e});const a=new Eu(s.get(1),s.get(3)),l=new De(s.popFirst(5));return a.isEqual(t)||Pi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends kb{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:$t("string",pa._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class ph extends pa{data(e={}){return super.data(e)}}class cu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ru(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ph(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new ph(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new ph(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:KO(d.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(r){r=yu(r,ln);const e=yu(r.firestore,Kg);return NO(Db(e),r._key).then(t=>ZO(e,r,t))}cu._jsonSchemaVersion="firestore/querySnapshot/1.0",cu._jsonSchema={type:$t("string",cu._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class YO extends FO{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function XO(r,e,t){r=yu(r,ln);const s=yu(r.firestore,Kg),a=GO(r.converter,e);return JO(s,[zO(jO(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Mi.none())])}function JO(r,e){return function(s,a){const l=new Ts;return s.asyncQueue.enqueueAndForget(async()=>vO(await xO(s),a,l)),l.promise}(Db(r),e)}function ZO(r,e,t){const s=t.docs.get(e._key),a=new YO(r);return new pa(r,a,e._key,s,new ru(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Bo=a})(EC),Ah(new gu("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Kg(new VC(s.getProvider("auth-internal")),new LC(c,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(p.options.projectId,v)}(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Io(n0,r0,e),Io(n0,r0,"esm2020")})();var WO="firebase",ex="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(WO,ex,"app");const tx={apiKey:"AIzaSyAcW-nmpGGEcSo3WL0uSmKPbx7LQjLmyU8",authDomain:"shareup-e8008.firebaseapp.com",projectId:"shareup-e8008",storageBucket:"shareup-e8008.firebasestorage.app",messagingSenderId:"210621028097",appId:"1:210621028097:web:043dd62dd49f64ce86ad00",measurementId:"G-7PDJWYNRY0"},nx=ow(tx),Ub=VO(nx),rx=()=>{const[r,e]=NS.useState(""),[t,s]=W.useState(null),a=async()=>{if(!r.match(/^\d{6}$/)){alert("Enter a valid 6-digit code");return}const l=Cb(Ub,"files",r),c=await QO(l);if(c.exists()){const d=c.data();s({fileName:d.fileName,url:d.url})}else s(null),alert("No file found for this code")};return xe.jsxs("div",{className:"w-screen h-screen flex flex-col justify-center items-center bg-green-50 p-6",children:[xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-md",children:[xe.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Download File"}),xe.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"space-y-6",children:[xe.jsxs("div",{className:"space-y-2",children:[xe.jsx("label",{htmlFor:"inp",className:"block text-lg font-semibold text-gray-700",children:"Enter your 6-digit code"}),xe.jsx("input",{id:"inp",onChange:l=>e(l.target.value),className:"w-full p-4 text-xl text-center border-2 border-green-300 rounded-xl focus:border-green-500 focus:outline-none focus:ring-2 focus:ring-green-200 tracking-widest font-mono",type:"text",placeholder:"123456",maxLength:6})]}),xe.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-xl text-lg transition-colors duration-200 shadow-md hover:shadow-lg",children:"Find File"})]})]}),t&&xe.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6 w-full max-w-md",children:xe.jsxs("div",{className:"text-center space-y-4",children:[xe.jsxs("div",{className:"bg-green-100 p-4 rounded-xl",children:[xe.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"File Found!"}),xe.jsxs("p",{className:"text-gray-600 break-all",children:[xe.jsx("span",{className:"font-medium",children:"File:"})," ",t.fileName]})]}),xe.jsx("a",{href:t.url,download:!0,className:"inline-block w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-xl text-lg transition-colors duration-200 shadow-md hover:shadow-lg",children:" Download File"})]})})]})},ix="modulepreload",sx=function(r){return"/"+r},X0={},Vu=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let p=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=p;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=p(t.map(v=>{if(v=sx(v),v in X0)return;X0[v]=!0;const w=v.endsWith(".css"),b=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${b}`))return;const A=document.createElement("link");if(A.rel=w?"stylesheet":ix,w||(A.as="script"),A.crossOrigin="",A.href=v,m&&A.setAttribute("nonce",m),document.head.appendChild(A),w)return new Promise((C,B)=>{A.addEventListener("load",C),A.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},ax=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Vu(async()=>{const{default:s}=await Promise.resolve().then(()=>Fo);return{default:s}},[]).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Xg extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class ox extends Xg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class J0 extends Xg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Z0 extends Xg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xm;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Xm||(Xm={}));var lx=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};class ux{constructor(e,{headers:t={},customFetch:s,region:a=Xm.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=ax(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return lx(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:c}=t;let d={},{region:m}=t;m||(m=this.region);const p=new URL(`${this.url}/${e}`);m&&m!=="any"&&(d["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(d["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(d["Content-Type"]="application/json",v=JSON.stringify(c)));const w=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:v}).catch(B=>{throw new ox(B)}),b=w.headers.get("x-relay-error");if(b&&b==="true")throw new J0(w);if(!w.ok)throw new Z0(w);let A=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield w.json():A==="application/octet-stream"?C=yield w.blob():A==="text/event-stream"?C=w:A==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Z0||a instanceof J0?a.context:void 0}}})}}var sn={},fo={},mo={},go={},po={},yo={},cx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jo=cx();const hx=jo.fetch,jb=jo.fetch.bind(jo),zb=jo.Headers,fx=jo.Request,dx=jo.Response,Fo=Object.freeze(Object.defineProperty({__proto__:null,Headers:zb,Request:fx,Response:dx,default:jb,fetch:hx},Symbol.toStringTag,{value:"Module"})),mx=DS(Fo);var ih={},W0;function Bb(){if(W0)return ih;W0=1,Object.defineProperty(ih,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ih.default=r,ih}var eE;function qb(){if(eE)return yo;eE=1;var r=yo&&yo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yo,"__esModule",{value:!0});const e=r(mx),t=r(Bb());class s{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,w,b;let A=null,C=null,B=null,P=p.status,q=p.statusText;if(p.ok){if(this.method!=="HEAD"){const le=await p.text();le===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=le:C=JSON.parse(le))}const G=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),ce=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");G&&ce&&ce.length>1&&(B=parseInt(ce[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(A={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,B=null,P=406,q="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const G=await p.text();try{A=JSON.parse(G),Array.isArray(A)&&p.status===404&&(C=[],A=null,P=200,q="OK")}catch{p.status===404&&G===""?(P=204,q="No Content"):A={message:G}}if(A&&this.isMaybeSingle&&(!((b=A?.details)===null||b===void 0)&&b.includes("0 rows"))&&(A=null,P=200,q="OK"),A&&this.shouldThrowOnError)throw new t.default(A)}return{error:A,data:C,count:B,status:P,statusText:q}});return this.shouldThrowOnError||(m=m.catch(p=>{var v,w,b;return{error:{message:`${(v=p?.name)!==null&&v!==void 0?v:"FetchError"}: ${p?.message}`,details:`${(w=p?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(b=p?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),m.then(l,c)}returns(){return this}overrideTypes(){return this}}return yo.default=s,yo}var tE;function Hb(){if(tE)return po;tE=1;var r=po&&po.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(po,"__esModule",{value:!0});const e=r(qb());class t extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:m=d}={}){const p=m?`${m}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:d=c}={}){const m=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:m=!1,format:p="text"}={}){var v;const w=[a?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,m?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${b}"; options=${w};`,p==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return po.default=t,po}var nE;function Jg(){if(nE)return go;nE=1;var r=go&&go.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(go,"__esModule",{value:!0});const e=r(Hb());class t extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:d}={}){let m="";d==="plain"?m="pl":d==="phrase"?m="ph":d==="websearch"&&(m="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${m}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return go.default=t,go}var rE;function $b(){if(rE)return mo;rE=1;var r=mo&&mo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mo,"__esModule",{value:!0});const e=r(Jg());class t{constructor(a,{headers:l={},schema:c,fetch:d}){this.url=a,this.headers=l,this.schema=c,this.fetch=d}select(a,{head:l=!1,count:c}={}){const d=l?"HEAD":"GET";let m=!1;const p=(a??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",p),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:l,defaultToNull:c=!0}={}){const d="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),l&&m.push(`count=${l}`),c||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(a)){const p=a.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:m=!0}={}){const p="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&v.push(this.headers.Prefer),d&&v.push(`count=${d}`),m||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(a)){const w=a.reduce((b,A)=>b.concat(Object.keys(A)),[]);if(w.length>0){const b=[...new Set(w)].map(A=>`"${A}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:l}={}){const c="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),this.headers.Prefer=d.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const l="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return mo.default=t,mo}var Xl={},Jl={},iE;function gx(){return iE||(iE=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.version=void 0,Jl.version="0.0.0-automated"),Jl}var sE;function px(){if(sE)return Xl;sE=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.DEFAULT_HEADERS=void 0;const r=gx();return Xl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Xl}var aE;function yx(){if(aE)return fo;aE=1;var r=fo&&fo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(fo,"__esModule",{value:!0});const e=r($b()),t=r(Jg()),s=px();class a{constructor(c,{headers:d={},schema:m,fetch:p}={}){this.url=c,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),d),this.schemaName=m,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new e.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:m=!1,get:p=!1,count:v}={}){let w;const b=new URL(`${this.url}/rpc/${c}`);let A;m||p?(w=m?"HEAD":"GET",Object.entries(d).filter(([B,P])=>P!==void 0).map(([B,P])=>[B,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([B,P])=>{b.searchParams.append(B,P)})):(w="POST",A=d);const C=Object.assign({},this.headers);return v&&(C.Prefer=`count=${v}`),new t.default({method:w,url:b,headers:C,schema:this.schemaName,body:A,fetch:this.fetch,allowEmpty:!1})}}return fo.default=a,fo}var oE;function vx(){if(oE)return sn;oE=1;var r=sn&&sn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(sn,"__esModule",{value:!0}),sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const e=r(yx());sn.PostgrestClient=e.default;const t=r($b());sn.PostgrestQueryBuilder=t.default;const s=r(Jg());sn.PostgrestFilterBuilder=s.default;const a=r(Hb());sn.PostgrestTransformBuilder=a.default;const l=r(qb());sn.PostgrestBuilder=l.default;const c=r(Bb());return sn.PostgrestError=c.default,sn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},sn}var _x=vx();const Ex=RE(_x),{PostgrestClient:wx,PostgrestQueryBuilder:d4,PostgrestFilterBuilder:m4,PostgrestTransformBuilder:g4,PostgrestBuilder:p4,PostgrestError:y4}=Ex;function bx(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Tx=bx(),Sx="2.11.15",Ax=`realtime-js/${Sx}`,Rx="1.0.0",Fb=1e4,Cx=1e3;var hu;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(hu||(hu={}));var Sn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Sn||(Sn={}));var Dr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Dr||(Dr={}));var Jm;(function(r){r.websocket="websocket"})(Jm||(Jm={}));var da;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(da||(da={}));class Dx{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const a=t.getUint8(1),l=t.getUint8(2);let c=this.HEADER_LENGTH+2;const d=s.decode(e.slice(c,c+a));c=c+a;const m=s.decode(e.slice(c,c+l));c=c+l;const p=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:m,payload:p}}}class Gb{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(At||(At={}));const lE=(r,e,t={})=>{var s;const a=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((l,c)=>(l[c]=Ox(c,r,e,a),l),{})},Ox=(r,e,t,s)=>{const a=e.find(d=>d.name===r),l=a?.type,c=t[r];return l&&!s.includes(l)?Kb(l,c):Zm(c)},Kb=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Mx(e,t)}switch(r){case At.bool:return xx(e);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return Ix(e);case At.json:case At.jsonb:return Nx(e);case At.timestamp:return Vx(e);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return Zm(e);default:return Zm(e)}},Zm=r=>r,xx=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Ix=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Nx=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Mx=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let l;const c=r.slice(1,t);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>Kb(e,d))}return r},Vx=r=>typeof r=="string"?r.replace(" ","T"):r,Qb=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class vm{constructor(e,t,s={},a=Fb){this.channel=e,this.event=t,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uE;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(uE||(uE={}));class fu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fu.syncState(this.state,a,l,c),this.pendingDiffs.forEach(m=>{this.state=fu.syncDiff(this.state,m,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fu.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,a){const l=this.cloneDeep(e),c=this.transformState(t),d={},m={};return this.map(l,(p,v)=>{c[p]||(m[p]=v)}),this.map(c,(p,v)=>{const w=l[p];if(w){const b=v.map(P=>P.presence_ref),A=w.map(P=>P.presence_ref),C=v.filter(P=>A.indexOf(P.presence_ref)<0),B=w.filter(P=>b.indexOf(P.presence_ref)<0);C.length>0&&(d[p]=C),B.length>0&&(m[p]=B)}else d[p]=v}),this.syncDiff(l,{joins:d,leaves:m},s,a)}static syncDiff(e,t,s,a){const{joins:l,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(d,m)=>{var p;const v=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(m),v.length>0){const w=e[d].map(A=>A.presence_ref),b=v.filter(A=>w.indexOf(A.presence_ref)<0);e[d].unshift(...b)}s(d,v,m)}),this.map(c,(d,m)=>{let p=e[d];if(!p)return;const v=m.map(w=>w.presence_ref);p=p.filter(w=>v.indexOf(w.presence_ref)<0),e[d]=p,a(d,p,m),p.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const a=e[s];return"metas"in a?t[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[s]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cE;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(cE||(cE={}));var hE;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(hE||(hE={}));var Ni;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ni||(Ni={}));class Zg{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=Sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new vm(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new Gb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new fu(this),this.broadcastEndpointURL=Qb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Sn.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params;this._onError(v=>e?.(Ni.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Ni.CLOSED));const m={},p={broadcast:l,presence:c,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(v=>v.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e?.(Ni.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,A=(w=b?.length)!==null&&w!==void 0?w:0,C=[];for(let B=0;B<A;B++){const P=b[B],{filter:{event:q,schema:ae,table:G,filter:ce}}=P,le=v&&v[B];if(le&&le.event===q&&le.schema===ae&&le.table===G&&le.filter===ce)C.push(Object.assign(Object.assign({},P),{id:le.id}));else{this.unsubscribe(),this.state=Sn.errored,e?.(Ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Ni.SUBSCRIBED);return}}).receive("error",v=>{this.state=Sn.errored,e?.(Ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,m;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Sn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new vm(this,Dr.leave,{},e),s.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),c}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new vm(this,e,t,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:m,leave:p,join:v}=Dr;if(s&&[d,m,p,v].indexOf(c)>=0&&s!==this._joinRef())return;let b=this._onMessage(c,t,s);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(A=>{var C,B,P;return((C=A.filter)===null||C===void 0?void 0:C.event)==="*"||((P=(B=A.filter)===null||B===void 0?void 0:B.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===c}).map(A=>A.callback(b,s)):(l=this.bindings[c])===null||l===void 0||l.filter(A=>{var C,B,P,q,ae,G;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in A){const ce=A.id,le=(C=A.filter)===null||C===void 0?void 0:C.event;return ce&&((B=t.ids)===null||B===void 0?void 0:B.includes(ce))&&(le==="*"||le?.toLocaleLowerCase()===((P=t.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const ce=(ae=(q=A?.filter)===null||q===void 0?void 0:q.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase();return ce==="*"||ce===((G=t?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===c}).map(A=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:B,table:P,commit_timestamp:q,type:ae,errors:G}=C;b=Object.assign(Object.assign({},{schema:B,table:P,commit_timestamp:q,eventType:ae,new:{},old:{},errors:G}),this._getPayloadRecords(C))}A.callback(b,s)})}_isClosed(){return this.state===Sn.closed}_isJoined(){return this.state===Sn.joined}_isJoining(){return this.state===Sn.joining}_isLeaving(){return this.state===Sn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Zg.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dr.close,{},e)}_onError(e){this._on(Dr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=lE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=lE(e.columns,e.old_record)),t}}const fE=()=>{},Px=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kx{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fE,this.ref=0,this.logger=fE,this.conn=null,this.sendBuffer=[],this.serializer=new Dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...d)=>Vu(async()=>{const{default:m}=await Promise.resolve().then(()=>Fo);return{default:m}},void 0).then(({default:m})=>m(...d)):c=fetch,(...d)=>c(...d)},this.endPoint=`${e}/${Jm.websocket}`,this.httpEndpoint=Qb(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(s=t?.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t?.encode?t.encode:(l,c)=>c(JSON.stringify(l)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Tx),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rx}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case hu.connecting:return da.Connecting;case hu.open:return da.Open;case hu.closing:return da.Closing;default:return da.Closed}}isConnected(){return this.connectionState()===da.Open}channel(e,t={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new Zg(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:s,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${t} ${s} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const a={access_token:t,version:Ax};t&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Dr.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Cx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:a,payload:l,ref:c}=t;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${a} ${c&&"("+c+")"||""}`,l),Array.from(this.channels).filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,l,c)),this.stateChangeCallbacks.message.forEach(d=>d(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${s}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Px],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class Wg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function an(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Lx extends Wg{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wm extends Wg{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ux=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};const Yb=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Vu(async()=>{const{default:s}=await Promise.resolve().then(()=>Fo);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},jx=()=>Ux(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vu(()=>Promise.resolve().then(()=>Fo),void 0)).Response:Response}),eg=r=>{if(Array.isArray(r))return r.map(t=>eg(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=eg(s)}),e};var Aa=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};const _m=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),zx=(r,e,t)=>Aa(void 0,void 0,void 0,function*(){const s=yield jx();r instanceof s&&!t?.noResolveJson?r.json().then(a=>{e(new Lx(_m(a),r.status||500))}).catch(a=>{e(new Wm(_m(a),a))}):e(new Wm(_m(r),r))}),Bx=(r,e,t,s)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),t))};function Pu(r,e,t,s,a,l){return Aa(this,void 0,void 0,function*(){return new Promise((c,d)=>{r(t,Bx(e,s,a,l)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>zx(m,d,s))})})}function Uh(r,e,t,s){return Aa(this,void 0,void 0,function*(){return Pu(r,"GET",e,t,s)})}function ps(r,e,t,s,a){return Aa(this,void 0,void 0,function*(){return Pu(r,"POST",e,s,a,t)})}function qx(r,e,t,s,a){return Aa(this,void 0,void 0,function*(){return Pu(r,"PUT",e,s,a,t)})}function Hx(r,e,t,s){return Aa(this,void 0,void 0,function*(){return Pu(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function Xb(r,e,t,s,a){return Aa(this,void 0,void 0,function*(){return Pu(r,"DELETE",e,s,a,t)})}var Un=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};const $x={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fx{constructor(e,t={},s,a){this.url=e,this.headers=t,this.bucketId=s,this.fetch=Yb(a)}uploadOrUpdate(e,t,s,a){return Un(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},dE),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),m&&l.append("metadata",this.encodeMetadata(m)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl),m&&l.append("metadata",this.encodeMetadata(m))):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,m&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const p=this._removeEmptyFolders(t),v=this._getFinalPath(p),w=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:e,body:l,headers:d},c?.duplex?{duplex:c.duplex}:{})),b=yield w.json();return w.ok?{data:{path:p,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(l){if(an(l))return{data:null,error:l};throw l}})}upload(e,t,s){return Un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,a){return Un(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",t);try{let m;const p=Object.assign({upsert:dE.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const w=yield this.fetch(d.toString(),{method:"PUT",body:m,headers:v}),b=yield w.json();return w.ok?{data:{path:l,fullPath:b.Key},error:null}:{data:null,error:b}}catch(m){if(an(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,t){return Un(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const l=yield ps(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Wg("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(s){if(an(s))return{data:null,error:s};throw s}})}update(e,t,s){return Un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return Un(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(an(a))return{data:null,error:a};throw a}})}copy(e,t,s){return Un(this,void 0,void 0,function*(){try{return{data:{path:(yield ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(an(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,s){return Un(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield ps(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(an(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,s){return Un(this,void 0,void 0,function*(){try{const a=yield ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(an(a))return{data:null,error:a};throw a}})}download(e,t){return Un(this,void 0,void 0,function*(){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),c=l?`?${l}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield Uh(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(an(d))return{data:null,error:d};throw d}})}info(e){return Un(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Uh(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:eg(s),error:null}}catch(s){if(an(s))return{data:null,error:s};throw s}})}exists(e){return Un(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Hx(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(an(s)&&s instanceof Wm){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const d=typeof t?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(t?.transform||{});m!==""&&a.push(m);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return Un(this,void 0,void 0,function*(){try{return{data:yield Xb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(an(t))return{data:null,error:t};throw t}})}list(e,t,s){return Un(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},$x),t),{prefix:e||""});return{data:yield ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(an(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Gx="2.7.1",Kx={"X-Client-Info":`storage-js/${Gx}`};var vo=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};class Qx{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Kx),t),this.fetch=Yb(s)}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(an(e))return{data:null,error:e};throw e}})}getBucket(e){return vo(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(an(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(an(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return vo(this,void 0,void 0,function*(){try{return{data:yield qx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(an(s))return{data:null,error:s};throw s}})}emptyBucket(e){return vo(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(an(t))return{data:null,error:t};throw t}})}deleteBucket(e){return vo(this,void 0,void 0,function*(){try{return{data:yield Xb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(an(t))return{data:null,error:t};throw t}})}}class Yx extends Qx{constructor(e,t={},s){super(e,t,s)}from(e){return new Fx(this.url,this.headers,e,this.fetch)}}const Xx="2.52.0";let iu="";typeof Deno<"u"?iu="deno":typeof document<"u"?iu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?iu="react-native":iu="node";const Jx={"X-Client-Info":`supabase-js-${iu}/${Xx}`},Zx={headers:Jx},Wx={schema:"public"},eI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tI={};var nI=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};const rI=r=>{let e;return r?e=r:typeof fetch>"u"?e=jb:e=fetch,(...t)=>e(...t)},iI=()=>typeof Headers>"u"?zb:Headers,sI=(r,e,t)=>{const s=rI(t),a=iI();return(l,c)=>nI(void 0,void 0,void 0,function*(){var d;const m=(d=yield e())!==null&&d!==void 0?d:r;let p=new a(c?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),s(l,Object.assign(Object.assign({},c),{headers:p}))})};var aI=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};function oI(r){return r.endsWith("/")?r:r+"/"}function lI(r,e){var t,s;const{db:a,auth:l,realtime:c,global:d}=r,{db:m,auth:p,realtime:v,global:w}=e,b={db:Object.assign(Object.assign({},m),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},v),c),global:Object.assign(Object.assign(Object.assign({},w),d),{headers:Object.assign(Object.assign({},(t=w?.headers)!==null&&t!==void 0?t:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>aI(this,void 0,void 0,function*(){return""})};return r.accessToken?b.accessToken=r.accessToken:delete b.accessToken,b}const Jb="2.71.1",Do=30*1e3,tg=3,Em=tg*Do,uI="http://localhost:9999",cI="supabase.auth.token",hI={"X-Client-Info":`gotrue-js/${Jb}`},ng="X-Supabase-Api-Version",Zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dI=10*60*1e3;class ep extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Be(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class mI extends ep{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function gI(r){return Be(r)&&r.name==="AuthApiError"}class Wb extends ep{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ns extends ep{constructor(e,t,s,a){super(e,s,a),this.name=t,this.status=s}}class gs extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pI(r){return Be(r)&&r.name==="AuthSessionMissingError"}class sh extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ah extends Ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class oh extends Ns{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yI(r){return Be(r)&&r.name==="AuthImplicitGrantRedirectError"}class mE extends Ns{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rg extends Ns{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function wm(r){return Be(r)&&r.name==="AuthRetryableFetchError"}class gE extends Ns{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class ig extends Ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pE=` 	
\r=`.split(""),vI=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<pE.length;e+=1)r[pE[e].charCodeAt(0)]=-2;for(let e=0;e<jh.length;e+=1)r[jh[e].charCodeAt(0)]=e;return r})();function yE(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(jh[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(jh[s]),e.queuedBits-=6}}function eT(r,e,t){const s=vI[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function vE(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{wI(c,s,t)};for(let c=0;c<r.length;c+=1)eT(r.charCodeAt(c),a,l);return e.join("")}function _I(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function EI(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}_I(s,e)}}function wI(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function bI(r){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)eT(r.charCodeAt(a),t,s);return new Uint8Array(e)}function TI(r){const e=[];return EI(r,t=>e.push(t)),new Uint8Array(e)}function SI(r){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};return r.forEach(a=>yE(a,t,s)),yE(null,t,s),e.join("")}function AI(r){return Math.round(Date.now()/1e3)+r}function RI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Cr=()=>typeof window<"u"&&typeof document<"u",la={tested:!1,writable:!1},tT=()=>{if(!Cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(la.tested)return la.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),la.tested=!0,la.writable=!0}catch{la.tested=!0,la.writable=!1}return la.writable};function CI(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((s,a)=>{e[a]=s}),e}const nT=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Vu(async()=>{const{default:s}=await Promise.resolve().then(()=>Fo);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},DI=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Oo=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ua=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ds=async(r,e)=>{await r.removeItem(e)};class ef{constructor(){this.promise=new ef.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ef.promiseConstructor=Promise;function bm(r){const e=r.split(".");if(e.length!==3)throw new ig("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!fI.test(e[s]))throw new ig("JWT not in base64url format");return{header:JSON.parse(vE(e[0])),payload:JSON.parse(vE(e[1])),signature:bI(e[2]),raw:{header:e[0],payload:e[1]}}}async function OI(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function xI(r,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await r(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function II(r){return("0"+r.toString(16)).substr(-2)}function NI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,II).join("")}async function MI(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function VI(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await MI(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(r,e,t=!1){const s=NI();let a=s;t&&(a+="/PASSWORD_RECOVERY"),await Oo(r,`${e}-code-verifier`,a);const l=await VI(s);return[l,s===l?"plain":"s256"]}const PI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kI(r){const e=r.headers.get(ng);if(!e||!e.match(PI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function LI(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function UI(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Eo(r){if(!jI.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tm(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _E(r){return JSON.parse(JSON.stringify(r))}var zI=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t};const ha=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),BI=[502,503,504];async function EE(r){var e;if(!DI(r))throw new rg(ha(r),0);if(BI.includes(r.status))throw new rg(ha(r),r.status);let t;try{t=await r.json()}catch(l){throw new Wb(ha(l),l)}let s;const a=kI(r);if(a&&a.getTime()>=Zb["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new gE(ha(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new gs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new gE(ha(t),r.status,t.weak_password.reasons);throw new mI(ha(t),r.status||500,s)}const qI=(r,e,t,s)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),t))};async function Je(r,e,t,s){var a;const l=Object.assign({},s?.headers);l[ng]||(l[ng]=Zb["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await HI(r,e,t+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function HI(r,e,t,s,a,l){const c=qI(e,s,a,l);let d;try{d=await r(t,Object.assign({},c))}catch(m){throw console.error(m),new rg(ha(m),0)}if(d.ok||await EE(d),s?.noResolveJson)return d;try{return await d.json()}catch(m){await EE(m)}}function Ii(r){var e;let t=null;KI(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=AI(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function wE(r){const e=Ii(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function vs(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function $I(r){return{data:r,error:null}}function FI(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l}=r,c=zI(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l},m=Object.assign({},c);return{data:{properties:d,user:m},error:null}}function GI(r){return r}function KI(r){return r.access_token&&r.refresh_token&&r.expires_in}const Sm=["global","local","others"];var QI=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t};class YI{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=nT(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Sm[0]){if(Sm.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sm.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:vs})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=QI(e,["options"]),a=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:FI,redirectTo:t?.redirectTo})}catch(t){if(Be(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vs})}catch(t){if(Be(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,a,l,c,d,m;try{const p={nextPage:null,lastPage:0,total:0},v=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:GI});if(v.error)throw v.error;const w=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(m=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(C=>{const B=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(C.split(";")[1].split("=")[1]);p[`${P}Page`]=B}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(Be(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Eo(e);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vs})}catch(t){if(Be(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Eo(e);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:vs})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){Eo(e);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:vs})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Eo(e.userId);try{const{data:t,error:s}=await Je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:s}}catch(t){if(Be(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Eo(e.userId),Eo(e.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Be(t))return{data:null,error:t};throw t}}}function bE(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function XI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wo={debug:!!(globalThis&&tT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class JI extends rT{}async function ZI(r,e,t){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new JI(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(wo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}XI();const WI={url:uI,storageKey:cI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function TE(r,e,t){return await t()}const bo={};class Au{constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Au.nextInstanceID,Au.nextInstanceID+=1,this.instanceID>0&&Cr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},WI),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new YI({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=nT(a.fetch),this.lock=a.lock||TE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Cr()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=ZI:this.lock=TE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:tT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=bE(this.memoryStorage)),Cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=bo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=bo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=CI(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Cr()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),yI(l)){const m=(e=l.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Be(t)?{error:t}:{error:new Wb("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,a;try{const l=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ii}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,s,a;try{let l;if("email"in e){const{email:v,password:w,options:b}=e;let A=null,C=null;this.flowType==="pkce"&&([A,C]=await _o(this.storage,this.storageKey)),l=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:w,data:(t=b?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:A,code_challenge_method:C},xform:Ii})}else if("phone"in e){const{phone:v,password:w,options:b}=e;l=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(s=b?.data)!==null&&s!==void 0?s:{},channel:(a=b?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ii})}else throw new ah("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(l){if(Be(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:c,options:d}=e;t=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:wE})}else if("phone"in e){const{phone:l,password:c,options:d}=e;t=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:wE})}else throw new ah("You must provide either an email or phone number and a password");const{data:s,error:a}=t;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new sh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,a,l,c,d,m,p,v,w,b,A;let C,B;if("message"in e)C=e.message,B=e.signature;else{const{chain:P,wallet:q,statement:ae,options:G}=e;let ce;if(Cr())if(typeof q=="object")ce=q;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))ce=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ce=q}const le=new URL((t=G?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in ce&&ce.signIn){const U=await ce.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),ae?{statement:ae}:null));let I;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")I=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)I=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)C=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),B=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ce)||typeof ce.signMessage!="function"||!("publicKey"in ce)||typeof ce!="object"||!ce.publicKey||!("toBase58"in ce.publicKey)||typeof ce.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${le.host} wants you to sign in with your Solana account:`,ce.publicKey.toBase58(),...ae?["",ae,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(a=(s=G?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=G?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((c=G?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((d=G?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((m=G?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((p=G?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((w=(v=G?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...G.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const U=await ce.signMessage(new TextEncoder().encode(C),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=U}}try{const{data:P,error:q}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:SI(B)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Ii});if(q)throw q;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new sh}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:q})}catch(P){if(Be(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(e){const t=await ua(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(t??"").split("/");try{const{data:l,error:c}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ii});if(await ds(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new sh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(Be(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:s,token:a,access_token:l,nonce:c}=e,d=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Ii}),{data:m,error:p}=d;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new sh}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,a,l,c;try{if("email"in e){const{email:d,options:m}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await _o(this.storage,this.storageKey));const{error:w}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=m?.data)!==null&&t!==void 0?t:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:d,options:m}=e,{data:p,error:v}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(c=m?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:v}}throw new ah("You must provide either an email or phone number.")}catch(d){if(Be(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var t,s;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Ii});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,p=c.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,s,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await _o(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:$I})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new gs;const{error:a}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:c}=await Je(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:c,error:d}=await Je(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new ah("You must provide either an email or phone number and a type")}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Em:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await ua(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Tm()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,p,v)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,v))})}return{data:{session:e},error:null}}const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vs}):await this._useSession(async t=>{var s,a,l;const{data:c,error:d}=t;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gs}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:vs})})}catch(t){if(Be(t))return pI(t)&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new gs;const c=a.session;let d=null,m=null;this.flowType==="pkce"&&e.email!=null&&([d,m]=await _o(this.storage,this.storageKey));const{data:p,error:v}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:m}),jwt:c.access_token,xform:vs});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(Be(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gs;const t=Date.now()/1e3;let s=t,a=!0,l=null;const{payload:c}=bm(e.access_token);if(c.exp&&(s=c.exp,a=s<=t),a){const{session:d,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:m}=await this._getUser(e.access_token);if(m)throw m;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(Be(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:c,error:d}=t;if(d)throw d;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new gs;const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Cr())throw new oh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new oh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new mE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mE("No code detected.");const{data:ae,error:G}=await this._exchangeCodeForSession(e.code);if(G)throw G;const ce=new URL(window.location.href);return ce.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ce.toString()),{data:{session:ae.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:m,token_type:p}=e;if(!l||!d||!c||!p)throw new oh("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(d);let b=v+w;m&&(b=parseInt(m));const A=b-v;A*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${w}s`);const C=b-w;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,v);const{data:B,error:P}=await this._getUser(l);if(P)throw P;const q={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:b,refresh_token:c,token_type:p,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:e.type},error:null}}catch(s){if(Be(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ua(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return{error:l};const c=(s=a.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(gI(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=RI(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,a;try{const{data:{session:l},error:c}=t;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await _o(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(Be(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Be(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:a}=await this._useSession(async l=>{var c,d,m,p,v;const{data:w,error:b}=l;if(b)throw b;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",A,{headers:this.headers,jwt:(v=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return Cr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Be(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:c}=t;if(c)throw c;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(Be(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await xI(async a=>(a>0&&await OI(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ii})),(a,l)=>{const c=200*Math.pow(2,a);return l&&wm(l)&&Date.now()+c-s<Do})}catch(s){if(this._debug(t,"error",s),Be(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Cr()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ua(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Oo(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:Tm()}else if(a&&!a.user&&!a.user){const c=await ua(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await ds(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,a)):a.user=Tm()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Em;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Em}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),wm(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ef;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new gs;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),Be(l)){const c={session:null,error:l};return wm(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(m){l.push(m)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=_E(a);await Oo(this.storage,this.storageKey,l)}else{const a=_E(t);await Oo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ds(this.storage,this.storageKey),await ds(this.storage,this.storageKey+"-code-verifier"),await ds(this.storage,this.storageKey+"-user"),this.userStorage&&await ds(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Cr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Do}ms, refresh threshold is ${tg} ticks`),a<=tg&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const a=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await _o(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;return l?{data:null,error:l}:await Je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Be(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:c}=t;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:p}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((a=m?.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(t){if(Be(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return{data:null,error:l};const{data:c,error:d}=await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(t){if(Be(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;return l?{data:null,error:l}:await Je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Be(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=e?.factors||[],a=s.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=s.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:s,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=bm(a.access_token);let d=null;c.aal&&(d=c.aal);let m=d;((s=(t=a.user.factors)===null||t===void 0?void 0:t.filter(w=>w.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const v=c.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(d=>d.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+dI>a)return s;const{data:l,error:c}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:A,error:C}=await this.getSession();if(C||!A.session)return{data:null,error:C};s=A.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:m}}=bm(s);t?.allowExpired||LI(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!p){const{error:A}=await this.getUser(s);if(A)throw A;return{data:{claims:l,header:a,signature:c},error:null}}const v=UI(a.alg),w=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,TI(`${d}.${m}`)))throw new ig("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}}}Au.nextInstanceID=0;const e4=Au;class t4 extends e4{constructor(e){super(e)}}var n4=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(w){c(w)}}function m(v){try{p(s.throw(v))}catch(w){c(w)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(r,e||[])).next())})};class r4{constructor(e,t,s){var a,l,c;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=oI(e),m=new URL(d);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,v={db:Wx,realtime:tI,auth:Object.assign(Object.assign({},eI),{storageKey:p}),global:Zx},w=lI(s??{},v);this.storageKey=(a=w.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=w.global.headers)!==null&&l!==void 0?l:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(b,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=w.auth)!==null&&c!==void 0?c:{},this.headers,w.global.fetch),this.fetch=sI(t,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new wx(new URL("rest/v1",m).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),w.accessToken||this._listenForAuthEvents()}get functions(){return new ux(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Yx(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return n4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,storageKey:l,flowType:c,lock:d,debug:m},p,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new t4({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),p),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,flowType:c,lock:d,debug:m,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new kx(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const i4=(r,e,t)=>new r4(r,e,t),s4="https://xeyceubfzmgseeyhgied.supabase.co",a4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhleWNldWJmem1nc2VleWhnaWVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4NDg3MzYsImV4cCI6MjA2ODQyNDczNn0.8qyvAmUAh0HcEfLYbONqOFOnPoPcWqwGHpwV4Fem1vg",SE=i4(s4,a4),o4=()=>{const[r,e]=W.useState(null),[t,s]=W.useState(!1),[a,l]=W.useState(""),c=()=>Math.floor(1e5+Math.random()*9e5).toString(),d=async m=>{if(m.preventDefault(),!r||r.size===0){alert("Please select a valid file.");return}s(!0);const p=c(),v=`${p}/${r.name}`;try{const{error:w}=await SE.storage.from("shareup").upload(v,r,{cacheControl:"3600",upsert:!1,contentType:r.type});if(w){console.error(w),alert("Upload failed: "+w.message),s(!1);return}const{data:b}=SE.storage.from("shareup").getPublicUrl(v),A=b.publicUrl;await XO(Cb(Ub,"files",p),{fileName:r.name,url:A,createdAt:new Date}),l(p),alert("Upload successful!")}catch(w){console.error("Error:",w),alert("Something went wrong")}finally{s(!1)}};return xe.jsxs("div",{className:"w-screen h-screen flex flex-col justify-center items-center bg-green-50 p-6",children:[xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-md",children:[xe.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Send File"}),xe.jsxs("form",{onSubmit:d,className:"space-y-6",children:[xe.jsxs("div",{className:"space-y-2",children:[xe.jsx("label",{htmlFor:"file-input",className:"block text-lg font-semibold text-gray-700",children:"Choose a file to share"}),xe.jsx("div",{className:"relative",children:xe.jsx("input",{id:"file-input",type:"file",onChange:m=>e(m.target.files?.[0]||null),className:"w-full p-4 border-2 border-green-300 rounded-xl focus:border-green-500 focus:outline-none focus:ring-2 focus:ring-green-200 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-green-100 file:text-green-700 hover:file:bg-green-200"})}),r&&xe.jsxs("div",{className:"bg-green-100 p-3 rounded-lg",children:[xe.jsxs("p",{className:"text-sm text-green-800",children:[xe.jsx("span",{className:"font-medium",children:"Selected:"})," ",r.name]}),xe.jsxs("p",{className:"text-xs text-green-600",children:["Size: ",(r.size/1024/1024).toFixed(2)," MB"]})]})]}),xe.jsx("button",{type:"submit",disabled:t||!r,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-xl text-lg transition-colors duration-200 shadow-md hover:shadow-lg",children:t?xe.jsxs(xe.Fragment,{children:[xe.jsx("span",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):" Send File"})]})]}),a&&xe.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6 w-full max-w-md",children:xe.jsxs("div",{className:"text-center space-y-4",children:[xe.jsxs("div",{className:"bg-green-100 p-4 rounded-xl",children:[xe.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"File Uploaded Successfully!"}),xe.jsx("p",{className:"text-gray-600 mb-3",children:"Share this code with the recipient:"}),xe.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-green-300",children:xe.jsx("p",{className:"text-3xl font-mono font-bold text-green-600 tracking-widest",children:a})})]}),xe.jsx("button",{onClick:()=>navigator.clipboard.writeText(a),className:"inline-block w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-xl text-lg transition-colors duration-200 shadow-md hover:shadow-lg",children:"Copy Code"})]})})]})},AE=({label:r,navigateSite:e})=>{const t=GE(),s=()=>{t(e)};return xe.jsx("button",{className:"bg-green-300 p-8 rounded-4xl text-4xl font-semibold active:bg-green-400 ",onClick:s,children:r})};function l4(){return xe.jsxs("div",{className:"flex w-full h-screen flex-col justify-center items-center gap-8 bg-green-100",children:[xe.jsx(AE,{navigateSite:"/send",label:"SEND"}),xe.jsx(AE,{navigateSite:"/recieve",label:"RECIEVE"})]})}const u4=V1([{path:"/",element:xe.jsx(Q1,{}),children:[{path:"",element:xe.jsx(l4,{})},{path:"send",element:xe.jsx(o4,{})},{path:"recieve",element:xe.jsx(rx,{})}]}]);US.createRoot(document.getElementById("root")).render(xe.jsx(W.StrictMode,{children:xe.jsx(K1,{router:u4})}));
